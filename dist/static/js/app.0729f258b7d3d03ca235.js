webpackJsonp([1],{"+07k":function(t,e){},"+1Qe":function(t,e){},"+ZCo":function(t,e){},"+tSb":function(t,e,a){"use strict";var i=a("sisO"),n=a.n(i),s=a("dASZ");var o=function(t){a("dew6")},r=a("VU/8")(n.a,s.a,!1,o,"data-v-4331e337",null);e.default=r.exports},"/903":function(t,e){},"/ysT":function(t,e){},"/zgT":function(t,e){},0:function(t,e,a){a("j1ja"),t.exports=a("NHnr")},"0Bly":function(t,e){},"0giU":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("Wc9H"),n=a.n(i),s=a("IaZV"),o=a.n(s),r=new n.a({id:"icon-ubuntu",use:"icon-ubuntu-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" id="icon-ubuntu"><path d="M704 262.4c38.4 19.2 89.6 6.4 108.8-32 19.2-38.4 6.4-83.2-32-108.8-38.4-19.2-89.6-12.8-108.8 32-19.2 38.4-6.4 83.2 32 108.8z" fill="#CA0016" /><path d="M537.6 307.2c121.6 0 217.6 89.6 230.4 211.2h115.2c-6.4-83.2-44.8-166.4-102.4-224-32 12.8-64 6.4-96-6.4-32-25.6-44.8-51.2-51.2-83.2-32-6.4-64-12.8-96-12.8-51.2 0-102.4 12.8-153.6 32L441.6 320c32-6.4 64-12.8 96-12.8z" fill="#FE6309" /><path d="M697.6 812.8c-38.4 19.2-51.2 70.4-32 108.8 25.6 38.4 70.4 51.2 108.8 25.6 38.4-19.2 51.2-70.4 32-108.8-19.2-32-70.4-44.8-108.8-25.6z" fill="#FFB416" /><path d="M742.4 652.8c-57.6 102.4-192 147.2-300.8 96L384 844.8c76.8 38.4 160 44.8 243.2 25.6 6.4-32 25.6-64 57.6-76.8 32-19.2 64-19.2 96-6.4 19.2-19.2 38.4-44.8 57.6-76.8 25.6-44.8 44.8-96 44.8-147.2H768c0 25.6-12.8 57.6-25.6 89.6z" fill="#CA0016" /><path d="M140.8 448C96 448 64 486.4 64 531.2c0 44.8 32 83.2 76.8 83.2s76.8-32 83.2-76.8c0-51.2-38.4-83.2-83.2-89.6z" fill="#FE6309" /><path d="M339.2 652.8c-57.6-108.8-25.6-236.8 70.4-307.2l-57.6-96C281.6 294.4 230.4 364.8 211.2 448c25.6 19.2 38.4 51.2 38.4 89.6 0 32-19.2 64-44.8 83.2 6.4 32 19.2 57.6 32 89.6 25.6 44.8 64 89.6 102.4 115.2l57.6-96c-19.2-19.2-38.4-44.8-57.6-76.8z" fill="#FFB416" /></symbol>'});o.a.add(r);e.default=r},"1Bxz":function(t,e){},"1PHs":function(t,e){},"1ogP":function(t,e){},"1xYC":function(t,e){},"2aZx":function(t,e){},"2szk":function(t,e){},"30Aw":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("Wc9H"),n=a.n(i),s=a("IaZV"),o=a.n(s),r=new n.a({id:"icon-unlink",use:"icon-unlink-usage",viewBox:"0 0 1030 1024",content:'<symbol class="icon" viewBox="0 0 1030 1024" id="icon-unlink"><path d="M972.8 345.6l-140.8 140.8c-51.2 51.2-128 70.4-198.4 51.2l121.6-121.6s6.4 0 6.4-6.4L902.4 275.2c38.4-38.4 38.4-102.4 0-140.8-38.4-38.4-102.4-38.4-140.8 0L614.4 275.2 492.8 396.8c-19.2-70.4 0-140.8 51.2-192L684.8 64c76.8-76.8 204.8-76.8 288 0 76.8 70.4 76.8 198.4 0 281.6zM281.6 608L134.4 748.8c-38.4 38.4-38.4 102.4 0 140.8 38.4 38.4 102.4 38.4 140.8 0l140.8-140.8v-6.4l121.6-121.6c19.2 70.4 0 140.8-51.2 198.4L345.6 960c-76.8 76.8-204.8 76.8-288 0-76.8-76.8-76.8-204.8 0-288L198.4 531.2c51.2-51.2 128-70.4 192-51.2l-108.8 128z" /></symbol>'});o.a.add(r);e.default=r},"3Din":function(t,e){},"3JIR":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("Wc9H"),n=a.n(i),s=a("IaZV"),o=a.n(s),r=new n.a({id:"icon-cellphone",use:"icon-cellphone-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" id="icon-cellphone"><path d="M824 918.256c-88.864 67.728-198.656 105.696-312.016 105.696C229.648 1023.952 0 796.88 0 517.712 0 238.56 229.648 11.472 511.984 11.472c282.32 0 511.968 227.088 511.968 506.24 0 9.44-7.728 17.088-17.28 17.088-9.536 0-17.28-7.648-17.28-17.088C989.392 257.44 775.312 45.648 512 45.648 248.736 45.648 34.56 257.44 34.56 517.712 34.56 778.016 248.736 989.776 512 989.776c84.784 0 167.44-22.896 239.632-64.448-87.296-11.12-219.632-75.728-350.88-206.976C208.688 526.24 159.344 331.92 211.424 279.792c45.2-45.232 100.304-124.192 182.88-21.344 82.592 102.8 41.968 131.52-4.64 178.16-32.64 32.56 35.424 115.008 106.608 186.16 71.2 71.152 153.536 139.12 186.208 106.608 46.64-46.592 75.472-87.232 178.192-4.592 76.384 61.376 52.464 107.552 16.576 145.76a8 8 0 0 1-4.736 5.696c-6.288 6.176-12.704 12.16-19.28 17.984-4.8 4.56-9.488 9.024-13.856 13.392a55.168 55.168 0 0 1-15.36 10.64z" /></symbol>'});o.a.add(r);e.default=r},"3ZCl":function(t,e){},"3s8N":function(t,e){},"4+gD":function(t,e){},"46Sb":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("Wc9H"),n=a.n(i),s=a("IaZV"),o=a.n(s),r=new n.a({id:"icon-m_add_",use:"icon-m_add_-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" id="icon-m_add_"><path d="M256 512a32 32 0 0 1 32-32h448a32 32 0 1 1 0 64h-448A32.64 32.64 0 0 1 256 512z" fill="#333333" /><path d="M480 288a32 32 0 1 1 64 0v448a32 32 0 1 1-64 0z" fill="#333333" /><path d="M512 0a512 512 0 1 0 512 512 512 512 0 0 0-512-512z m0 960a448 448 0 1 1 448-448 448 448 0 0 1-448 448z" fill="#333333" /></symbol>'});o.a.add(r);e.default=r},"4Tlq":function(t,e){},"4j8m":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("Wc9H"),n=a.n(i),s=a("IaZV"),o=a.n(s),r=new n.a({id:"icon-linux",use:"icon-linux-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" id="icon-linux"><path d="M428.8 217.6zM940.8 857.6c-6.4-6.4-12.8-6.4-19.2-12.8 0 0-6.4 0-6.4-6.4-6.4 0-6.4-6.4-12.8-6.4s-6.4-6.4-12.8-12.8-6.4-12.8-12.8-19.2c0-6.4-6.4-12.8-6.4-25.6s-6.4-19.2-6.4-32c0 6.4-6.4 6.4-6.4 12.8v25.6c0 6.4 6.4 25.6 12.8 38.4 0 0 0 6.4 6.4 6.4 6.4 6.4 6.4 6.4 12.8 6.4 19.2 0 25.6 12.8 38.4 19.2l6.4 6.4V876.8c-6.4 6.4-19.2 19.2-64 32-6.4 0-6.4 0-12.8 6.4-6.4 0-12.8 6.4-12.8 6.4-6.4 6.4-19.2 6.4-19.2 12.8-6.4 0-12.8 6.4-19.2 12.8 0 0-6.4 0-6.4 6.4-6.4 6.4-19.2 12.8-25.6 19.2-12.8 12.8-25.6 19.2-51.2 19.2-12.8 0-19.2 0-25.6-6.4-6.4 0-6.4-6.4-12.8-6.4v-6.4c-6.4-6.4-6.4-12.8-6.4-19.2v-32c0-19.2 6.4-38.4 6.4-57.6 0-25.6-6.4-57.6-6.4-57.6-6.4-6.4-6.4-19.2-6.4-25.6v-6.4-25.6s0-25.6 12.8-25.6h12.8l6.4 6.4 6.4 6.4v6.4c0 6.4 6.4 12.8 6.4 19.2 0 6.4 6.4 6.4 6.4 6.4s6.4 0 6.4 6.4c6.4 0 6.4 6.4 12.8 6.4h12.8c12.8 0 25.6 0 32-6.4 6.4 0 6.4-6.4 12.8-6.4l12.8-12.8c6.4-6.4 12.8-12.8 12.8-19.2 6.4-6.4 6.4-6.4 12.8-6.4h6.4c6.4 0 6.4-6.4 12.8-12.8s6.4-19.2 6.4-32v-51.2c-6.4-32-19.2-70.4-32-108.8-19.2-38.4-38.4-70.4-57.6-96-38.4-38.4-64-83.2-76.8-121.6-12.8-44.8-19.2-83.2-19.2-121.6 0-25.6-6.4-51.2-19.2-83.2-12.8-32-32-51.2-51.2-70.4C588.8 19.2 576 12.8 556.8 6.4S512 0 492.8 0c-25.6 0-44.8 6.4-57.6 12.8-32 12.8-51.2 38.4-64 57.6-6.4 25.6-12.8 51.2-12.8 89.6 0 76.8 6.4 134.4 6.4 179.2 0 12.8-25.6 51.2-64 108.8-12.8 6.4-19.2 19.2-25.6 32s-12.8 19.2-19.2 32-6.4 25.6-12.8 44.8c-6.4 19.2-12.8 32-19.2 38.4 0 6.4-6.4 12.8-12.8 25.6 0 12.8-6.4 19.2-12.8 25.6 0 12.8-6.4 19.2-6.4 32v19.2c0 6.4 6.4 12.8 6.4 6.4h32c6.4 0 6.4 6.4 12.8 6.4h6.4l19.2 19.2c12.8 12.8 38.4 51.2 64 83.2 6.4 6.4 6.4 12.8 12.8 12.8 6.4 12.8 19.2 25.6 25.6 38.4 6.4 6.4 6.4 12.8 12.8 19.2v12.8c0 6.4 6.4 12.8 6.4 19.2 6.4 19.2 6.4 32 6.4 32 0 6.4 0 44.8-57.6 44.8s-89.6-19.2-160-32c-76.8-12.8-76.8-12.8-83.2-25.6-6.4-6.4 6.4-25.6 19.2-51.2v-12.8-6.4-12.8s0-6.4-6.4-12.8c0-6.4-6.4-6.4-6.4-12.8-6.4-6.4-6.4-12.8-6.4-19.2v-12.8l6.4-6.4h32c12.8 0 25.6 0 32-6.4 6.4 0 6.4-6.4 6.4-6.4 12.8-6.4 12.8-19.2 19.2-32v-19.2c0 12.8 0 25.6-6.4 32-6.4 6.4-12.8 12.8-25.6 19.2-6.4 6.4-19.2 6.4-32 6.4-19.2 0-25.6 6.4-32 6.4-6.4 6.4-6.4 6.4-6.4 12.8v19.2c0 6.4 6.4 12.8 6.4 25.6v25.6c0 6.4-6.4 12.8-12.8 32s-6.4 32-6.4 38.4c0 6.4 6.4 6.4 12.8 12.8s12.8 6.4 19.2 6.4 12.8 6.4 25.6 6.4c6.4 0 19.2 0 25.6 6.4 12.8 0 19.2 6.4 32 6.4 25.6 6.4 51.2 12.8 83.2 25.6s51.2 19.2 64 19.2c12.8 0 19.2 0 32-6.4s19.2-12.8 25.6-19.2 19.2-12.8 32-19.2c12.8-6.4 25.6-6.4 44.8-6.4h140.8c12.8 0 19.2 0 25.6 6.4 6.4 6.4 12.8 6.4 12.8 12.8s6.4 6.4 6.4 12.8c6.4 6.4 12.8 12.8 19.2 12.8 6.4 6.4 25.6 6.4 44.8 6.4 19.2 0 32-6.4 38.4-12.8 12.8-12.8 25.6-25.6 44.8-38.4s32-25.6 51.2-32c0 0 6.4-6.4 12.8-6.4 6.4-6.4 12.8-6.4 19.2-6.4s12.8-6.4 19.2-6.4 12.8-6.4 19.2-12.8l12.8-12.8c6.4-6.4 6.4-6.4 6.4-12.8v-12.8c0-6.4 0-6.4-6.4-12.8zM633.6 307.2s6.4 0 0 0h6.4l6.4 6.4c6.4 6.4 0 6.4 6.4 6.4h12.8s0 6.4 6.4 6.4v12.8c0 6.4-6.4 6.4-6.4 6.4-6.4 0-12.8-6.4-19.2-19.2-19.2-6.4-19.2-12.8-12.8-19.2zM563.2 83.2s0-6.4 0 0c6.4-6.4 6.4-12.8 6.4-12.8V64s0-6.4 6.4-6.4c0 0 6.4 6.4 12.8 6.4l6.4 6.4s6.4 0 6.4 6.4c0 0 0 6.4-6.4 6.4h-6.4-6.4s-6.4 0-6.4 6.4l-6.4 6.4h-6.4c-6.4-6.4-6.4-6.4 0-12.8 0 6.4 0 0 0 0zM288 512l6.4-6.4v-6.4-6.4h6.4v12.8l-6.4 6.4c-6.4 0-6.4 6.4-6.4 6.4-6.4 0-6.4-6.4 0-6.4z m364.8 403.2c-6.4 19.2-6.4 38.4-6.4 44.8-6.4 0-12.8-6.4-12.8-6.4 0-6.4 0-12.8 6.4-19.2 6.4-25.6 12.8-44.8 12.8-51.2 0-19.2 0-25.6-6.4-32-6.4 0-12.8 0-19.2 19.2-19.2 25.6-51.2 44.8-102.4 51.2-44.8 6.4-76.8 0-96-19.2h-12.8l-6.4-6.4v6.4s0 6.4 6.4 6.4 6.4 6.4 6.4 6.4c12.8 25.6 12.8 44.8-6.4 51.2 0-19.2 0-32-6.4-38.4 0-6.4-6.4-19.2-12.8-32s-12.8-19.2-19.2-25.6c12.8 0 19.2-6.4 25.6-12.8 6.4-6.4 6.4-12.8 6.4-25.6 0-6.4-6.4-19.2-12.8-19.2 0-6.4-12.8-19.2-44.8-44.8s-51.2-44.8-57.6-51.2l-12.8-12.8-12.8-12.8c-25.6-38.4-25.6-70.4-12.8-96v44.8c0 25.6 6.4 44.8 19.2 51.2 6.4 6.4 12.8 6.4 19.2 0 0 0 6.4-12.8 0-32s0-32 0-38.4c0-19.2 12.8-51.2 25.6-83.2s25.6-51.2 38.4-51.2c-6.4-19.2-6.4-25.6-6.4-38.4 0-12.8 6.4-25.6 12.8-32l19.2-38.4c6.4-12.8 6.4-25.6 6.4-32v-6.4c0-6.4 6.4 0 12.8 12.8 12.8 25.6 25.6 38.4 38.4 44.8 6.4 6.4 19.2 6.4 25.6 0 12.8-6.4 25.6-12.8 44.8-25.6 12.8-12.8 25.6-19.2 38.4-25.6h32C576 326.4 569.6 320 569.6 320h-6.4c-12.8 6.4-12.8 6.4-19.2 12.8h-6.4c-12.8 12.8-25.6 19.2-44.8 25.6H473.6 454.4 448c-12.8-6.4-19.2-12.8-19.2-12.8l-12.8-12.8h57.6c6.4 0 19.2-6.4 38.4-12.8h6.4s57.6-25.6 64-32v-6.4s0-6.4-6.4-6.4h-6.4s-6.4 0-6.4 6.4c0 0-6.4 6.4-25.6 12.8h-6.4c-6.4 0-12.8 6.4-19.2 6.4 0 12.8-6.4 12.8-6.4 12.8h-6.4c-6.4 6.4-12.8 6.4-19.2 6.4h-25.6s-12.8 0-19.2-6.4h-19.2s-6.4-6.4-6.4-12.8c-6.4 0-12.8-6.4-19.2-6.4-6.4-6.4-6.4-6.4-6.4-12.8s6.4-12.8 6.4-12.8 12.8-6.4 19.2-12.8c6.4 0 6.4-6.4 12.8-12.8l6.4-6.4 6.4-6.4v-12.8c0-6.4 0-12.8-6.4-19.2s0-19.2-6.4-19.2-12.8 0-19.2 6.4c-6.4 12.8-6.4 19.2-6.4 25.6 0 6.4 0 12.8 6.4 19.2l6.4 6.4c6.4 0 6.4 0 6.4 6.4s-6.4 6.4-6.4 6.4-6.4 0-6.4-6.4c-12.8-6.4-12.8-12.8-12.8-19.2v-19.2c0-12.8 6.4-25.6 6.4-32 6.4-12.8 12.8-19.2 25.6-12.8 12.8 0 19.2 6.4 25.6 19.2 6.4 12.8 6.4 32 6.4 51.2h25.6c12.8 0 12.8 6.4 19.2 6.4v-6.4c-6.4-57.6 12.8-83.2 51.2-83.2 6.4 0 12.8 0 12.8 6.4s12.8 0 19.2 6.4c6.4 6.4 6.4 12.8 12.8 19.2s0 12.8 6.4 25.6v19.2c0 12.8 0 19.2-6.4 19.2H576c-6.4 0 0-6.4 0-12.8 6.4-6.4 0-19.2 0-32-6.4-12.8-19.2-19.2-32-19.2-6.4 0-19.2 6.4-19.2 12.8-6.4 12.8-6.4 25.6-6.4 32v12.8l19.2 6.4c6.4 0 6.4 6.4 12.8 6.4 12.8 6.4 12.8 6.4 19.2 6.4 12.8 6.4 25.6 6.4 25.6 12.8v25.6c-6.4 19.2-6.4 32-6.4 38.4 0 6.4 6.4 12.8 6.4 25.6s6.4 12.8 12.8 19.2c6.4 6.4 12.8 19.2 19.2 32 6.4 12.8 12.8 38.4 19.2 57.6l6.4 6.4 6.4 6.4c0 6.4 6.4 6.4 6.4 12.8 6.4 6.4 6.4 12.8 12.8 25.6s6.4 25.6 12.8 38.4c6.4 19.2 6.4 38.4 6.4 64s0 38.4 6.4 44.8 12.8 12.8 19.2 12.8c12.8 0 25.6-6.4 25.6-25.6 12.8-44.8 0-96-32-160-12.8-25.6-25.6-38.4-32-44.8 12.8 6.4 25.6 19.2 38.4 44.8 12.8 19.2 25.6 38.4 25.6 57.6V652.8s0 12.8-6.4 12.8c19.2 6.4 32 19.2 32 25.6-6.4-6.4-19.2-12.8-32-12.8s-25.6 0-38.4 6.4c-12.8 6.4-19.2 19.2-19.2 32-12.8 0-25.6 6.4-32 12.8-6.4 12.8-12.8 25.6-12.8 38.4 0 19.2 0 38.4 6.4 57.6 6.4 19.2 6.4 32 6.4 44.8 6.4 6.4 6.4 19.2 0 44.8zM416 198.4c0-6.4 6.4-6.4 0 0 6.4-6.4 6.4 0 12.8 6.4v19.2c-6.4 0-6.4-6.4-6.4-12.8 6.4-6.4 0-12.8-6.4-12.8 6.4 0 0 0 0 0z m153.6 12.8c-6.4 0-6.4 0 0 0-6.4-6.4-12.8-12.8-19.2-12.8 0 0 0-6.4 6.4-6.4h6.4c6.4 0 6.4 6.4 6.4 6.4v12.8z" /><path d="M179.2 780.8c-6.4 0-6.4 0 0 0-6.4 6.4-12.8 12.8-25.6 12.8h-44.8-6.4s-6.4 0-6.4 6.4v12.8c0 6.4 0 12.8 6.4 19.2 0 0 6.4 6.4 6.4 19.2V870.4c0 6.4-6.4 12.8-12.8 25.6s-6.4 19.2-6.4 25.6c0 6.4 6.4 12.8 19.2 12.8 6.4 0 25.6 6.4 51.2 12.8s44.8 6.4 57.6 12.8c6.4 0 25.6 6.4 44.8 12.8 19.2 6.4 32 12.8 44.8 12.8 12.8 0 25.6 6.4 32 0 19.2 0 25.6-6.4 38.4-12.8 6.4-6.4 12.8-19.2 12.8-25.6 0-12.8 0-19.2-6.4-32v-12.8-6.4c-6.4-6.4-6.4-19.2-12.8-25.6-6.4-12.8-19.2-25.6-25.6-38.4-6.4-6.4-6.4-12.8-12.8-12.8-25.6-44.8-51.2-70.4-64-83.2l-19.2-19.2h-6.4c-6.4 0-6.4-6.4-12.8-6.4h-6.4-6.4c-6.4 0-12.8 0-12.8 6.4-12.8 0-12.8 12.8-12.8 25.6 0 19.2-6.4 25.6-12.8 38.4zM108.8 857.6v0zM140.8 793.6h-25.6 25.6z" fill="#F7C10D" /><path d="M268.8 729.6c12.8 12.8 32 44.8 64 83.2-25.6-32-51.2-64-64-83.2zM96 812.8v-12.8 12.8zM390.4 921.6c6.4 12.8 6.4 25.6 6.4 32-6.4 0-6.4-12.8-6.4-32zM102.4 832c-6.4-6.4-6.4-12.8-6.4-19.2 0 6.4 0 12.8 6.4 19.2zM377.6 896zM96 800l6.4-6.4-6.4 6.4zM339.2 832c6.4 12.8 12.8 25.6 25.6 38.4-6.4-12.8-12.8-25.6-25.6-38.4zM249.6 716.8l19.2 19.2c-6.4-12.8-12.8-12.8-19.2-19.2zM217.6 704h0zM236.8 704c6.4 0 6.4 6.4 12.8 6.4-6.4 0-12.8-6.4-12.8-6.4zM115.2 876.8v-6.4 12.8c-6.4 19.2-19.2 38.4-19.2 51.2 0-6.4 0-12.8 6.4-25.6s12.8-25.6 12.8-32zM339.2 998.4h-32c-12.8 0-25.6-6.4-44.8-12.8-19.2-6.4-32-12.8-44.8-12.8-12.8 0-32-6.4-57.6-12.8s-38.4-6.4-51.2-12.8c-12.8-6.4-19.2-6.4-19.2-12.8 6.4 12.8 6.4 12.8 83.2 25.6 70.4 12.8 96 38.4 153.6 38.4s57.6-38.4 57.6-44.8c0 12.8-6.4 19.2-12.8 25.6 0 12.8-12.8 19.2-32 19.2zM192 742.4c0 12.8-6.4 25.6-12.8 38.4 6.4-12.8 12.8-19.2 12.8-38.4zM825.6 742.4c-6.4 6.4-6.4 12.8-12.8 19.2 0 6.4-6.4 6.4-12.8 12.8-19.2 19.2-44.8 12.8-44.8 12.8h-12.8-6.4s-6.4 0-6.4-6.4c0 0-6.4 0-6.4-6.4s-6.4-6.4-6.4-6.4-6.4-6.4-6.4-12.8v-6.4s0-6.4-6.4-6.4c0-6.4-6.4-6.4-6.4-6.4s0-6.4-6.4-6.4-6.4-6.4-12.8 0c-6.4 0-12.8 12.8-12.8 25.6v32c0 6.4 0 19.2 6.4 25.6 6.4 12.8 6.4 32 6.4 57.6v25.6c0 12.8 0 19.2-6.4 32-6.4 25.6 0 38.4 6.4 51.2 0 0 0 6.4 6.4 6.4 6.4 6.4 6.4 6.4 12.8 6.4 6.4 6.4 19.2 6.4 25.6 6.4 19.2 0 32-6.4 51.2-19.2l19.2-19.2s6.4 0 6.4-6.4c0 0 6.4 0 6.4-6.4 6.4-6.4 12.8-6.4 19.2-12.8 6.4-6.4 12.8-6.4 19.2-12.8 6.4 0 12.8-6.4 12.8-6.4 6.4 0 12.8-6.4 19.2-6.4 19.2-6.4 32-12.8 44.8-19.2 6.4-6.4 6.4-6.4 6.4-12.8v-6.4-6.4-6.4s0-6.4-6.4-6.4l-6.4-6.4c-6.4-6.4-19.2-6.4-32-12.8-6.4 0-12.8-6.4-12.8-6.4s0-6.4-6.4-6.4c0-6.4-6.4-6.4-6.4-12.8-6.4-12.8-6.4-19.2-6.4-25.6v-6.4-25.6c0-6.4 6.4-6.4 6.4-12.8 12.8-12.8-6.4-32-19.2-19.2H832c6.4 12.8 0 19.2-6.4 25.6z" fill="#F7C10D" /><path d="M883.2 915.2c-6.4 0-12.8 6.4-19.2 6.4 6.4 0 6.4 0 12.8-6.4 44.8-12.8 57.6-25.6 64-32 0 0-6.4 6.4-6.4 12.8-19.2 6.4-32 12.8-51.2 19.2zM672 806.4s6.4 32 6.4 57.6c0-19.2-6.4-38.4-6.4-57.6zM684.8 723.2c-12.8 6.4-12.8 25.6-12.8 25.6 0-12.8 0-19.2 12.8-25.6zM716.8 768c0-6.4-6.4-12.8-6.4-19.2v6.4c0 6.4 6.4 6.4 6.4 12.8zM723.2 774.4c-6.4 0-6.4-6.4-6.4-6.4s6.4 0 6.4 6.4zM812.8 755.2l-12.8 12.8c6.4 0 12.8-6.4 12.8-12.8zM819.2 940.8s6.4 0 0 0c6.4 0 6.4 0 0 0zM928 864c-6.4-6.4-19.2-12.8-38.4-19.2 12.8 6.4 19.2 6.4 32 12.8l6.4 6.4zM672 921.6v32c0 6.4 6.4 12.8 6.4 19.2-6.4-12.8-12.8-32-6.4-51.2zM768 979.2c-12.8 12.8-32 19.2-51.2 19.2 25.6 0 44.8-12.8 51.2-19.2zM844.8 928zM800 953.6zM934.4 876.8s0 6.4 0 0c0 6.4 0 0 0 0zM934.4 870.4zM864 748.8s-6.4 6.4-6.4 12.8c0-6.4 6.4-12.8 6.4-12.8zM684.8 723.2h12.8-12.8zM697.6 729.6l6.4 6.4s-6.4 0-6.4-6.4zM812.8 755.2c6.4-6.4 6.4-12.8 12.8-19.2 0 6.4-6.4 12.8-12.8 19.2zM691.2 985.6c-6.4 0-6.4-6.4-12.8-6.4 6.4 6.4 12.8 6.4 12.8 6.4zM672 806.4c0-12.8-6.4-19.2-6.4-25.6 0 12.8 0 19.2 6.4 25.6zM665.6 774.4v-25.6 25.6zM742.4 780.8c-6.4 0-6.4 0-12.8-6.4 6.4 6.4 6.4 6.4 12.8 6.4-6.4 0 0 0 0 0zM844.8 729.6s-6.4 0 0 0c-6.4 0-6.4 0 0 0zM870.4 825.6c-6.4-12.8-12.8-32-12.8-38.4 0 6.4 0 19.2 6.4 25.6 0 6.4 6.4 12.8 6.4 12.8zM876.8 832zM595.2 307.2v-12.8h-12.8l-6.4 6.4c-6.4 0-19.2 6.4-32 12.8-19.2 6.4-25.6 6.4-25.6 6.4s-19.2 12.8-44.8 12.8h-57.6l12.8 12.8c6.4 6.4 12.8 12.8 19.2 12.8h44.8c6.4 0 12.8-6.4 19.2-6.4 6.4 0 12.8-6.4 19.2-12.8 0 0 6.4 0 6.4-6.4h12.8c6.4 0 12.8-6.4 12.8-6.4l32-19.2zM473.6 339.2H448h25.6z" fill="#F7C10D" /><path d="M512 352c-6.4 0-12.8 6.4-19.2 6.4 19.2-6.4 32-12.8 44.8-25.6 0 0-6.4 0-6.4 6.4-6.4 6.4-12.8 6.4-19.2 12.8zM544 332.8c6.4 0 12.8-6.4 19.2-6.4-6.4 0-12.8 0-19.2 6.4zM422.4 339.2s6.4 12.8 12.8 12.8c-12.8-6.4-12.8-12.8-12.8-12.8zM486.4 358.4s-6.4 0 0 0c-6.4 0 0 0 0 0zM595.2 294.4v6.4-6.4zM422.4 339.2s0-6.4 0 0c6.4 0 0-6.4 0 0zM467.2 358.4h-12.8 12.8z" fill="#F7C10D" /><path d="M448 358.4c-6.4 0-12.8-6.4-12.8-6.4-6.4-6.4 0 0 12.8 6.4zM569.6 300.8c6.4 0 6.4 0 6.4-6.4l-57.6 25.6s6.4 0 19.2-6.4c12.8-6.4 25.6-12.8 32-12.8z" fill="#F7C10D" /><path d="M576 281.6l6.4 6.4h19.2v-6.4-12.8c0-6.4-12.8-12.8-25.6-12.8h-19.2c-6.4 0-12.8-6.4-12.8-6.4-6.4-6.4-12.8-12.8-19.2-12.8s-12.8 0-19.2-6.4c-6.4-6.4-12.8-6.4-25.6-6.4h-19.2-6.4l-12.8 6.4c-6.4 6.4-12.8 6.4-19.2 12.8-6.4 6.4-6.4 12.8-12.8 12.8-12.8 6.4-12.8 6.4-12.8 12.8-6.4 0-6.4 6.4-12.8 12.8 0 6.4 0 6.4 6.4 12.8 6.4 0 6.4 6.4 12.8 12.8s6.4 12.8 6.4 12.8l6.4 6.4c6.4 0 12.8 0 19.2 6.4h25.6c25.6-12.8 32-12.8 38.4-12.8h6.4c25.6-12.8 6.4 0 32-12.8h6.4c6.4 0 6.4-6.4 12.8-6.4s12.8-6.4 12.8-12.8 0 0 6.4-6.4c-6.4 0-6.4 0 0 0z m-121.6-44.8c-6.4 0-6.4 0-12.8 6.4 0 6.4-6.4 6.4-6.4 6.4v-6.4c6.4-6.4 6.4-6.4 19.2-6.4z m44.8 6.4s-6.4 0-6.4-6.4c0 0-6.4-6.4-12.8 0 12.8-6.4 19.2-6.4 19.2 6.4 6.4-6.4 6.4 0 0 0z" fill="#F7C10D" /><path d="M480 224c6.4 0 12.8 0 19.2 6.4 0 0 0-6.4-19.2-6.4h-19.2 19.2zM499.2 243.2zM499.2 320h-19.2 19.2zM441.6 326.4c-6.4 0-12.8-6.4-12.8-6.4 6.4 6.4 12.8 6.4 12.8 6.4zM524.8 236.8zM595.2 275.2v0c0-6.4-12.8-12.8-25.6-12.8-6.4-6.4-6.4-6.4-12.8-6.4h12.8c19.2 6.4 25.6 12.8 25.6 19.2zM595.2 294.4v-6.4 6.4zM422.4 320l-6.4-6.4 6.4 6.4zM441.6 236.8h12.8-12.8v0h12.8-12.8zM467.2 326.4H448h19.2zM569.6 281.6zM441.6 230.4l-6.4 6.4-6.4 6.4c0-6.4 6.4-6.4 12.8-12.8zM537.6 307.2c19.2-6.4 25.6-12.8 25.6-12.8 0 6.4-6.4 6.4-12.8 12.8 0-6.4-6.4-6.4-12.8 0zM544 249.6c6.4 0 0 0 0 0s-19.2-12.8-19.2-6.4c6.4-6.4 12.8 0 19.2 6.4zM396.8 268.8s6.4 0 12.8-6.4c-6.4 0-12.8 6.4-12.8 6.4s-6.4 6.4-6.4 12.8 0 6.4 6.4 12.8c-6.4-6.4-12.8-6.4-12.8-12.8 6.4-6.4 6.4-12.8 12.8-12.8zM454.4 224zM486.4 236.8c6.4-6.4 12.8-6.4 19.2 0v0c-6.4-6.4-12.8-6.4-19.2 0zM454.4 236.8z" fill="#F7C10D" /><path d="M499.2 243.2zM441.6 236.8c-6.4 0-6.4 6.4 0 0v6.4c-6.4 6.4-6.4 0 0-6.4-6.4 6.4-6.4 0 0 0zM486.4 236.8h6.4l6.4 6.4s-6.4 0-6.4-6.4h-6.4z" /><path d="M486.4 236.8h12.8l6.4 6.4v-6.4c-6.4-6.4-12.8-6.4-19.2 0zM454.4 236.8zM454.4 236.8h-12.8v6.4l6.4-6.4h6.4z" /></symbol>'});o.a.add(r);e.default=r},"4zCi":function(t,e){},"5uQl":function(t,e){},"65Yj":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("Wc9H"),n=a.n(i),s=a("IaZV"),o=a.n(s),r=new n.a({id:"icon-Ingress",use:"icon-Ingress-usage",viewBox:"0 0 1243 1024",content:'<symbol class="icon" viewBox="0 0 1243 1024" id="icon-Ingress"><path d="M598.4 771.2c7.199 7.199 14.4 7.199 21.599 7.199s21.599 0 21.599-7.199l280.799-280.801c7.201-7.199 7.201-14.4 7.201-21.601s-7.201-21.599-7.201-21.599c-14.4-14.4-36.001-14.4-50.399 0l-223.199 216v-554.399c0-21.601-14.4-36.001-36.001-36.001s-36.001 14.4-36.001 36.001v554.399l-223.199-216c-14.4-14.4-36.001-14.4-50.401 0-7.199 7.199-7.199 14.4-7.199 21.599 0 7.201 7.199 21.601 7.199 21.601l295.199 280.799z" /><path d="M1131.2 713.6c-21.601 0-36.001 14.4-36.001 36.001v108.001c0 14.4-7.201 21.599-21.601 21.599h-907.2c-14.4 0-21.599-7.199-21.599-21.599v-108.001c0-21.599-14.4-36.001-36.001-36.001s-36.001 14.4-36.001 36.001v108.001c0 50.399 43.2 93.599 93.599 93.599h907.2c50.399 0 93.601-43.2 93.601-93.599v-108.001c0-21.599-14.4-36.001-36.001-36.001z" /></symbol>'});o.a.add(r);e.default=r},"6Q5l":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("Wc9H"),n=a.n(i),s=a("IaZV"),o=a.n(s),r=new n.a({id:"icon-ebs",use:"icon-ebs-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" id="icon-ebs"><path d="M940.8 563.2l-377.6 172.8c-38.4 12.8-51.2 12.8-83.2 0L102.4 563.2c-19.2-12.8-25.6-51.2-25.6-70.4 25.6 12.8 57.6 32 57.6 32l384 179.2 384-179.2s32-19.2 57.6-32c6.4 19.2 0 64-19.2 70.4z m0-179.2L563.2 556.8c-38.4 12.8-51.2 12.8-83.2 0L102.4 384c-32-12.8-25.6-64 0-83.2l377.6-198.4c32-19.2 51.2-19.2 83.2 0l377.6 198.4c25.6 12.8 25.6 70.4 0 83.2z m-422.4 492.8l384-179.2s32-19.2 57.6-32c0 19.2-6.4 64-25.6 70.4l-377.6 172.8c-38.4 12.8-51.2 12.8-83.2 0l-377.6-172.8c-19.2-12.8-25.6-51.2-25.6-70.4 25.6 12.8 57.6 32 57.6 32l390.4 179.2z" /></symbol>'});o.a.add(r);e.default=r},"6WzG":function(t,e){},"7Otq":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAALcAAAB1CAYAAAAMTnAgAAARKklEQVR4nO2de7xVZZnHv2dzEzNBcRRFkEBwQhBH8xqGYqSjYiVqKlrG2HhtatSa0mS1PmQGltHkTKmZU5Z5ySlNTMeRME0bSjteMypNA++DwBGQ6+mP3956OJy932dd91r7vN/PZ/9xzn7Xu559zrPf9bzP+1zaOjs7aSZhGCa6PgiClCSpywjgPcB4YHj15xHA9sAAYFCXsRuAVcAbwFLgRWAJ8ATwFPA48HrWAvcmGulP3xzlKAujgKOAI4ADgR0iXNsXKfsgYFidMU8CDwC/AO4CVsSW1NMQr9xiJPBR4FRgTMb32rP6OhNYh5T8FuBmoCPje/cqKs0WoIm0AccCC4BngJDsFbs7/dET4jvAC8DVwMScZWhZeqNy90Gr9BPAbcBhSNGbzTbAJ4B2ZK5Maq445ae3KfcU4HfA94BxTZalEUcA9wM/RyaMJwa9RbmHAT8B7gUmNFmWKBwJPApcCWzbZFlKR29Q7hnIQ/GhZgsSkz7AuciM+scmy1IqWtlb8k7gu8DxGcy9EvmxVwBrqj8PAAZWXzsDQ4F+Kd5zOHAncBXwaeDNFOduSVpVuccCPwXencJcTyJ3XXv1tRi7y24Ysu0nAPsDhwI7JZTnTOR/PwH4Y8K5WppWVO6pyG88yDWwDpuAhcCNwM+AlxLIsrT6uqfL7/YEjkNPlL1izjsRWFSd494E8rU0rWZzHw/MJ55iLwPmAO8CDgeuIZli1+NJYDZS0H+o3mdVjHkGI2/KzPREay1aSbnPAG4iup27AvgCsBvwOeD5lOVqRDvwz+iEdA6KSYlCP+BaJLenG62i3KeiFTDq57kGxZJcSnTFSpPXkIKOrsoUNZrtMmBW2kKVnVZQ7mPRoUwUngEOQavmstQlis8rSKb9kfkShRA9gTxVSq3cQRAcjDaPUT7HjcjWfSATodLht8C+yFSJwmzgrPTFKSelVe4gCIYD/42CjyxsAi4ETkZ+6aKzFpkqxwDLI1z3H8CHM5GoZJRSuYMgGIj82Faf8RrkfvtaZkJlx3xgP+BPxvEV4Afo6dSrKaVyA98A9jGOXYlWv9uyEydz/gQcjHzbFrZGn3fHzCQqAaVT7iAIjkOhoRbWIMVekJ1EufEq8H50WmphOFrBS/c/TotSffAgCIahwH4L65HteX92EuVOB/qyWjfDU4GLshOn2JTt+P1bwHbGsWcBd2coS7NYDUxDX9rxhvEh8L/Ar3t4rx+Ke9mrOtcu6HR3W2Aj8v13oBiWxcDDwO+TiZ8fpVHuIAimo3+qhctRRGCrshyFv/4fUshGVID/QnuU1cA7UJjCNLSyR40Tfxn4H+RSvRt9CQpJKZQ7CIJBKGDfwkLg89lJUxiWILPrlyjcthF7AP+JQg1OJ1niw07AadXXy+hp+g2iuStzoSw298UoPtrFK8iPXdjVJGUWAWcbx34M+BfSzejZCfgi8Bf0P3J9yXKl8ModBMFI9E+xMJNsIvmKzHXAD5sswyDgS8BjKGa9EBReuYEvY1sRrkYHHr2Rs4E/N1sIlCRyLwriarpuNV2ARgRBMA44yTB0KfCZjMUpMh3APzVbiCoV5KH5CTpMaqogRWYWtpoin6Qc8SJZch/aNBaFY5E3JW5GVGIKq9zVVftEw9D5aJXw6MDm1RTmWYNKvSVlEkrVG5jCXJEphCswCILBKIZ5IsoxHIWSe12r9gbgX7OVrlSsAC4Bvh3hmqdRVv19qHzE8+jvCoq43B0d8ExBvnGXX707h6AN73SiJ2Ekoq1JJYz7Au8DjkbxEhOIV9LsSmSSeN6mD6qq1aj4UCcqvPnvwIMR556KQnEnR5Tr88BXIl7jpFEJ47zNkgORV+MVtKs+Hx39xlHsN5EnxbM5G5HPuR4Po3rjJxFNsWtz34Xcfccg/7aV2cABEe+XiDyUuz/ayT8KPIQi+qzxIY24OgzDF1OYpxW5AxW7786X0ALzSAr3mI8WppuN4/uihS03UzhL5e4PfArlK36H+DU6emITMC/F+VqNThRfU2MjOrm9hLft6TToQE+AS43j9wLOSfH+DclKuU9AG5V51O8wkITbwzB8NoN5W4kbgGfRQvAxFOiUBZ0oMfky4/hZ5OQ9SVu5d0fVlW5GxW2y4toM524V1gF7I89THsfzF6NkbRdDUEm4zElLudvQ46YdeT+y5K9oU+NxsxJ4Lqd7daL9lOV+55FDwf80jPvtUfDOsSnM1ZVlyF5/Ffh/ZDeuAq4KwzBNu9GTHitQkJsrX3U0cBDRvTWRSKrc49EHGZVwnjUoLnkB8BugPQxD39KunNwO/Ap4r2PcKRRYuT8A/BjVwY7DGlR35AfAwjAMfb3p1mEOUvJGZG2+xlbuGcgUiVNc/Vngq8D1QEfSJqueQnInytJpVFdmD5SAkln8fZwN5Qzg+0RX7L9Urx2Lotd8z8XWZSO2OjH7ZSlEVOU+ESl2lOtWo2i1dyPfq98M9g4s9VUy7fsZxSw5jOhFXn6FEkn9gUvv4zHDmLFZCmBV1D3Q5s9qimxCTv3JeMXurVhqG2aayGBZubdByQCDjXOuRHEMd8YVytMSrEMesUZH7XE9bSYsyv1t7F3BlqJ439JUJfJkynoaK3emMSYu5Z5RfVlYiuJ8raV2Pa1NG+4aKZl6zBrZ3ENRpoaFF9BxqldsT42dDWMOB76J0gtTp5Fyz0NxIy7eQOlif01FIk+rMM4wZhsURNWOyuAdmaYA9ZR7MvARw/Wd1XHtqUnkaRWippRNRn01H0TJ4onpSbnbgK8br5+D94p4euaomNcdhKrXXkfCdMSelPsEbP1UHkJpSx5Pd96FlDQJp6NSE7FNle7K3UbjzOka61HHXn+U7umJs0knGWEXZKrMJkYcVPcLjsSWyHs5PWdXezygjWKafAGF0EaqPdhduc8zXPMSKhHg8dTjHHRAMxotmJ9FUYJJElCORsksZju8q3KPRK0oXMxBx6oeTyPeRGmCd6Mn/YeAv0NJCtcST4cOQBlbJgXvqtwzcNtJSyhWJVFPudiIKo2dAeyKQqFXRJxjPPLQOU2Ursp9imHib5FO9U+PZxmqdTISHRhGafVyIKrD0nAxrin3GNwnShto7Q5hnuawHFXqPQD4Q4TrpgFBowE15T7aMNkd9L5+M2VlEgpTPq7ZgkTgYWBflK1lJQiCYGq9N2vKbclE/nGEm3qax67AT9EG7kdIYcrCKuBU1CHNyner9d23oILslkmOCTbgj9nLQD9kiw6p/twflbZrWuuOGHSinjr/Zhy/K6qmsAUVlELm+vAPksxH6cmHy9iyGM4oyllbcS72FXxmEARbPKEqqFiii576hnuKxTTggjrvTQc+naMsaRGipHQXbaiL8WZUsMXdPhRRKE++jAS+5xgzl5RCSXPmLOBJw7j3BkEwpesvKtjS638XRypPLtTsatepXT/gJsO4olHbZFr84JtFqVaAEY4LNqCTSU8xmYu9ctNIVFQp8/LBKdNOnU1jNw4NguCtRlcVlCvZiOeIdnrkyY/pqDVLFI6hvm1eZL4MvGYY91Yn5QruPMkXkkjkyYzRxD8xvgw4OEVZ8mAltlZ/pwVB0Bek3C434BtJpfKkzgBkZ7tKJ9Sjb/X6HVKTKB+uxh1otT3VcxtLdoMPby0e84B9Es4xDJWRLpP93YGtv88HwabcPgqwWJyE3GNpcCTq7Fsmvm8YcxjYlDvtlCFPfMYA16Q852yit7puJosAV3PdCUEQbFPBvTJnWqzQY2YgqrSb9mJTQQFWO6Y8b1Z0ouyeRlSA/SqoU1gjrNVdPdnyTZSFkgU7o1DTPhnNnzaWRlF7VFArvEbsloIwnmR8lC7+24w4nPLUoXnYMGZMBXeNv8EosdPTHPZE6X15cAlS8qJjKbg6ooIaMbn4+2SyeBJwARHrdSSggmqEFJ2VuP3d21WwFYrPpMSsx8R8YG1O99qEu39kUVjueH9IBXjcMNGhyWXxxORWYCt02NLo9ahjnscNc/TBXgS12bjCsPeuAI+gb2wjphCvZ6UnP7ZyvO/6H7ccFRQ74vrWb0fy415PtqxyvP+OXKTIjyGuAbXVeKFhspMTieLJGld/mbhBVkXFFardUVPuuwyTnUJ5nPy9EdcGa0eitzQvKm3A7o4xr9eU+z7kXmnEUOADSaXyZIYl7n505lLkw2642/wtqSn3WmwuoAsTieTJEkspMkvt9TJg6bfzXFcPiCWFfgoqQugpHosNY1rlf3eIYczjXZX7HuB5w0UXxZPHkzGW8wpL2bwyYKlt+duuyr0JtcJ2MQ1/qFNElgB/doyZgJoxlZmJKIvfxaLuBzNX4faXgjoLt8rOu5VYaBhTdpfuxw1j2sMwXNFduZdh65wwAfU58RSLBYYxn6C8p81bA6cZxt0GPX/IudhW7y9SrvK4vYGf4U7oHonKG5eRmdhatt8OPSv3a0jBXdTKA5StPFcr04Fqc7uYRflW74HYkpmfplr+r94HvByb52QUyr/zJ5fF4XrDmInYbNcicSFquuriqjAMO6G+cq8BzjXe9AjkZSlT/YtW5m5sMfpfoTwZVmOwuaDfpEvph0aPpjvQqmzhDGylrjzZswn1CnWxA/KOFZ3tUdk4V0gvaNVeVvvBZXedg73C62dRJSS/gjefH6ICpi4+TPRCmnmyFSqA6WprA1q1N/tSu5R7OYoG3GAU5lOoRMAA43hPNmwALjaOvQJb5+i86YNa+J1pHP/1MAw3K9Zj2THfD3wmglAnoRbGwyJc40mfG7DV96igVLYproE50gft+ULj+OeBS7v/0uoOmocqbFrZH2X3fDDCNZ506UQHNpZajwPRHqsIIc39USezudhPwc8Nw3CLs5kovs7z0B/AyhDkc72e8pXKbRWewh7oVlNwqxmQBdshG3s2dtP22jAMe9TLKMq9HvgI8IsI14D6mfwR2U+uAHNP+lyBvYdoP+TWvQnbSWCaTERh1xdg18sngE/WezPqKdVq1HYiqoIPRn/kZ4Dz8ZVj86STtxcYKyeiENrpZO/92hotfPOBoyJctwI4PgzDuuEGcY5gV6N42ltjXDsU+BpyU11JOVvHlZHX0aJk6SlTYxfUEv0B4H0ZyNQXOAHl715BNAfEWhR63TD7qK2zszOucH2Q0X9+3AmqPI2+tQuAX4ZhGKlNSRAECW/fq9gX/Z3jZMK3o4jRG3Fn2jdiR2TengwcFOP6jdXrbwUIw/oOlSTKXeM05EmxnCC52IjsqD8gpV+MEpc70GMosbAtwiqUmBCn0M4BaDFx1v2ow3rkHp4P/AaZL40y7wehLtWHIHfjZOIHba1Dq/1b+b5ZKzeoC/GNKM7bkw8vorDjKC7aGuOAn+PuQWrlJeAVpOQdaE+1LTCc9DxlHShUd7OY9UbK3TelGz+FGn3OQj5KHyWYPTuj2JDB2EKUu/IUWsFvxpZs62Io7iI5Sfg9ChWwZPi/RZoxvWvRke8+6LHlyYeQeKvjS6gW9xyKbe7dgL6IkRQbsglYfwzZVSdiC730JGMr4idsrwc+h/5fkZUnY15Gq/UMYm5gs8rG6ARuQUVgZiCF92RH0sOx+9EhykU0v6nuOuQaHIctq6guWacabUCPlb1Rb8AfkV8h9d6EpWaJi7WobfYIZOq4OhekzTrgOmAsOqVc1ni4m7zy6DpR2YFTgJ2A01GG8uqc7t/K3IN80GnxOvLCDEchzI+kOHdPvNDlfjOxxaGbSMsVGJcByJE/CW0a9gZ2baZAJWMROnl0daRLyp4olHkq8B6Se8MWoyCtW9BniF0YPw8/d2y6CxcEwSCUeLwbWuV3QAE9vh/m26xBsdp3ooOvPHknch+OR43AxqIFadvqezX38gp02LQUxbU8g54CD5Dil7GRcv8NsAlKUtZ5KFgAAAAASUVORK5CYII="},"7QmV":function(t,e){},"7UPl":function(t,e){},"8ASg":function(t,e){},"8EXL":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("Wc9H"),n=a.n(i),s=a("IaZV"),o=a.n(s),r=new n.a({id:"icon-tel",use:"icon-tel-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" id="icon-tel"><path d="M936.8864 353.92A448 448 0 0 0 512.5664 33.92a448 448 0 0 0-424.32 320 229.12 229.12 0 0 0 59.52 394.88 442.88 442.88 0 0 0 300.8 192 67.84 67.84 0 1 0 3.2-44.8 396.16 396.16 0 0 1-237.44-134.4h8.96a90.24 90.24 0 0 0 88.96-90.88V398.08A90.24 90.24 0 0 0 223.2864 307.2 217.6 217.6 0 0 0 147.7664 320a396.16 396.16 0 0 1 729.6 0 217.6 217.6 0 0 0-75.52-13.44 90.24 90.24 0 0 0-88.96 90.88v273.28a90.24 90.24 0 0 0 88.96 90.88A225.28 225.28 0 0 0 1024.5664 535.04a228.48 228.48 0 0 0-87.68-180.48zM512.5664 896a23.04 23.04 0 1 1-22.4 23.04A22.4 22.4 0 0 1 512.5664 896zM267.4464 398.08v273.28a44.8 44.8 0 0 1-44.8 45.44 182.4 182.4 0 0 1 0-364.16 44.8 44.8 0 0 1 44.8 45.44z m534.4 320a44.8 44.8 0 0 1-44.8-45.44V398.08a44.8 44.8 0 0 1 44.8-45.44 181.76 181.76 0 0 1 0 364.16z m0 0" /></symbol>'});o.a.add(r);e.default=r},"8Xd6":function(t,e){},"8tHC":function(t,e,a){t.exports=a.p+"static/img/user.9f2928a.png"},"8uFK":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("Wc9H"),n=a.n(i),s=a("IaZV"),o=a.n(s),r=new n.a({id:"icon-log",use:"icon-log-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" id="icon-log"><path d="M806.4 147.2h-89.6v-57.6H640C620.8 57.6 569.6 32 518.4 32c-51.2 0-96 25.6-121.6 57.6H320v64H236.8c-64 0-115.2 51.2-115.2 115.2v576c0 64 51.2 115.2 115.2 115.2h576c64 0 115.2-51.2 108.8-121.6v-576c0-64-51.2-115.2-115.2-115.2z m-435.2 0h64c0-32 38.4-57.6 83.2-57.6 44.8 0 83.2 25.6 83.2 57.6h57.6v115.2H371.2V147.2z m352 640H320c-12.8 0-32-12.8-32-32s12.8-32 32-32h403.2c12.8 0 32 12.8 32 32s-12.8 32-32 32z m0-147.2H320c-12.8 0-32-12.8-32-32 0-12.8 12.8-32 32-32h403.2c12.8 0 32 12.8 32 32s-12.8 32-32 32z m0-140.8H320c-12.8 0-32-12.8-32-32 0-12.8 12.8-32 32-32h403.2c12.8 0 32 12.8 32 32s-12.8 32-32 32z" /></symbol>'});o.a.add(r);e.default=r},"90Fk":function(t,e,a){var i={"./Egress.svg":"y1ZR","./Ingress.svg":"65Yj","./cellphone.svg":"3JIR","./centos.svg":"THVI","./close.svg":"toIl","./correct.svg":"9zLp","./correctInCircle.svg":"uwz6","./cpu.svg":"J/NN","./created.svg":"UYtr","./date.svg":"Ve8B","./delete.svg":"Imjp","./ebs.svg":"6Q5l","./ecm.svg":"LYdj","./edit.svg":"ql+d","./elb.svg":"sAq/","./error.svg":"KCO8","./info.svg":"Yfis","./link.svg":"KgwQ","./linux.svg":"4j8m","./log.svg":"8uFK","./m_add.svg":"yp+Y","./m_add_.svg":"46Sb","./m_open.svg":"Ef22","./m_refresh.svg":"v8b9","./m_retract.svg":"omKZ","./m_set.svg":"NxKR","./mapping.svg":"f8Xi","./menu.svg":"dH9r","./monitor.svg":"Lu+8","./next.svg":"H1Dn","./nic.svg":"w78J","./obs.svg":"Nm/Q","./physicalVPC.svg":"EcUt","./portMapping.svg":"OvFx","./print.svg":"HjEa","./privateVPC.svg":"wJqF","./redhat.svg":"exPe","./sec.svg":"evM5","./submenu.svg":"az2S","./subnet.svg":"fkeY","./tel.svg":"8EXL","./ubuntu.svg":"0giU","./unlink.svg":"30Aw","./vip.svg":"WRQj","./vpc.svg":"hHog","./warn.svg":"a5SC","./windows.svg":"FhIN"};function n(t){return a(s(t))}function s(t){var e=i[t];if(!(e+1))throw new Error("Cannot find module '"+t+"'.");return e}n.keys=function(){return Object.keys(i)},n.resolve=s,t.exports=n,n.id="90Fk"},"9zLp":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("Wc9H"),n=a.n(i),s=a("IaZV"),o=a.n(s),r=new n.a({id:"icon-correct",use:"icon-correct-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" id="icon-correct"><path d="M845.6 349.6l-384 384c-14.4 14.4-34.4 17.6-52 10.4-5.6-2.4-11.2-5.6-16-10.4L178.4 518.4c-18.4-18.4-18.4-49.6 0-68 18.4-18.4 49.6-18.4 68 0L428 632l350.4-350.4c18.4-18.4 48.8-18.4 68 0C864.8 300.8 864.8 331.2 845.6 349.6z" /></symbol>'});o.a.add(r);e.default=r},A3vl:function(t,e){},A4gB:function(t,e){},AKBr:function(t,e){},AhG5:function(t,e){},"Al+f":function(t,e){},BXWN:function(t,e){},"Be//":function(t,e){},CV9Q:function(t,e){},CVEv:function(t,e){},D0NT:function(t,e){},D297:function(t,e){},"D9X+":function(t,e){},DTyz:function(t,e){},E1gw:function(t,e){},ECF7:function(t,e,a){t.exports=a.p+"static/img/eipDetail.71534a9.png"},EDlG:function(t,e){},ENAQ:function(t,e){},EcUt:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("Wc9H"),n=a.n(i),s=a("IaZV"),o=a.n(s),r=new n.a({id:"icon-physicalVPC",use:"icon-physicalVPC-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" id="icon-physicalVPC"><path d="M51.2 928h192c32 0 51.2-25.6 51.2-51.2V768c0-32-25.6-51.2-51.2-51.2H166.4V627.2c0-12.8 12.8-25.6 25.6-25.6h294.4v115.2H416c-32 0-51.2 25.6-51.2 51.2v102.4c0 32 25.6 51.2 51.2 51.2h192c32 0 51.2-25.6 51.2-51.2V768c0-32-25.6-51.2-51.2-51.2H531.2V601.6h294.4c12.8 0 25.6 12.8 25.6 25.6v89.6h-76.8c-32 0-51.2 25.6-51.2 51.2v102.4c0 32 25.6 51.2 51.2 51.2h192c32 0 51.2-25.6 51.2-51.2V768c0-32-25.6-51.2-51.2-51.2H896V627.2c0-38.4-32-64-64-64H531.2V460.8h153.6c38.4 0 70.4-32 70.4-70.4V166.4c0-38.4-32-70.4-70.4-70.4H339.2c-38.4 0-70.4 32-70.4 70.4v224c0 38.4 32 70.4 70.4 70.4h153.6v96H198.4c-38.4 0-64 32-64 64v89.6H51.2c-25.6 6.4-51.2 32-51.2 57.6v102.4c0 32 25.6 57.6 51.2 57.6zM620.8 768v102.4c0 6.4-6.4 12.8-12.8 12.8h-192c-6.4 0-12.8-6.4-12.8-12.8V768c0-6.4 6.4-12.8 12.8-12.8h192c6.4 0 12.8 6.4 12.8 12.8z m364.8 0v102.4c0 6.4-6.4 12.8-12.8 12.8h-192c-6.4 0-12.8-6.4-12.8-12.8V768c0-6.4 6.4-12.8 12.8-12.8h192c6.4 0 12.8 6.4 12.8 12.8zM307.2 390.4V166.4c0-19.2 12.8-32 32-32h345.6c19.2 0 32 12.8 32 32v224c0 19.2-12.8 32-32 32H339.2c-19.2 0-32-12.8-32-32zM38.4 768c0-6.4 6.4-12.8 12.8-12.8h192c6.4 0 12.8 6.4 12.8 12.8v102.4c0 6.4-6.4 12.8-12.8 12.8h-192c-6.4 0-12.8-6.4-12.8-12.8V768z" /><path d="M409.6 256h198.4c12.8 0 19.2-6.4 19.2-19.2s-6.4-19.2-12.8-19.2H409.6c-12.8 0-19.2 6.4-19.2 19.2s12.8 19.2 19.2 19.2z m224 70.4c0-12.8-6.4-19.2-19.2-19.2H409.6c-12.8 0-19.2 6.4-19.2 19.2s6.4 19.2 19.2 19.2h198.4c12.8 0 25.6-12.8 25.6-19.2z" /></symbol>'});o.a.add(r);e.default=r},Ef22:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("Wc9H"),n=a.n(i),s=a("IaZV"),o=a.n(s),r=new n.a({id:"icon-m_open",use:"icon-m_open-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" id="icon-m_open"><path d="M600.6 643.9l252.7 252.7H611.6c-17.7 0-32 14.3-32 32s14.3 32 32 32h351v-349c0-17.7-14.3-32-32-32s-32 14.3-32 32v239.7L645.9 598.6c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3zM126.4 412.4V168.6l253.7 253.7c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L172.6 124.4h240.7c17.7 0 32-14.3 32-32s-14.3-32-32-32h-351v352c0 17.7 14.3 32 32 32s32.1-14.4 32.1-32zM600.6 420c12.5 12.5 32.8 12.5 45.3 0l251.7-251.7V413c0 17.7 14.3 32 32 32s32-14.3 32-32V61h-351c-17.7 0-32 14.3-32 32s14.3 32 32 32h239.7L600.6 374.7c-12.5 12.5-12.5 32.8 0 45.3zM444.4 931.6c0-17.7-14.3-32-32-32H169.6l255.7-255.7c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L125.4 853.4V614.6c0-17.7-14.3-32-32-32s-32 14.3-32 32v349h351c17.6 0 32-14.3 32-32z" /></symbol>'});o.a.add(r);e.default=r},EiFi:function(t,e){},"En+4":function(t,e,a){"use strict";var i=a("GUqc"),n=a.n(i),s=a("S6WZ");var o=function(t){a("MVFW")},r=a("VU/8")(n.a,s.a,!1,o,"data-v-36d56b37",null);e.default=r.exports},EvWS:function(t,e){},F9D4:function(t,e){},FKEf:function(t,e){},FKoK:function(t,e){},FZ0D:function(t,e){},FhIN:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("Wc9H"),n=a.n(i),s=a("IaZV"),o=a.n(s),r=new n.a({id:"icon-windows",use:"icon-windows-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" id="icon-windows"><path d="M435.2 569.6V896l-339.2-44.8V569.6h339.2z m0-371.2v326.4H96V243.2l339.2-44.8z m492.8 371.2V960l-454.4-64V569.6h454.4z m0-441.6v396.8H473.6V192l454.4-64z" fill="#0EADE9" /></symbol>'});o.a.add(r);e.default=r},"G+U9":function(t,e){},G8BV:function(t,e){},GHGV:function(t,e){},GN8K:function(t,e){},GUqc:function(t,e){},GgcS:function(t,e){},GouX:function(t,e){},GpoE:function(t,e){},GvrN:function(t,e){},H1Dn:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("Wc9H"),n=a.n(i),s=a("IaZV"),o=a.n(s),r=new n.a({id:"icon-next",use:"icon-next-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" id="icon-next"><path d="M260.45 384.043l251.524 251.524 251.523-251.524h-503.046zM260.45 384.043z" /></symbol>'});o.a.add(r);e.default=r},H554:function(t,e){},H6Sz:function(t,e){},HdUd:function(t,e){},HjEa:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("Wc9H"),n=a.n(i),s=a("IaZV"),o=a.n(s),r=new n.a({id:"icon-print",use:"icon-print-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" id="icon-print"><path d="M289.332 122.348h445.336v111.329h-445.336v-111.329z" /><path d="M901.666 289.342h-779.335c-30.659 0-55.667 25.061-55.667 55.665v278.322c0 30.607 25.009 55.666 55.667 55.666h167v222.658h445.336v-222.659h166.999c30.556 0 55.668-25.058 55.668-55.666v-278.322c0-30.603-25.112-55.664-55.668-55.664zM679.001 845.987h-334.001v-278.322h334.001v278.322zM873.835 413.203c-22.287 0-40.389-18.102-40.389-40.364s18.103-40.362 40.389-40.362c22.237 0 40.338 18.1 40.338 40.362s-18.102 40.364-40.338 40.364z" /></symbol>'});o.a.add(r);e.default=r},"I/VH":function(t,e){},I0ix:function(t,e){},Imjp:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("Wc9H"),n=a.n(i),s=a("IaZV"),o=a.n(s),r=new n.a({id:"icon-delete",use:"icon-delete-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" id="icon-delete"><path d="M841.371934 192.338387l-182.693734 0L658.6782 128.833643c0-27.392428-22.280894-49.67612-49.67612-49.67612l-195.385529 0c-27.388431 0-49.669724 22.283892-49.669724 49.67612l0 63.504744L181.257491 192.338387c-27.394427 0-49.67572 22.283892-49.67572 49.673122l0 77.272409c0 27.391429 22.281293 49.672722 49.67572 49.672722l30.549687 0 0 459.480872c0 63.915465 51.995147 115.910013 115.904617 115.910013l367.201637 0c63.914466 0 115.909214-51.994548 115.909214-115.910013L810.822646 368.956639l30.549288 0c27.38943 0 49.67612-22.281293 49.67612-49.672722l0-77.272409C891.048053 214.622278 868.761164 192.338387 841.371934 192.338387zM419.140207 134.3539l184.344614 0 0 57.984487-184.344614 0L419.140207 134.3539zM755.624271 828.442508c0 33.479301-27.232536 60.711638-60.710638 60.711638L327.711995 889.154145c-33.478302 0-60.716234-27.232336-60.716234-60.711638L266.995761 368.956639l488.62851 0L755.624271 828.442508zM835.848479 313.763261 186.769754 313.763261l0-66.231495 219.231361 0c2.480718 0.382741 5.026992 0.584604 7.615237 0.584604l195.385529 0c2.590244 0 5.135518-0.201863 7.621832-0.584604l219.224766 0L835.848479 313.763261zM512.417765 804.435785c15.237669 0 27.594291-12.351626 27.594291-27.594291L540.012056 465.546551c0-15.240067-12.356622-27.596689-27.594291-27.596689-15.242665 0-27.598688 12.356622-27.598688 27.596689l0 311.295142C484.819077 792.084159 497.175099 804.435785 512.417765 804.435785zM655.366446 804.435785c15.242665 0 27.599288-12.351626 27.599288-27.594291L682.965733 465.546551c0-15.240067-12.356622-27.596689-27.599288-27.596689-15.242665 0-27.593292 12.356622-27.593292 27.596689l0 311.295142C627.773154 792.084159 640.12378 804.435785 655.366446 804.435785zM369.464087 804.435785c15.242665 0 27.594291-12.351626 27.594291-27.594291L397.058378 465.546551c0-15.240067-12.351626-27.596689-27.594291-27.596689-15.242066 0-27.593292 12.356622-27.593292 27.596689l0 311.295142C341.870796 792.084159 354.221822 804.435785 369.464087 804.435785z" /></symbol>'});o.a.add(r);e.default=r},"J/NN":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("Wc9H"),n=a.n(i),s=a("IaZV"),o=a.n(s),r=new n.a({id:"icon-cpu",use:"icon-cpu-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" id="icon-cpu"><path d="M955.5 364.5v-50H847V177H709.5V71.5h-50V177H537V71.5h-50V177H364.5V71.5h-50V177H177v137.5H68.5v50H177V487H68.5v50H177v122.5H68.5v50H177V847h137.5v105.5h50V847H487v105.5h50V847h122.5v105.5h50V847H847V709.5h108.5v-50H847V537h108.5v-50H847V364.5h108.5zM797 797H227V227h570v570zM672 352H352v320h320V352z m-50 270H402V402h220v220z" /></symbol>'});o.a.add(r);e.default=r},JE9E:function(t,e,a){t.exports=a.p+"static/img/500.98eb5c6.png"},KCO8:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("Wc9H"),n=a.n(i),s=a("IaZV"),o=a.n(s),r=new n.a({id:"icon-error",use:"icon-error-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" id="icon-error"><path d="M480 64C217.6 64 0 281.6 0 544s217.6 480 480 480 480-217.6 480-480S742.4 64 480 64z m204.8 614.4c19.2 19.2 19.2 44.8 0 64-19.2 19.2-44.8 19.2-64 0L486.4 608 345.6 748.8c-19.2 19.2-51.2 19.2-70.4 0-19.2-19.2-19.2-51.2 0-70.4L416 537.6 281.6 403.2c-19.2-19.2-19.2-44.8 0-64 19.2-19.2 44.8-19.2 64 0L480 473.6l140.8-140.8c19.2-19.2 51.2-19.2 70.4 0 19.2 19.2 19.2 51.2 0 70.4L550.4 544l134.4 134.4z" /></symbol>'});o.a.add(r);e.default=r},KgwQ:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("Wc9H"),n=a.n(i),s=a("IaZV"),o=a.n(s),r=new n.a({id:"icon-link",use:"icon-link-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" id="icon-link"><path d="M964.528984 344.154476 822.055844 487.037697c-52.951641 53.096857-128.028251 70.252784-195.461596 51.910586l118.930783-118.968621c1.747704-1.486929 3.679484-2.672177 5.308561-4.382043l142.439393-142.826976c39.357594-39.434292 39.357594-103.412114 0-142.846406-39.286009-39.435315-103.077708-39.435315-142.439393 0L608.400334 272.769622c0 0 0 0 0 0.037838l-0.111469-0.112491L485.084441 395.917801c-17.710201-67.210409-0.480644-141.825804 52.096708-194.552463L679.616451 58.519954c78.683486-78.906423 206.231092-78.906423 284.913555 0C1043.211447 137.386494 1043.211447 265.305321 964.528984 344.154476zM378.701538 719.112103l-0.187144-0.149306c-9.245752 9.432896-22.166897 15.299822-36.42362 15.299822-28.295621 0-51.17019-22.874569-51.17019-51.168145 0-14.85088 6.388476-28.071661 16.414508-37.430927l338.603548-338.640363c9.321428-10.026032 22.575956-16.413485 37.392066-16.413485 28.290508 0 51.164054 22.873546 51.164054 51.168145 0 14.035831-5.645012 26.660408-14.740434 35.942975l0.186122 0.149306L378.701538 719.112103zM273.098914 607.715161 130.663612 750.600428c-39.324869 39.434292-39.324869 103.375298 0 142.808568 39.358617 39.432247 103.114523 39.432247 142.435302 0l142.437347-142.808568c1.039009-1.040032 1.709866-2.228348 2.675245-3.265312l120.528157-120.531225c17.969954 67.4313 0.817095 142.289064-51.946379 195.237637L344.318099 964.850095c-78.645648 78.865517-206.192232 78.865517-284.874695 0-78.644625-78.867562-78.644625-206.82525 0-285.692812l142.439393-142.808568c52.801312-52.948573 127.584422-70.180176 194.867438-52.056825L274.140991 606.898066C273.843401 607.270309 273.436388 607.418593 273.098914 607.715161z" /></symbol>'});o.a.add(r);e.default=r},Knz7:function(t,e){},Ko0e:function(t,e){},KyA8:function(t,e){},LJjF:function(t,e){},LWak:function(t,e){},LYdj:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("Wc9H"),n=a.n(i),s=a("IaZV"),o=a.n(s),r=new n.a({id:"icon-ecm",use:"icon-ecm-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" id="icon-ecm"><path d="M716.8 864c147.2 0 268.8-121.6 268.8-275.2 0-147.2-115.2-268.8-262.4-275.2-44.8-89.6-134.4-147.2-236.8-147.2-140.8 0-256 108.8-262.4 243.2C115.2 435.2 38.4 524.8 38.4 627.2c0 121.6 102.4 224 236.8 236.8h441.6z" /></symbol>'});o.a.add(r);e.default=r},LbiI:function(t,e,a){t.exports=a.p+"static/img/ecmDetail.6a21d57.png"},LmNG:function(t,e){},"Lu+8":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("Wc9H"),n=a.n(i),s=a("IaZV"),o=a.n(s),r=new n.a({id:"icon-monitor",use:"icon-monitor-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" id="icon-monitor"><path d="M499.2 550.4V70.4c230.4 0 467.2 204.8 467.2 454.4 0 57.6-12.8 108.8-32 153.6l-435.2-128z m-57.6 44.8l403.2 121.6c-64 140.8-198.4 236.8-364.8 236.8-217.6 0-396.8-179.2-396.8-396.8 0-204.8 166.4-377.6 358.4-396.8v435.2z" /></symbol>'});o.a.add(r);e.default=r},M7xh:function(t,e){},MBVZ:function(t,e){},MMy9:function(t,e){},MR6q:function(t,e){},MVFW:function(t,e){},Mmu7:function(t,e){},NHnr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});a("j1ja");var i=a("7+uW"),n=a("zL8q"),s=a.n(n),o=(a("tvR6"),{name:"app",data:function(){return{mainHeight:document.body.clientHeight}},mounted:function(){}}),r={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]};var l=a("VU/8")(o,r,!1,function(t){a("qUhK")},null,null).exports,c=a("/ocq"),u={common:{console:"控制中心",dashboard:"概览",ecmService:"云服务器",ecm:"云服务器",ebs:"云硬盘",bks:"云硬盘备份",snapshot:"快照",ims:"镜像",keypair:"密钥对",sshKeypair:"SSH密钥对",sec:"安全组",eip:"弹性公网IP",vpc:"虚拟私有云",cnet:"云网络",elb:"负载均衡",obs:"对象存储",ces:"云监控",log:"操作日志",allLog:"所有日志",logReport:"日志报表",order:"工单",w_orderAdmin:"工单管理",myOrder:"我的工单",submitOrder:"提交工单",charge:"费用中心",orderAdmin:"订单管理",orderList:"订单列表",bill:"账单",Billing:"已出账单",billInfo:"账单明细",renewAdmin:"续费管理",renewEcm:"云服务器",renewEip:"弹性公网IP",message:"消息中心",allMessage:"全部消息",userCenter:"用户中心",exitLogon:"退出登录",userInfo:"基本信息",editAccount:"修改资料",certification:"实名认证",infoAlert:"提醒设置",chargeMode:"计费方式",moreDetail:"查看更多详情",total:"总数",active:"运行中",willExpire:"即将过期",shutOff:"关机",started:"开机",restart:"重启",reboot:"重建中",delete:"删除",deleted:"已删除",renew:"续订",ubsubscribe:"退订",inUseStatus:"正在使用",errorStatus:"错误",allStatus:"所有状态",name:"名称",disname:"磁盘名称",ID:"ID",createAt:"创建时间",finishAt:"到期时间",selectCorrectAZ:"可用分区",operation:"操作",nameOrID:"名称/ID",flavor:"规格",status:"状态",refresh:"刷新",IPAddress:"IP地址",privateIp:"私有IP",IntranetIp:"内网IP",payment:"付费方式",unsubscribe:"退订",resourceNodes:"地域"},ebs:{attach:"挂载",attaching:"挂载中",attached:"已挂载",detach:"卸载",systemDisk:"系统盘",systemDiskSize:"系统盘(GB)",dataDisk:"数据盘",ebsPathName:"云硬盘列表",ebsButtonName:"创建云硬盘",createBuckup:"创建云硬盘快照",setupPolicy:"设置备份策略",capacityExpansion:"扩容",disk:"磁盘",storageType:"磁盘类型",capacityGB:"容量（GB）",sharedStorage:"共享盘",diskId:"磁盘ID",ecmId:"云服务器ID",diskCapacityGB:"磁盘容量",diskModel:"磁盘属性",sharedStorage_or_not:"是否共享盘",deviceidNum:"挂载数量",chargeType:"付费方式",orderDetails:"所属订单",equipment:"设备名称",monitorData:"查看监控数据",time:"时间",type:"类型",description:"描述",operactionPeople:"操作人",product:"产品名称",configuration:"配置",length:"时长",Number:"数量",totalPrice:"总价",restartOrNot:"磁盘是否可启动",attachDev:"挂载点",resources:"资源",capacity:"容量",allocated:"已挂载",ready:"未挂载",bks:"备份源",attachVoluem:"挂载磁盘数",rootTip:"系统盘不允许卸载",detachTip:"云服务器开机状态下磁盘不允许卸载",withVmTip:"与云主机一起购买的磁盘不允许卸载"},vpc:{creatVPC:"创建虚拟私有云",publicIp:"公网IP",vpc_net:"VPC网段",vpcname:"vpc名称：",subnet:"子网",net_num:"子网数量",edit:"修改",delete:"删除",productName:"产品名称",configure:"配置",num:"数量",name:"名称",displaytext:"描述",net_name:"子网名称",net_type:"子网类型",vpc_type:"类型",net_paragraph:"子网网段",gateway:"网关",dns:"DNS服务器地址",dns1:"DNS服务器地址1",dns2:"DNS服务器地址2",cidr:"VPC网段",state:"状态",Enabled:"启用",Disabled:"停用",vpcDetail:"虚拟私有云详情",zone:"可用分区",createSubnet:"创建子网",bw:"带宽",time:"时长",publicbw:"公网带宽",bwID:"带宽ID",acl:"ACL",creatACL:"创建ACL",Ingress:"入口方向规则",Egress:"出口方向规则",Eip:"弹性公网IP",createEip:"申请弹性公网IP",bindPrivateIp:"已绑定内网IP",bindPrivateVm:"已绑定主机名称",bindEip:"已绑定弹性公网IP",specifications:"规格",bandwidth:"带宽大小(Mbit/s)",pricingModel:"计费模式",binding:"绑定",unbunding:"解绑",release:"释放",price:"单价",allocated:"已绑定",allocatin:"未绑定",bandwidthName:"带宽名称",sharedType:"共享类型",bandwidthNum:"带宽大小",eipOrder:"弹性公网IP订单",bwOrder:"带宽订单",eipAddress:"弹性公网IP地址",serverName:"云服务器名称",serverId:"云服务器ID",networkCard:"网卡",upgrade:"升级",netStartPort:"公网起始端口",netEndPort:"公网结束端口",privateStartPort:"私网起始端口",privateEndPort:"私网结束端口",protocol:"协议",ecmName:"主机名称",privateIp:"私网IP",instance:"一对一映射",portforwarding:"端口转发",loadbalancer:"负载均衡",aclName:"acl名称",secName:"安全组名称",connectEcm:"相关云服务器",subType:"子网类型",instanceName:"绑定云服务器名称",instanceType:"实例类型",bindingTip:"选择要绑定的云服务器（已有公网IP的云服务器不能绑定）","This network is being used!":"VPC下有正在使用的子网！",withVmTip:"与云主机一起购买的弹性ip不允许解绑"},ecm:{ecmPathName:"云服务器列表",ecmButtonName:"创建云服务器",telnet:"远程登录",changeSpc:"升级",makeIms:"制作镜像",makeSnapshot:"创建快照",resetPw:"重置密码",reinstall:"一键重装",changeOs:"切换系统",getPwd:"获取密码",reback:"回滚",attachVolume:"挂载磁盘",imsUuid:"镜像Uuid",ReleaseStatus:"发布状态",imsSize:"镜像大小",imsSourece:"源",snapshotName:"快照名称",ecmName:"云服务器名称",systemName:"操作系统",snapshotId:"快照ID",refundOrder:"退订云服务器",actionStartTip:"确定要对以下云服务器进行开机操作吗",actionStopTip:"确定要对以下云服务器进行关机操作吗",actionStopTip2:"云服务器关机会导致未保存的文件丢失，请确保文件保存",actionRebootTip:"确定要对以下云服务器进行重启操作吗",actionRebootTip2:"重启前确保文件已保存",actionRenewTip:"以下云服务器将进行续订操作，续订将产生续订订单，请于48小时内支付订单，否则续订操作失败",telnetTip:"确定要对以下云服务器进行远程登录操作吗",resetPwTip:"确定要对以下云服务器进行重置密码操作吗",changeSpcTip:"以下云服务器将进行升级操作，升级将产生升级订单，请于48小时内支付订单，否则升级操作失败，数据将被清空，暂不支持降级操作，请谨慎进行操作升级",reinstallTip:"重装后IP地址不变，但系统盘会清空，所以请预先做好备份。</br>Linux系统下使用了LVM的用户，LVM如果加入了数据盘，请先从LVM卸载掉数据盘，再一键重装，否则会导致主机重装后无法使用。</br>",reinstallTip2:"每间隔2个小时只能重装一次",refundOrderTip:"在申请退订前，请做好主机数据备份工作，退订成功后，相关数据将不予保留。</br>退订成功后，仅返还现金支付金额。代金券支付部分，将不予返还。",snapshotTip:"快照功能仅用于应用迭代时使用",snapshot:"快照",makeSnapshotTip:"快照功能仅用于应用迭代时使用，不能用作数据备份，每台云服务器可以同时创建3份快照，每份快照建议创建后7天内删除，若超时一个月未删除会被系统自动删除",makeSnapshotTip2:"选择要制作快照的云服务器",rebackTip:"确认要回滚快照？",rebackTip2:"回滚快照后原有磁盘将被覆盖，请提前备份数据",deleteSnapshotTip:"确认要删除快照？",snapshotNameTip:"请输入快照名称",snapshotLengthTip:"长度在 2 到 16 个字符",ecmNameTip:"只能由数字、字母、-组成,不能以数字和-开头、以-结尾,且长度为2-63字符",bindingTip:"选择要绑定的弹性公网IP（已绑定的弹性公网IP不能绑定）",ipaddress:"IP地址",lastStartTime:"上次启动时间",runningTime:"稳定运行"},bks:{backupList:"云硬盘备份列表",createBackup:"创建云硬盘备份",strategy_manager:"管理备份策略",diskCapacityGB:"磁盘容量(GB)",diskName:"磁盘名称",describe:"描述",restore:"恢复数据",createDisk:"创建磁盘",deleter:"删除",available:"可用"},order:{my_order:"我的工单",submit_order:"提交工单"},elb:{elbList:"负载均衡列表",createElb:"创建负载均衡",certificate:"证书",type:"类型",serviceAddress:"服务地址",belongsToVpc:"所属VPC",subnet:"子网",bandwidth:"带宽(Mbit/s)",modifyBandwidth:"修改带宽",blockUp:"停用",belongsToVpcId:"所属VPCID",belongsToVpcName:"所属VPC名称",modification:"修改",elbProtocol:"负载均衡协议",ecmProtocol:"主机均衡协议/端口",healthCheck:"健康检查",Dstrategy:"分发策略",Number:"成员数量",ecmNumber:"后端云服务器数量"}},d=a("8tHC"),p=a.n(d),m=[{id:"order",name:u.common.order,subList:[{title:u.common.myOrder,path:""},{title:u.common.submitOrder,path:""}],hide:!0},{id:"cost",name:u.common.charge,hide:!0,subList:[{title:u.common.orderAdmin,path:"/cost/order",index:"0-0",subList:[{title:u.common.orderList,path:"/cost/order",index:"0-0"}]},{title:u.common.bill,path:"/cost/bill",index:"1-0",subList:[{title:u.common.Billing,path:"/cost/bill",index:"1-0"},{title:u.common.billInfo,path:"/cost/billInfo",index:"1-1"}]},{title:u.common.renewAdmin,path:"/cost/renew",index:"2-0",subList:[{title:u.common.renewEcm,path:"/cost/renew",index:"2-0"},{title:u.common.renewEip,path:"/cost/EipRenew",index:"2-1"}]}]},{id:"message",name:u.common.message,subList:[{title:u.common.allMessage,path:""}],hide:!0}],h={data:function(){var t=this,e=u.common;return{console:{title:e.console,path:"/console"},userList:[{title:e.userCenter,path:"",fun:function(){t.$router.push("/user/userInfo")}},{title:e.exitLogon,path:"",fun:function(){return t.fadeOut()}}],headerList:m,user:{name:"admin",img:p.a}}},mounted:function(){this.user.name=this.$store.state.user.user.customer_name||this.user.name},methods:{userFun:function(t){t()},fadeOut:function(){this.$store.dispatch("FedLogOut").then(function(t){console.log(t),location.href="/logout"})},logoClick:function(){this.$router.push("/console")}}},f={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("header",[i("div",{staticClass:"header-left"},[i("div",{staticClass:"logo",on:{click:t.logoClick}},[i("img",{attrs:{width:"100%",src:a("7Otq")}})]),t._v(" "),i("div",{staticClass:"console-center hoverClass"},[i("router-link",{attrs:{to:t.console.path}},[t._v(t._s(t.console.title))])],1)]),t._v(" "),i("div",{staticClass:"hedaer-right"},[t._l(t.headerList,function(e){return e.hide?t._e():i("el-dropdown",{key:e.id,staticClass:"hoverClass",class:"header-"+e.id,attrs:{trigger:"click"}},[i("span",{staticClass:"el-dropdown-link"},[t._v(t._s(e.name))]),t._v(" "),i("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},t._l(e.subList,function(e,a){return i("el-dropdown-item",{key:a},[i("router-link",{attrs:{tag:"div",to:e.path}},[t._v(t._s(e.title))])],1)}))],1)}),t._v(" "),i("el-dropdown",{staticClass:"header-user hoverClass",on:{command:t.userFun}},[i("span",{staticClass:"el-dropdown-link user-name",staticStyle:{"outline-width":"0px","outline-style":"none"}},[i("img",{attrs:{height:"20",src:t.user.img}}),t._v("\n\t\t\t\t\n\t\t\t    "+t._s(t.user.name)+"\n\t\t\t  ")]),t._v(" "),i("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},t._l(t.userList,function(e,a){return i("el-dropdown-item",{key:a,attrs:{command:e.fun}},[t._v(t._s(e.title))])}))],1)],2)])},staticRenderFns:[]};var v=a("VU/8")(h,f,!1,function(t){a("dzM4")},"data-v-46e81f38",null).exports,g=[{id:"ecm",name:u.common.ecmService,subList:[{title:u.common.dashboard,path:"/ecm/ecmDashboard"},{title:u.common.ecm,path:"/ecm/ecmList",id:"ecmSub"},{title:u.common.ebs,path:"/ecm/ebs/ebsList",id:"ecmEbsSub"},{title:u.common.bks,path:"/ecm/bks/bksList",type:"os",hide:!0},{title:u.common.snapshot,path:"/ecm/snapshot/snapshotList",type:"cs"},{title:u.common.ims,path:"/ecm/ims/imsList",type:"os",id:"ecmImsSub"},{title:u.common.sshKeypair,path:"/ecm/keypair/keypairList",type:"os",hide:!0},{title:u.common.sec,path:"/ecm/sec/secList",hide:!0},{title:u.common.eip,path:"/ecm/eip/eipList"}]},{id:"ebs",name:u.common.ebs,subList:[{title:u.common.ebs,path:"/ebs/ebsList",id:"ebsSub"},{title:u.common.bks,path:"/ebs/bks/bksList",id:"ebsBksSub",hide:!0}]},{id:"vpc",name:u.common.vpc,label:u.common.cnet,subList:[{title:u.common.vpc,path:"/vpc/vpcList",id:"vpcSub"},{title:u.vpc.subnet,path:"/vpc/net/netList"},{title:u.common.eip,path:"/vpc/eip/eipList",id:"vpcEipSub"},{title:u.vpc.acl,path:"/vpc/acl/aclList",type:"cs"},{title:u.common.sec,path:"/vpc/sec/secList",id:"vpcSecSub",type:"os",hide:!0}]},{id:"elb",name:u.common.elb,hide:!0},{id:"obs",name:u.common.obs,hide:!0},{id:"monitor",name:u.common.ces,subList:[{title:"Dashboard",path:"/monitor/dashboard"},{title:"云服务监控",path:"/monitor/ecmMonitor",isSub:!0,hide:!0,index:"1-0",subList:[{title:"云服务器监控",path:"/monitor/ecmMonitor",index:"1-0"},{title:"云硬盘监控",path:"/monitor/ebsMonitor",index:"1-0"}]}]},{id:"log",name:u.common.log,hide:!0,subList:[{title:u.common.allLog,path:"/log/allLog"},{title:u.common.logReport,path:"/log/logReport"}]}],b={id:"user",name:u.common.userCenter,subList:[{title:u.common.userInfo,path:"/user/userInfo"},{title:u.common.editAccount,path:"/user/editAccount",hide:!0},{title:u.common.certification,path:"/user/certification",hide:!0},{title:u.common.infoAlert,path:"/user/infoAlert",hide:!0}]},y=a("lbHh"),w=a.n(y),C="csrftoken",k="regionid",x="zoneid",D="hasVnc",T="regionType";function I(){return w.a.get(C)}function S(){return w.a.remove(C)}function O(t){return localStorage.setItem(k,t)}function F(){return localStorage.getItem(k)}function L(t){return localStorage.setItem(x,t)}function P(){return localStorage.getItem(x)}function N(){return localStorage.getItem(D)}function $(t){return localStorage.setItem(D,t)}function R(t){return localStorage.setItem(T,t)}function z(){return localStorage.getItem(T)}var A={methods:{toggle:function(t){"isOpen"==t&&(this.isOpen=!this.isOpen),"isOpenSubMenu"==t&&(this.isOpenSubMenu=!this.isOpenSubMenu)},showListDetail:function(t){this.isOpenSubMenu=!0,this.isTwo=!1,this.subTitle=this.navList[t].label||this.navList[t].name,this.subList=this.navList[t].subList?this.navList[t].subList:[],this.$router.push(this.subList[0].path)},isTab:function(){var t=this;if(this.routerName=this.$route.matched[0].name,this.metaDepend=this.$route.meta.dependOn,this.aisdeHide=this.$route.meta.aisdeHide,this.$store.commit("CLEAR_ECHARTS",[]),"console"===this.$route.name)this.isOpen=!0,this.isOpenSubMenu=!1,this.isTwo=!1,this.subMenuShow=!1;else if("user"==this.$route.matched[0].name)console.log(b),this.subTitle=b.label||b.name,this.routerName=this.$route.matched[0].name,this.subList=b.subList||[],this.isOpen=!0,this.isTwo=!1,this.isOpenSubMenu=!0,this.subMenuShow=!0;else{var e=this._.find(this.navList,{id:this.$route.matched[0].name});if(e)this.subTitle=e.label||e.name,this.routerName=this.$route.matched[0].name,this.subList=e.subList||[],this.isOpen=!1,this.isTwo=!1;else{var a=this._.find(m,{id:this.$route.matched[0].name});console.log(a),this.subTitle=a.label||a.name,this.subList=a.subList||[],this.isOpen=!0,this.isTwo=!0}var i=this._.find(this.subList,{path:this.$route.path});i||this.subList.map(function(e,a,n){var s=t._.find(e.subList,{path:t.$route.path});s&&(i=s)}),this.defaultIndex=i&&i.index,this.isOpenSubMenu=!0,this.subMenuShow=!0}},filterType:function(t){var e=this.$store.getters.regionType;return this._.map(t,function(t,a){t.type&&(t.type==e?t.hide=!1:t.hide=!0)})}},data:function(){return{isOpen:!0,isOpenSubMenu:!1,subList:[],subTitle:"",isTwo:!1,aisdeHide:!1,routerName:"",metaDepend:"",subMenuShow:!1,defaultIndex:"0-0"}},computed:{navAsideWidth:function(){var t=void 0;return t=this.isOpenSubMenu&&!this.isOpen?231:this.isOpen||this.isOpenSubMenu?this.isOpenSubMenu&&this.isOpen?161:51:121,this.$emit("paddingValue",t),t},navList:function(){this.$store.getters.regionType;var t=this._;return t.map(t.map(g,"subList"),this.filterType),g}},watch:{$route:"isTab"},mounted:function(){this.isTab()}},M={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.aisdeHide?t._e():a("div",{staticClass:"navAside",style:{width:t.navAsideWidth+"px"}},[a("el-aside",[a("div",{staticClass:"aside-flex",style:{width:t.isOpenSubMenu?"auto":"150px"}},[a("el-row",[a("el-col",{staticClass:"Menu",attrs:{span:t.isOpen?7:12}},[a("el-menu",{staticClass:"aside-width",class:{"el-menu--collapse":t.isOpen},attrs:{collapse:!1,"default-active":t.routerName}},[a("li",{staticClass:"el-menu-item",staticStyle:{"padding-left":"20px","text-align":"center"},on:{click:function(e){t.toggle("isOpen")}}},[a("i",{staticClass:"aside-icon"},[t.isOpen?a("svg-icon",{attrs:{"icon-class":"menu"}}):t._e(),t._v(" "),t.isOpen?t._e():a("svg-icon",{staticStyle:{transform:"rotate(90deg)"},attrs:{"icon-class":"menu"}})],1),t._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:t.isOpen,expression:"isOpen"}],attrs:{slot:"title"},slot:"title"},[t._v("切换开关")])]),t._v(" "),t._l(t.navList,function(e,i){return a("el-tooltip",{key:i+1,attrs:{disabled:!t.isOpen,enterable:!1,content:e.name,placement:"right"}},[e.hide?t._e():a("el-menu-item",{attrs:{index:e.id},on:{click:function(e){t.showListDetail(i)}}},[a("i",{staticClass:"aside-icon"},[a("svg-icon",{attrs:{"icon-class":e.id}})],1),t._v(" "),a("span",{attrs:{slot:"title"},slot:"title"},[t._v(t._s(e.name))])])],1)})],2)],1),t._v(" "),a("el-col",{staticClass:"subMenu",attrs:{span:t.isOpen?17:12}},[a("transition",{attrs:{name:"aniFadeInout"}},[t.isOpenSubMenu?a("ul",{staticClass:"sub-menu"},[a("li",{staticClass:"sub-menu-title"},[t._v(t._s(t.subTitle))]),t._v(" "),t.isTwo?[a("el-menu",{directives:[{name:"show",rawName:"v-show",value:t.isTwo,expression:"isTwo"}],staticClass:"el-menu-vertical-demo",attrs:{"default-active":"0","background-color":"#fff","text-color":"#606266","active-text-color":"#ffd04b"}},t._l(t.subList,function(e,i){return a("el-submenu",{key:i,attrs:{index:""+i}},[a("template",{slot:"title"},[a("span",[t._v(t._s(e.title))])]),t._v(" "),t._l(e.subList,function(i,n){return a("el-menu-item",{key:n,attrs:{index:e.title+"-"+n}},[a("router-link",{staticClass:"sub-menu-list",attrs:{tag:"li",to:i.path}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t"+t._s(i.title)+"\n\t\t\t\t\t\t\t\t\t\t")])],1)})],2)}))]:t._l(t.subList,function(e,i){return e.hide?e.isSub?a("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{"default-active":t.defaultIndex,"background-color":"#fff","text-color":"#606266","active-text-color":"#ffd04b"}},[a("el-submenu",{key:i,attrs:{index:""+i}},[a("template",{slot:"title"},[a("svg-icon",{staticClass:"el-submenu__icon-arrow",attrs:{"icon-class":"next"}}),t._v(" "),a("span",{staticClass:"f_s_12"},[t._v(t._s(e.title))])],1),t._v(" "),t._l(e.subList,function(e,n){return a("el-menu-item",{key:i+"-"+n,attrs:{index:i+"-"+n}},[a("router-link",{staticClass:"sub-menu-list p_l_20",attrs:{tag:"li",to:e.path}},[t._v("\n                                            "+t._s(e.title)+"\n                                        ")])],1)})],2)],1):t._e():a("router-link",{key:i,staticClass:"sub-menu-list",class:{"router-link-active":e.id&&e.id==t.metaDepend},attrs:{tag:"li",to:e.path}},[t._v("\n                                "+t._s(e.title)+"\n                            ")])}),t._v(" "),t.isOpenSubMenu?a("div",{staticClass:"toggle-subMenu",class:{"toggle-subMenuRight":!t.isOpenSubMenu},on:{click:function(e){t.toggle("isOpenSubMenu")}}},[a("svg-icon",{attrs:{"icon-class":"submenu"}})],1):t._e()],2):t._e()])],1)],1)],1),t._v(" "),t.subMenuShow?a("div",{staticClass:"toggle-subMenu toggle-subMenu-aside",class:{"toggle-subMenuLeft":t.isOpen&&!t.isOpenSubMenu,"toggle-subMenuRight":!t.isOpen&&!t.isOpenSubMenu},on:{click:function(e){t.toggle("isOpenSubMenu")}}},[t.isOpenSubMenu?t._e():a("svg-icon",{staticStyle:{transform:"rotate(180deg)"},attrs:{"icon-class":"submenu"}})],1):t._e()])],1)},staticRenderFns:[]};var V={components:{NavHeader:v,NavAside:a("VU/8")(A,M,!1,function(t){a("esiz"),a("4+gD"),a("YU8I")},"data-v-c3158766",null).exports},data:function(){return{mainHeight:document.body.clientHeight-85,mainPadding:51}},methods:{paddingValue:function(t){this.mainPadding=t-0+20}},computed:{key:function(){return void 0!==this.$route.name?this.$route.name+ +new Date:this.$route+ +new Date}},mounted:function(){var t=this,e=this;window.onresize=this._.debounce(function(){e.mainHeight=document.body.clientHeight-85,t.$store.state.user.echartsList.map(function(t){t.resize()})},400),Date.prototype.Format=function(t){var e={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length)));for(var a in e)new RegExp("("+a+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?e[a]:("00"+e[a]).substr((""+e[a]).length)));return t};var a=this.$store.state.user.regionList;if(F()){var i=this._.find(a,{uuid:F()});i?$(i.hasVnc):(O(a[0].uuid),L(a[0].details.zoneId),$(a[0].details.hasVnc)),i=null}else O(a[0].uuid),L(a[0].details.zoneId),$(a[0].details.hasVnc);a=null}},B={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"layout"},[e("NavHeader"),this._v(" "),e("div",[e("NavAside",{on:{paddingValue:this.paddingValue}}),this._v(" "),e("el-main",{staticClass:"rightMain",style:{minHeight:this.mainHeight+"px",paddingLeft:this.mainPadding+"px"}},[e("router-view",{key:this.key})],1)],1),this._v(" "),e("footer",{staticClass:"footer"},[this._v("\n\t\t©2018中国电信股份有限公司云计算分公司版权所有 京ICP备 12022551号\n\t")])],1)},staticRenderFns:[]};var j=a("VU/8")(V,B,!1,function(t){a("CV9Q"),a("qOJh")},"data-v-0de22233",null).exports,q={name:"slider",props:{isDragOk:{type:Boolean,default:!1}},data:function(){return{curW:0,isMove:!1,maxWidth:0,element:{},text:"拖动滑块验证",currentPos:{x:0,y:0}}},created:function(){},mounted:function(){var t=this;this.element=document.querySelector(".handler"),this.getMaxWidth(),window.addEventListener("resize",t.getMaxWidth),window.addEventListener("orientationchange",t.getMaxWidth),this.element.addEventListener("touchstart",t.touchstartFun,!1),document.querySelector("body").addEventListener("touchmove",t.touchmoveFun,!1),document.querySelector("body").addEventListener("touchend",t.touchendFun,!1),this.element.addEventListener("mousedown",t.touchstartFun,!1),document.querySelector("body").addEventListener("mousemove",t.touchmoveFun,!1),document.querySelector("body").addEventListener("mouseup",t.touchendFun,!1),function e(){t.curW<=t.maxWidth?(window.requestAnimFrame=window.requestAnimationFrame?window.requestAnimationFrame(e,1e3/60)||window.webkitRequestAnimationFrame(e,1e3/60)||window.mozRequestAnimationFrame(e,1e3/60):function(t){window.setTimeout(e,1e3/60)},t.curW=t.currentPos.x):t.curW=t.currentPos.x=t.maxWidth}()},watch:{isDragOk:function(t,e){var a=this;t||(this.curW=0,this.isMove=!1,this.maxWidth=0,this.text="拖动滑块验证",this.currentPos={x:0,y:0},this.getMaxWidth(),function t(){a.curW<=a.maxWidth?(window.requestAnimationFrame(t,1e3/60),a.curW=a.currentPos.x):a.curW=a.currentPos.x=a.maxWidth}())}},beforeDestroy:function(){console.log("滑动组建销毁"),window.removeEventListener("resize",this.getMaxWidth),window.removeEventListener("orientationchange",this.getMaxWidth)},methods:{touchstartFun:function(t){this.isDragOk?t.preventDefault():(this.isMove=!0,this.curW=this.currentPos.x=this.getCurrentPosition(t).x)},touchmoveFun:function(t){this.isMove&&this.curW>0&&this.curW<this.maxWidth?this.currentPos.x=this.getCurrentPosition(t).x:this.isMove&&this.curW>=this.maxWidth&&(this.curW=this.currentPos.x=this.maxWidth,this.text="验证通过",this.$emit("introduce",!0))},touchendFun:function(t){this.isMove=!1,this.curW<this.maxWidth&&(this.curW=this.currentPos.x=0)},getCurrentPosition:function(t){var e,a,i;return i=document.getElementById("drag").getBoundingClientRect(),-1!==t.type.indexOf("touch")?(e=t.touches[0].clientX-i.left,a=t.touches[0].clientY-i.top):(e=t.clientX-i.left,a=t.clientY-i.top),{x:e,y:a}},getMaxWidth:function(){this.maxWidth=document.querySelector("#drag").clientWidth-document.querySelector(".handler").scrollWidth}}},U={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"drag"}},[e("div",{staticClass:"drag_bg weui-btn_primary",style:{width:this.curW+"px"}}),this._v(" "),e("div",{staticClass:"drag_text",class:[this.isDragOk?"whitecolor":""],attrs:{onselectstart:"return false;",unselectable:"on"}},[this._v(this._s(this.text))]),this._v(" "),e("div",{staticClass:"handler",class:[this.isDragOk?"handler_ok_bg":"handler_bg"],style:{left:this.curW+"px"}})])},staticRenderFns:[]};var H={components:{slider:a("VU/8")(q,U,!1,function(t){a("kNNH")},"data-v-257d9c02",null).exports},data:function(){return{msg:"登录界面",mainHeight:document.body.clientHeight,isDragOk:!1,slideBtn:!0,loginForm:{username:"",password:""},loginRules:{username:[{required:!0,trigger:"blur",message:"请输入用户名"}],password:[{required:!0,trigger:"blur",message:"密码不能为空"}]},loading:!1}},mounted:function(){var t=this;window.onresize=this._.debounce(function(){t.mainHeight=document.body.clientHeight,console.log("onresize:"+t.mainHeight)},400)},methods:{login:function(){var t=this;if(this.islogin)return!1;this.$refs.loginForm.validate(function(e){if(!e)return console.log("error submit!!"),!1;t.loading=!0,t.$store.dispatch("LoginByUsername",t.loginForm).then(function(e){console.log(e),t.loading=!1,t.$router.push({path:"/"})}).catch(function(e){console.log(e),t.loading=!1,t.isDragOk=!1,t.slideBtn=!0})})},sliderCallback:function(t){this.isDragOk=t,this.slideBtn=!t}},computed:{islogin:function(){return""==this.loginForm.username||(""==this.loginForm.password||this.slideBtn)}}},W={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"login",style:{height:t.mainHeight+"px"}},[t._m(0),t._v(" "),a("div",{staticClass:"login-form"},[t._m(1),t._v(" "),a("div",{staticClass:"login-form-body"},[a("el-form",{ref:"loginForm",attrs:{model:t.loginForm,rules:t.loginRules}},[a("el-form-item",{attrs:{prop:"username"}},[a("el-input",{attrs:{placeholder:"用户名",type:"text",disabled:t.loading,"prefix-icon":"el-icon-star-on"},model:{value:t.loginForm.username,callback:function(e){t.$set(t.loginForm,"username",e)},expression:"loginForm.username"}})],1),t._v(" "),a("el-form-item",{attrs:{prop:"password"}},[a("el-input",{attrs:{type:"password",placeholder:"密码",disabled:t.loading,"prefix-icon":"el-icon-star-off"},nativeOn:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key))return null;t.login(e)}},model:{value:t.loginForm.password,callback:function(e){t.$set(t.loginForm,"password",e)},expression:"loginForm.password"}})],1),t._v(" "),a("el-form-item",[a("slider",{attrs:{isDragOk:t.isDragOk},on:{introduce:t.sliderCallback}}),t._v(" "),t._e(),t._v(" "),t._e()],1)],1)],1),t._v(" "),t.loading?t._e():a("div",{staticClass:"login-form-footer"},[a("el-button",{staticStyle:{width:"100%",display:"block"},attrs:{type:"warning",disabled:t.islogin},nativeOn:{click:function(e){e.preventDefault(),t.login(e)}}},[t._v("登录")])],1),t._v(" "),t.loading?a("div",{staticClass:"login-form-footer"},[a("el-button",{staticStyle:{width:"100%"},attrs:{type:"warning",loading:!0}},[t._v("登录中")])],1):t._e()])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"loginLogo"},[e("div")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"login-form-header"},[e("div",{staticClass:"login-form-header-title"},[this._v("密码登录")]),this._v(" "),e("div",{staticClass:"login-form-header-intro"},[this._v("VIP用户可直接登录")])])}]};var G=a("VU/8")(H,W,!1,function(t){a("GvrN")},"data-v-2b9f638a",null).exports,Q={consoleHeader:!1,consoleMoitor:!1,consoleMessage:!1,Bks:!1},Z=[{id:"order",title:"待处理工单",count:0},{id:"renew",title:"待续费",date:"（15天内到期）",count:0},{id:"alarm",title:"告警",count:0}],J=[{title:"计算",name:"云服务器",bg:"ecm",path:"/ecm/ecmList",id:"VM"},{title:"存储",name:"云硬盘",bg:"ebs",path:"/ebs/ebsList",id:"Volume"},{title:"网络",name:"VPC",bg:"vpc",path:"/vpc/vpcList",id:"VPC"},{name:"弹性公网IP",bg:"eip",path:"/vpc/eip/eipList",id:"Public_IP"},{title:"计算",name:"镜像",bg:"ims",path:"/ims/imsList",id:"Images",hidden:!0},{name:"负载均衡",bg:"elb",path:"/elb/elbList",id:"elbs",hidden:!0}],K=[{id:"duMeter",name:"流量监控",hidden:!0},{id:"ecmMonitor",name:"云服务器监控"},{id:"ebsMonitor",name:"云硬盘监控"}],Y=[{prop:"name",label:u.common.name},{prop:"status",label:u.common.status},{prop:"ID",label:u.common.ID},{prop:"equipment",label:u.ebs.equipment},{prop:"IPAddress",label:u.common.IPAddress},{prop:"eip",label:u.common.eip}],X=a("dCis"),tt=a.n(X),et=a("jWhC"),at=a.n(et),it={data:function(){return{moduleDisplay:Q,message:{title:"消息中心",data:[{msg:"12月4日国内教育网用户访问华南一滴的的的的打的费ad沙发",date:"2017-12-05 12:34:01",id:"first"},{msg:"12月4日国内教育网用户访问华南一滴的的的的打的费ad沙发",date:"2017-12-05 12:34:01",id:"ddd"},{msg:"12月4日国内教育网用户访问华南一滴的的的的打的费ad沙发",date:"2017-12-05 12:34:01",id:"ccc"},{msg:"12月4日国内教育网用户访问华南一滴的的的的打的费ad沙发",date:"2017-12-05 12:34:01",id:"aaa"}]},service:{title:"专享服务",data:[{name:"客户经理",tel:this.$store.state.user.user.service_manager_phone||"--",icon:"tel"},{name:"项目经理",tel:this.$store.state.user.user.project_manager_phone||"--",icon:"cellphone"}]},img:{ad:{src:tt.a},qrCode:{src:at.a}}}},mounted:function(){this.$store.state.user.user}},nt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"console-main-right"},[a("el-row",[t.moduleDisplay.consoleMessage?a("el-col",{staticClass:"message-center",attrs:{span:24}},[a("div",{staticClass:"console-title"},[t._v("\n\t\t\t\t"+t._s(t.message.title)+"\n\t\t\t\t"),a("span",{staticClass:"console-message-more"},[t._v("更多")])]),t._v(" "),a("ul",{staticClass:"console-message-detail"},t._l(t.message.data,function(e){return a("router-link",{key:e.id,staticClass:"console-message-item",attrs:{tag:"li",to:"/messageCenter/"+e.id}},[a("el-col",{staticClass:"console-message-item-title"},[t._v("\n\t\t\t\t\t\t"+t._s(e.msg)+"\n\t\t\t\t\t")]),t._v(" "),a("el-col",[a("time",{staticClass:"console-time"},[t._v(t._s(e.date))])])],1)}))]):t._e(),t._v(" "),a("el-col",{staticClass:"console-service"},[a("div",{staticClass:"console-title"},[t._v("\n\t\t\t\t"+t._s(t.service.title)+"\n\t\t\t")]),t._v(" "),t._l(t.service.data,function(e){return a("el-row",{key:e.icon,staticClass:"service-item"},[a("el-col",{staticClass:"console-service-img",class:"console-service-"+e.icon,attrs:{span:5}},[a("svg-icon",{attrs:{"icon-class":e.icon}})],1),t._v(" "),a("el-col",{staticClass:"console-service-name",attrs:{span:7}},[t._v("\n\t\t\t\t\t"+t._s(e.name)+"\n\t\t\t\t")]),t._v(" "),a("el-col",{staticClass:"console-num",attrs:{span:24}},[a("el-col",{staticClass:"console-service-img",staticStyle:{height:"20px"},attrs:{span:5}}),t._v(" "),a("el-col",{staticClass:"console-service-name",attrs:{span:19}},[t._v("\n\t\t\t\t\t\t"+t._s(e.tel)+"\n\t\t\t\t\t")])],1)],1)})],2),t._v(" "),a("el-col",{staticClass:"console-ad"},[a("img",{attrs:{src:t.img.ad.src}})]),t._v(" "),t.moduleDisplay.consoleMessage?a("el-col",{staticClass:"console-Qrcode"},[a("el-row",[a("el-col",{staticClass:"console-qrCode-img",attrs:{span:8}},[a("img",{attrs:{src:t.img.qrCode.src}})]),t._v(" "),a("el-col",{staticClass:"console-qrCode-intro",attrs:{span:16}},[a("div",{staticClass:"console-qrCode-title console-title"},[t._v("\n\t\t\t\t\t\t天翼云APP\n\t\t\t\t\t")]),t._v(" "),a("div",{staticClass:"console-qrCode-content"},[a("p",[t._v("云网融合，您的可信云管家")]),t._v(" "),a("p",[t._v("扫一扫下载")])])])],1)],1):t._e()],1)],1)},staticRenderFns:[]};var st=a("VU/8")(it,nt,!1,function(t){a("Vy3V")},"data-v-6f93f2a2",null).exports,ot=a("//Fk"),rt=a.n(ot),lt=a("mtWM"),ct=a.n(lt),ut=a("NYxO");function dt(t){return Ct({url:"console/ecm/rest/me/",method:"get",params:{regionid:"all"}})}function pt(){return Ct({url:"console/index/platform/",method:"get",params:{regionid:"all"}})}var mt={state:{stack:"vip",user:"",status:"",code:"",token:I(),name:"",email:"",avatar:"",introduction:"",regionId:"",regionType:"",regionList:[],roles:[],setting:{articlePlatform:[]},echartsList:[],language:w.a.get("language")||"zh"},mutations:{SET_CODE:function(t,e){t.code=e},SET_TOKEN:function(t,e){t.token=e},SET_INTRODUCTION:function(t,e){t.introduction=e},SET_SETTING:function(t,e){t.setting=e},SET_STATUS:function(t,e){t.status=e},SET_NAME:function(t,e){t.name=e},SET_AVATAR:function(t,e){t.avatar=e},SET_ROLES:function(t,e){t.roles=e},SET_EMAIL:function(t,e){t.email=e},SET_ID:function(t,e){t.id=e},SET_REGIONID:function(t,e){t.regionList=e.platforms},SET_USER:function(t,e){t.user=e},SET_REGIONTYPE:function(t,e){t.regionType=e},ADD_ECHARTS:function(t,e){t.echartsList.push(e)},CLEAR_ECHARTS:function(t,e){t.echartsList=e}},actions:{LoginByUsername:function(t,e){var a=t.commit,i=e.username.trim();return new rt.a(function(t,n){var s,o;(s=i,o=e.password,Ct({url:"login/",method:"post",data:{email:s,password:o}})).then(function(e){var i=e.data;console.log(i),a("SET_TOKEN",I()),t()}).catch(function(t){n(t)})})},GetUserInfo:function(t){var e=t.commit,a=t.state;return new rt.a(function(t,i){dt(a.token).then(function(a){var i=a.data;e("SET_ROLES",i.roles),e("SET_NAME",i.customer_name),e("SET_EMAIL",i.email),e("SET_ID",i.id),e("SET_AVATAR",i.avatar),e("SET_INTRODUCTION",i.introduction),e("SET_USER",i),t(a)}).catch(function(t){i(t)})})},GetRegionId:function(t){var e=t.commit;t.state;return new rt.a(function(t,a){pt().then(function(a){var i=a.data;e("SET_REGIONID",i),t(a)}).catch(function(t){a(t)})})},LogOut:function(t){var e=t.commit,a=t.state;return new rt.a(function(t,i){(a.token,Ct({url:"logout/",method:"get",data:{regionid:"all"}})).then(function(){e("SET_TOKEN",""),e("SET_ROLES",[]),S(),t()}).catch(function(t){i(t)})})},FedLogOut:function(t){var e=t.commit;return new rt.a(function(t){e("SET_TOKEN",""),S(),t()})},ChangeRole:function(t,e){var a=t.commit;return new rt.a(function(t){var i;a("SET_TOKEN",e),i=e,w.a.set(C,i),dt().then(function(e){var i=e.data;a("SET_ROLES",i.role),a("SET_NAME",i.name),a("SET_AVATAR",i.avatar),a("SET_INTRODUCTION",i.introduction),t()})})},changeRegionType:function(t,e){(0,t.commit)("SET_REGIONTYPE",e)}}},ht={language:function(t){return t.user.language},token:function(t){return t.user.token},name:function(t){return t.user.name},email:function(t){return t.user.email},id:function(t){return t.user.id},introduction:function(t){return t.user.introduction},status:function(t){return t.user.status},roles:function(t){return t.user.roles},setting:function(t){return t.user.setting},regionId:function(t){return t.user.regionId},regionType:function(t){return t.user.regionType}};i.default.use(ut.a);var ft,vt=new ut.a.Store({modules:{user:mt},getters:ht}),gt=a("bOdI"),bt=a.n(gt),_t=(ft={password_is_wrong:"用户名或密码错误","VPC.0104":"VPC删除失败，此VPC下存在子网！","rebuild.001":"当前云服务器下有快照，重装失败，请删除快照后重试","SUBNET.003":"子网创建失败，Cidr有重复","snapshot.001":"该磁盘下有快照，请删除快照后重试",2044:"该云服务器下有快照任务，请稍后重试","SUBNET.004":"该子网下有云服务器，不能删除！",1016:"该虚拟私有云下有子网，请删除子网后重试",1015:"该虚拟私有云已被使用，不可删除","volume.001":"选定的云服务器有快照,不能挂载磁盘","volume.002":"该磁盘挂载的云服务器下有快照，不能卸载",2050:"一台云服务器下最多可创建十个快照",pw400:"密码重复,修改失败",1000:"验证用户错误",1001:"获取网络列表失败",1002:"网络已存在",1004:"创建网络失败",1006:"获取网络失败",1007:"更新网络名字存在",1009:"选择的网络不存在",1012:"更新网络失败",1013:"选择的网络不存在"},bt()(ft,"1015","网络正在使用"),bt()(ft,"1016","网络有子网"),bt()(ft,"1017","删除网络失败"),bt()(ft,"1018","获取子网失败"),bt()(ft,"1019","子网列表错误"),bt()(ft,"1020","在更新网络错误"),bt()(ft,"1022","在更新网络成功， 但在数据库更新失败"),bt()(ft,"1023","参数错误， 请检查你的参数"),bt()(ft,"1024","网络不存在"),bt()(ft,"1025","子网的不在网络的内"),bt()(ft,"1026","检查你的格式"),bt()(ft,"1027","在同一个不能有相同地址"),bt()(ft,"1028","创建子网失败"),bt()(ft,"1029","选择的子网不存在"),bt()(ft,"1032","子网正在使用"),bt()(ft,"1033","删除子网失败"),bt()(ft,"1034","获取弹性公网IP列表失败"),bt()(ft,"1035","创建弹性公网IP失败"),bt()(ft,"1036","更新弹性公网IP失败"),bt()(ft,"1037","获取弹性公网IP失败"),bt()(ft,"1038","获取防火墙列表失败"),bt()(ft,"1039","创建防火墙失败"),bt()(ft,"1041","获取防火墙失败"),bt()(ft,"1043","acl已绑定子网，无法删除"),bt()(ft,"1044","更新防火墙失败"),bt()(ft,"1045","获取防火墙列表失败"),bt()(ft,"1046","需要提供防火墙的"),bt()(ft,"1047","给定了端口范围， 也要指定协议"),bt()(ft,"1048","在获取防火墙失败"),bt()(ft,"1049","保存防火墙列表到失败"),bt()(ft,"1050","创建防火墙列表失败"),bt()(ft,"1051","删除防火墙列表失败"),bt()(ft,"1054","替换防火墙失败"),bt()(ft,"1055","防火墙操作不存在"),bt()(ft,"1058","创建端口转发规则失败"),bt()(ft,"1059","删除端口转发规则失败"),bt()(ft,"1061","需要提供协议"),bt()(ft,"1062","获取负载均衡规则列表失败"),bt()(ft,"1063","创建负载均衡规则失败"),bt()(ft,"1064","需要提供负载均衡规则"),bt()(ft,"1065","更新负载均衡规则失败"),bt()(ft,"1066","删除负载均衡规则失败"),bt()(ft,"1067","需要提供负载均衡规则和虚拟机"),bt()(ft,"1068","创建负载均衡健康检查政策失败"),bt()(ft,"1069","需要提供负载均衡健康检查政策"),bt()(ft,"1070","删除负载均衡健康检查政策失败"),bt()(ft,"1071","需要提供实例的"),bt()(ft,"1072","需要提供镜像的名称"),bt()(ft,"1073","需要提供镜像描述"),bt()(ft,"1074","需要提供"),bt()(ft,"1075","获取负载均衡健康检查政策失败"),bt()(ft,"1076","在创建网络失败"),bt()(ft,"1077","在创建子网失败"),bt()(ft,"1078","创建路由错误"),bt()(ft,"1079","获取所有端口错误"),bt()(ft,"1080","获取用户"),bt()(ft,"2001","获取磁盘卷失败"),bt()(ft,"2002","磁盘卷创建错误"),bt()(ft,"2032","磁盘卷创建参数错误"),bt()(ft,"2033","磁盘卷更新参数错误"),bt()(ft,"2034","磁盘卷删除参数错误"),bt()(ft,"2035","在获取磁盘卷失败"),bt()(ft,"2036","附加磁盘卷失败， 因为实例有快照"),bt()(ft,"2038","扩充磁盘卷失败， 因为磁盘卷还没有附加上"),bt()(ft,"2039","磁盘卷备份创建参数错误"),bt()(ft,"2040","磁盘卷备份创建失败， 磁盘卷状态为"),bt()(ft,"2041","磁盘卷备份更新参数错误"),bt()(ft,"2042","磁盘卷复原错误， 因为实例不是关机状态"),bt()(ft,"2043","磁盘卷复原错误， 因为主机异常"),bt()(ft,"2003","磁盘卷更新失败， 需要提供磁盘卷"),bt()(ft,"2004","磁盘卷更新失败"),bt()(ft,"2006","删除磁盘卷失败"),bt()(ft,"2007","磁盘卷删除失败， 因为磁盘卷附加上了"),bt()(ft,"2010","查询磁盘卷失败"),bt()(ft,"2013","磁盘卷操作错误"),bt()(ft,"2014","操作磁盘卷时没有获取到实例"),bt()(ft,"2015","附加磁盘卷失败"),bt()(ft,"2016","拆分磁盘卷失败"),bt()(ft,"2017","磁盘卷没有找到"),bt()(ft,"2018","扩充磁盘卷失败， 因为新的磁盘卷不比之前的大"),bt()(ft,"2019","扩充磁盘卷失败， 因为磁盘卷已经挂载"),bt()(ft,"2020","扩充磁盘卷失败"),bt()(ft,"2021","获取磁盘卷备份失败"),bt()(ft,"2022","创建磁盘卷备份失败"),bt()(ft,"2023","获取磁盘卷备份失败"),bt()(ft,"2024","更新磁盘卷备份失败"),bt()(ft,"2025","删除磁盘卷备份失败"),bt()(ft,"2026","磁盘卷操作不支持此备份"),bt()(ft,"2027","复原磁盘卷备份失败"),bt()(ft,"2028","磁盘卷备份复原失败， 因为不能磁盘卷名称和同时存在"),bt()(ft,"2029","磁盘卷备份复原失败， 因为没有提供磁盘卷名称或者磁盘卷"),bt()(ft,"2030","没有知道磁盘卷备份"),bt()(ft,"2031","磁盘卷支持此操作"),bt()(ft,"3001","创建认证信息失败"),bt()(ft,"3002","获取所有主机失败"),bt()(ft,"3030","创建角色失败"),bt()(ft,"3031","获取所有方案失败"),bt()(ft,"3032","参数和方案不能为"),bt()(ft,"3033","获取方案失败"),bt()(ft,"3034","创建方案失败， 请检查参数"),bt()(ft,"3035","在创建方案失败"),bt()(ft,"3036","在创建方案成功， 但是保存再失败"),bt()(ft,"3037","请提供"),bt()(ft,"3038","删除方案失败"),bt()(ft,"3009","获取实例失败， 请检查参数"),bt()(ft,"3007","更新实例失败， 请检查参数"),bt()(ft,"3008","更新实例失败"),bt()(ft,"3012","实例操作失败"),bt()(ft,"3042","密匙对不存在"),bt()(ft,"3043","删除密匙对失败"),bt()(ft,"3044","获取密匙对失败"),bt()(ft,"3045","密匙对已经存在"),bt()(ft,"3046","保存密匙对到失败"),bt()(ft,"3047","创建密匙对失败"),bt()(ft,"3048","为用户创建失败"),bt()(ft,"3049","获取密匙对失败"),bt()(ft,"3050","获取可用域失败"),bt()(ft,"3051","获取可用域失败"),bt()(ft,"3052","获取云服务器控制台失败"),bt()(ft,"3053","获取云服务器控制台和失败"),bt()(ft,"3054","创建云服务器交互连接失败"),bt()(ft,"3055","获取云服务器交互连接失败"),bt()(ft,"3028","云服务器在线迁移失败"),bt()(ft,"3056","获取云服务器交互连接失败"),bt()(ft,"3026","获取云服务器失败"),bt()(ft,"3025","云服务器增加安全组失败"),bt()(ft,"3024","云服务器从安全组移除错误"),bt()(ft,"3023","给云服务器增加错误"),bt()(ft,"3022","从云服务器删除错误"),bt()(ft,"3021","重建云服务器失败"),bt()(ft,"3020","修改云服务器密码失败"),bt()(ft,"3057","云服务器方案不变"),bt()(ft,"3018","删除云服务器交互连接失败"),bt()(ft,"3029","不支持此操作"),bt()(ft,"3016","获取云服务器失败"),bt()(ft,"3059","需要提供网络的"),bt()(ft,"3063","需要提供镜像"),bt()(ft,"3013","云服务器操作失败"),bt()(ft,"0000","网络不可到达"),bt()(ft,"0001","服务不可用"),bt()(ft,"4001","参数错误"),bt()(ft,"4002","创建用户失败"),bt()(ft,"4003","更新用户失败"),bt()(ft,"4004","更新用户到合同失败"),bt()(ft,"4005","查询用户不存在"),bt()(ft,"4006","已经存在"),bt()(ft,"4007","查询用户信息失败"),bt()(ft,"4009","获取用户失败"),bt()(ft,"4010","删除用户失败"),bt()(ft,"4011","用户操作失败"),bt()(ft,"4012","新密码和确认密码不匹配"),bt()(ft,"4013","输入原来密码错误"),bt()(ft,"4014","修改密码错误"),bt()(ft,"4015","修改密码异常"),bt()(ft,"4016","初始化用户关联到数据中心错误"),bt()(ft,"4017","注册用户关联到数据中心错误"),bt()(ft,"4018","用户数据中心不存在"),bt()(ft,"4019","获取用户信息失败"),bt()(ft,"4020","数据中心注销用户失败"),bt()(ft,"4021","用户不可用"),bt()(ft,"4022","用户初始化错误"),bt()(ft,"4023","用户必须是"),bt()(ft,"4026","更新资源阈失败"),bt()(ft,"5001","获取镜像失败"),bt()(ft,"5002","实例不是关机状态不能创建私有镜像"),bt()(ft,"5003","创建私有镜像失败"),bt()(ft,"5004","更新镜像失败"),bt()(ft,"5006","删除镜像失败"),bt()(ft,"5007","镜像操作错误"),bt()(ft,"5009","需要提供镜像"),bt()(ft,"5010","实例不是关机状态不能创建私有镜像"),bt()(ft,"2037","绑定的云服务器有快照,不能卸载磁盘"),ft),yt=ct.a.CancelToken,wt=ct.a.create({baseURL:"/",timeout:5e4});wt.cancle=null,wt.interceptors.request.use(function(t){if(t.cancelToken=new yt(function(t){wt.cancle=t}),vt.getters.token){if("get"==t.method){var e=(new Date).getTime();t.params?t.params.timeStamp=e:t.params={timeStamp:e}}t.headers["X-CSRFToken"]=I()}return t},function(t){console.log(t),rt.a.reject(t)}),wt.interceptors.response.use(function(t){return t},function(t){if(console.log("err"+t),t.response){var e=(a=t.response,i=a.data,s=void a.status,i.password_is_wrong&&(s="password_is_wrong"),i.code&&400!==i.code?s=i.code:400==i.code&&i.errstatus&&(console.log(i.errstatus),s=i.errstatus),console.log(s),_t[s]||i.msg||t.message);401==t.response.status?(console.log(t.response.data),console.log(t.response.status),console.log(t.response.headers),vt.dispatch("FedLogOut").then(function(){location.href="#/login"})):Object(n.Message)({message:e,type:"error",duration:5e3,showClose:!0})}else console.log("Error",t.message),"CancelToken"==t.message||Object(n.Message)({message:"连接超时，请稍后重试",type:"error",duration:5e3,showClose:!0});var a,i,s;return rt.a.reject(t)});var Ct=wt;function kt(t){return Ct({url:"console/ecm/jobs/"+t+"/",params:{regionid:F()},method:"get"})}function xt(){return parseInt((new Date).getTime()%61439+4096).toString(16)}function Dt(){var t=0,e=0;return document.body&&(t=document.body.scrollHeight),document.documentElement&&(e=document.documentElement.scrollHeight),t-e>0?t:e}function Tt(){return"CSS1Compat"==document.compatMode?document.documentElement.clientHeight:document.body.clientHeight}function It(){return t=0,e=0,document.body&&(t=document.body.scrollTop),document.documentElement&&(e=document.documentElement.scrollTop),(t-e>0?t:e)+Tt()+20>=Dt();var t,e}function St(t,e,a){var i=window.event||t,n=document.getElementById(a).getElementsByTagName("input"),s=i.target.value.length,o=(i.target.value,i.keyCode||i.which||i.charCode);if(o>=48&&o<=57||o>=96&&o<=105)return s>=3&&n[e].selectionStart!=n[e].selectionEnd||(s>=3&&n[e].selectionStart==n[e].selectionEnd&&e<3&&(n[e+1].focus(),n[e+1].setSelectionRange(0,0)),!0);if(39==o||190==o){var r=-1;if(n[e].value||"0"==n[e].value)if(n[e].selectionStart||"0"==n[e].selectionStart)r=n[e].selectionStart;else{var l=document.selection.createRange();l.moveStart("character",-n[e].value.length),r=l.text.length}else r=0;if(console.log(n[e].selectionStart),r==n[e].value.length&&e<3){var c=n[e+1].value.length;if(n[e+1].setSelectionRange)n[e+1].focus(),n[e+1].setSelectionRange(0,0);else if(n[e+1].createTextRange){var u=obj.createTextRange();u.collapse(!0),u.moveEnd("character",c),u.moveStart("character",c),u.select()}}190==o&&t.preventDefault()}else if(37==o){var d=-1;if(n[e].value||"0"==n[e].value)if(n[e].selectionStart||"0"==n[e].selectionStart)d=n[e].selectionEnd;else{var p=document.selection.createRange();p.moveStart("character",-n[e].value.length),d=p.text.length}else d=0;if(console.log(d,n[e].selectionEnd),"0"==d&&e>0){var m=n[e-1],h=m.value.length;m.setSelectionRange?setTimeout(function(){m.focus(),m.selectionStart=h,m.selectionEnd=h,m.setSelectionRange(h,h)},10):m.createTextRange&&setTimeout(function(){var t=obj.createTextRange();t.collapse(!0),t.moveEnd("character",h),t.moveStart("character",h),t.select()},10)}}else{if(8==o){var f=-1,v=n[e].value.length;if(n[e].value||"0"==n[e].value)if(n[e].selectionStart||"0"==n[e].selectionStart)f=n[e].selectionStart;else{var g=document.selection.createRange();g.moveStart("character",-s),f=g.text.length}else f=0;if(0==f){if("0"==n[e].selectionStart&&v==n[e].selectionEnd&&n[e].value)return!0;e>0&&(n[e-1].selectionStart=n[e-1].value.length,n[e-1].focus())}return!0}if(9==o)return!0;t.preventDefault()}}var Et={data:function(){return{productsList:J,btnList:K,dashboarList:Z,moduleDisplay:Q}},methods:{handleMonitor:function(t){console.log(t)},getProductListData:function(){var t,e=this;(t={all_dc:1,regionid:"all"},Ct({url:"console/ecm/ecs/dashboard/",method:"get",params:t})).then(function(t){var a=t.data.results[0];e.productsList.map(function(t){var i=a[t.id];if(i){var n=i.vm_total_count?i.vm_total_count:i.total_count;e.$set(t,"num",n)}})})}},components:{MainRight:st},beforeCreate:function(){this.stack=this.$store.state.user.stack},created:function(){var t,e,a;this.getProductListData(),"vip"==this.stack&&(t="../src/styles/dashboard/consoleCenterVip.css",e=document.getElementsByTagName("head")[0],(a=document.createElement("link")).href=t,a.rel="stylesheet",a.type="text/css",e.appendChild(a))}},Ot={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-main",{staticClass:"console-main"},["vip"==this.stack?a("el-row",{attrs:{gutter:40}},[a("el-col",{attrs:{span:18}},[t.moduleDisplay.consoleHeader?a("el-row",{staticClass:"console-header",attrs:{gutter:20}},[a("el-col",{attrs:{span:14}},[a("el-row",{staticClass:"console-dashboard"},t._l(t.dashboarList,function(e){return a("el-col",{key:e.id,attrs:{span:8}},[a("div",{staticClass:"console-title console-dashboard-title"},[t._v("\n\t\t\t\t\t\t\t\t\t"+t._s(e.title)+"\n\t\t\t\t\t\t\t\t\t"),e.date?a("span",[t._v("\n\t\t\t\t\t\t\t\t\t\t"+t._s(e.date)+"\n\t\t\t\t\t\t\t\t\t")]):t._e()]),t._v(" "),a("div",{staticClass:"console-dashboard-count console-number"},[t._v("\n\t\t\t\t\t\t\t\t\t"+t._s(e.count||0)+"\n\t\t\t\t\t\t\t\t")])])}))],1),t._v(" "),a("el-col",{attrs:{span:10}},[a("el-row",{staticClass:"console-user-charge"},[a("el-col",{attrs:{span:24}},[a("div",{staticClass:"console-title"},[t._v("\n\t\t\t\t\t\t\t\t\t账户概况\n\t\t\t\t\t\t\t\t")])]),t._v(" "),a("el-col",{attrs:{span:9}},[a("div",{staticClass:"console-user-charge-numer"},[a("div",{staticClass:"console-number"},[t._v("15930.00")]),t._v("\n\t\t\t\t\t\t\t\t\t账户余额\n\t\t\t\t\t\t\t\t")])]),t._v(" "),a("el-col",{staticClass:"console-user-cards",attrs:{span:10}},[a("div",[a("span",[t._v("0")]),t._v("张银行卡")]),t._v(" "),a("div",[a("span",[t._v("0")]),t._v("张代金券")]),t._v(" "),a("div",[a("span",[t._v("0")]),t._v("张优惠券")])]),t._v(" "),a("el-col",{staticClass:"console-user-recharge",attrs:{span:5}},[t._v("充值 》")])],1)],1)],1):t._e(),t._v(" "),a("el-row",{staticClass:"console-center",attrs:{gutter:20}},[a("el-col",{staticClass:"console-title console-product",attrs:{span:24}},[t._v("\n\t\t\t\t\t\t我的资源\n\t\t\t\t\t")]),t._v(" "),t._l(t.productsList,function(e){return e.hidden?t._e():a("el-col",{key:e.bg,staticClass:"console-product-productsList",attrs:{span:8}},[a("router-link",{staticClass:"console-product-item",attrs:{tag:"div",to:e.path}},[a("div",{staticClass:"console-product-left"},[a("div",{staticClass:"console-product-img",class:"console-product-img-"+e.bg}),t._v(" "),a("div",{staticClass:"console-product-title"},[t._v(t._s(e.name))])]),t._v(" "),a("div",{staticClass:"console-product-right"},[t._v("\n\t\t\t\t\t\t\t\t"+t._s(e.num||0)+"\n\t\t\t\t\t\t\t")])])],1)})],2),t._v(" "),t.moduleDisplay.consoleMonitor?a("el-row",{staticClass:"console-footer-btn"},t._l(t.btnList,function(e){return e.hidden?t._e():a("el-button",{key:e.id,on:{click:function(a){t.handleMonitor(e.id)}}},[t._v("\n\n\t\t\t\t\t\t"+t._s(e.name)+"\n\t\t\t\t\t")])})):t._e(),t._v(" "),t.moduleDisplay.consoleMonitor?a("el-row",{attrs:{gutter:20}},[a("el-col",{staticClass:"console-footer",attrs:{span:24}},[t._v("\n\t\t\t\t\t\t流量监控图\n\t\t\t\t\t")])],1):t._e()],1),t._v(" "),a("el-col",{attrs:{span:6}},[a("MainRight")],1)],1):t._e(),t._v(" "),"console"==this.stack?a("el-row",{attrs:{gutter:40}},[a("el-row",{staticClass:"console-center",attrs:{gutter:20}},t._l(t.productsList,function(e){return e.hidden?t._e():a("el-col",{key:e.bg,staticClass:"console-product-productsList",attrs:{span:8}},[a("div",[t._v(t._s(e.title))]),t._v(" "),a("router-link",{staticClass:"console-product-item",attrs:{tag:"div",to:e.path}},[a("div",{staticClass:"console-product-left"},[a("div",{staticClass:"console-product-img",class:"console-product-img-"+e.bg}),t._v(" "),a("div",{staticClass:"console-product-title"},[t._v(t._s(e.name))])]),t._v(" "),a("div",{staticClass:"console-product-right"},[t._v("\n              "+t._s(e.num||0)+"\n            ")])])],1)}))],1):t._e()],1)},staticRenderFns:[]};var Ft=a("VU/8")(Et,Ot,!1,function(t){a("soRi")},"data-v-3e501a0c",null).exports,Lt=a("zAji"),Pt=a.n(Lt),Nt=a("JE9E"),$t=a.n(Nt),Rt={data:function(){return{errorCode:"",message:"123",errorType:"",error404:Pt.a,error500:$t.a,error_image:""}},methods:{getErrorMsg:function(t){404==t?this.message="页面不存在哦":500==t&&(this.message="服务器开小差了")},reback:function(){this.$router.push("/console")}},created:function(){console.log("123434"),this.getErrorMsg(this.$route.params.errorCode),this.errorCode=this.$route.params.errorCode}},zt={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"errorContent"},[e("div",[404==this.errorCode?e("img",{attrs:{src:this.error404}}):this._e(),this._v(" "),500==this.errorCode?e("img",{attrs:{src:this.error500}}):this._e()]),this._v(" "),e("div",{staticClass:"errorInfo"},[e("span",{staticClass:"errorMsg"},[this._v(this._s(this.message))]),this._v(" "),e("span",{class:{reback404:404==this.errorCode,reback500:500==this.errorCode},on:{click:this.reback}},[this._v("返回首页")])])])},staticRenderFns:[]};var At=a("VU/8")(Rt,zt,!1,function(t){a("4zCi")},"data-v-3624b5d7",null).exports;function Mt(t){return Ct({url:"console/ecm/ecs/dashboard/",method:"get",params:t})}function Vt(t){return t.regionid||(t.regionid=F()),Ct({url:"console/index/resourcenum/",method:"get",params:t})}function Bt(t){return t&&(t.regionid=F())&&(t.zoneid=P()),Ct({url:"console/ecm/ecs/servers/",method:"get",params:t})}function jt(t){var e={regionid:F(),zoneid:P(),id:t};return Ct({url:"console/ecm/ecs/servers/",method:"get",params:e})}function qt(t){var e={regionid:F(),zoneid:P(),instance_uuid:t};return Ct({url:"console/ecm/ebs/volumes/",method:"get",params:e})}function Ut(t){var e={regionid:F(),zoneid:P(),id:t};return Ct({url:"console/network/subnets/",method:"get",params:e})}function Ht(t,e){var a={regionid:F(),servers:t,operation:e.action};return Ct({url:"console/ecm/ecs/action/",method:"post",data:a})}function Wt(t){return t?(t.zoneid=P(),t.regionid=F()):t={regionid:F(),zoneid:P()},Ct({url:"console/ecm/ecs/orderimages/",method:"get",params:t})}function Gt(t){var e={regionid:F(),id:t};return Ct({url:"console/ecm/ecs/images/",method:"delete",data:e})}function Qt(t){return Ct({url:"console/index/platform/",method:"get",params:t})}function Zt(t){return t?(t.regionid=F(),t.zoneid=P()):t={regionid:F(),zoneid:P()},Ct({url:"console/ecm/key/os-keypairs/",method:"get",params:t})}function Jt(t){return t.regionid=F(),Ct({url:"console/ecm/key/os-keypairs/",method:"post",data:t})}function Kt(t){var e={regionid:F(),name:t};return Ct({url:"console/ecm/key/os-keypairs/",method:"delete",data:e})}function Yt(t){return Ct({url:"console/network/vpcs/",method:"get",params:t})}function Xt(t){return Ct({url:"console/ecm/ecs/buyserver/",method:"POST",data:t})}function te(t){return t.regionid=F(),Ct({url:"console/network/eipsdata/",method:"get",params:t})}function ee(t){var e={regionid:F()};return Ct({url:"console/ecm/ecs/vncconsoles/?instance_uuid="+t,method:"get",params:e})}function ae(t,e,a){var i={regionid:F(),cpu:e,mem:a};return Ct({url:"console/ecm/ecs/serverextend/"+t+"/",method:"post",data:i})}function ie(t){return t&&(t.regionid=F())&&(t.zoneid=P()),Ct({url:"console/ecm/ecs/vmsnapshots/",method:"get",params:t})}function ne(t,e){var a={regionid:F(),name:e};return Ct({url:"console/ecm/ecs/servers/"+t+"/vmsnapshot/",method:"post",data:a})}function se(t,e){var a={regionid:F(),id:t,cycleType:e.cycleType,cycleCnt:e.cycleCnt};return Ct({url:"console/ecm/ecs/renew/",method:"post",data:a})}var oe={data:function(){return{msg:"云服务器",ecmDashboardList:[{title:"云服务器",id:"VM",span:12,list:[{id:"total",intro:"总数",span:8,num:0,unit:"台"},{id:"active",intro:"开机",num:0,unit:"台"},{id:"shutoff",intro:"关机",num:0,unit:"台"}]},{id:"Volume",title:"云硬盘",span:12,list:[{id:"sysDisk",intro:"系统盘",num:0,unit:"GB"},{id:"dataDisk",intro:"数据盘",num:0,unit:"GB"}]}],networkList:{title:"网络",list:[{id:"Public_IP",intro:"弹性公网IP",num:0},{id:"VPC",intro:"虚拟私有云",num:0},{id:"Images",intro:"镜像",num:0,hide:!0}]},regionList:[]}},components:{MainRight:st},created:function(){this.getDashboard(),this.getEcmPlatforms()},methods:{routerEcm:function(t){console.log(t),O(t.region),L(t.zoneId),$(t.hasVnc),this.$router.push("/ecm/ecmList")},getDashboard:function(){var t=this;Mt({all_dc:1,regionid:"all"}).then(function(e){var a=e.data.results[0];console.log(a),t.filterVm(a),t.filterNet(a)})},filterVm:function(t){var e=this;this.ecmDashboardList.map(function(a){a.list.map(function(i){var n=t[a.id];i.num=n[e.switchList(i.id)]})})},filterNet:function(t){this.networkList.list.map(function(e){e.num=t[e.id]?t[e.id].total_count:0})},switchList:function(t){switch(t){case"total":return"total_count";case"active":return"vm_running_count";case"shutoff":return"vm_shutd_count";case"sysDisk":return"vo_root_size";case"dataDisk":return"vo_disk_size"}},getEcmPlatforms:function(){var t=this;Qt({regionid:"all"}).then(function(e){var a=e.data.platforms;console.log(a);var i=t.regionList;a.map(function(t){var e={zoneId:t.details.zoneId,hasVnc:t.details.hasVnc,region:t.uuid,regionName:t.name,ecmTotal:{intro:"云服务器",count:0,activeIntro:"开机",active:0,shutedIntro:"关机",shuted:0},regionOthers:{ebs:{size:0,intro:"云硬盘"},eip:{count:0,intro:"弹性公网IP"},vpc:{count:0,intro:"虚拟私有云"}}};Mt({regionid:t.uuid}).then(function(t){var a=t.data.results[0];e.ecmTotal.count=a.VM.total_count||0,e.ecmTotal.active=a.VM.vm_running_count||0,e.ecmTotal.expired=a.VM.vm_expired_count||0,e.ecmTotal.shuted=a.VM.vm_shutd_count||0,e.regionOthers.ebs.size=a.Volume.total_size||0,e.regionOthers.eip.count=a.Public_IP.total_count||0,e.regionOthers.vpc.count=a.VPC.total_count||0}).catch(function(t){console.log(t)}),i.push(e)})}).catch(function(t){console.log(t)})}}},re={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"ecm-dashboard"},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:18}},[a("el-row",{attrs:{gutter:20}},[a("el-col",[a("div",{staticClass:"ecm-title region-list"},[t._v("\n\t\t\t\t\t\t\t综述\n\t\t\t\t\t\t")])]),t._v(" "),t._l(t.ecmDashboardList,function(e){return a("el-col",{key:e.id,attrs:{span:e.span}},[a("div",{staticClass:"ecm-ecm consoleBg"},[a("el-col",{staticClass:"ecm-title"},[t._v("\n\t\t\t\t\t\t\t\t"+t._s(e.title)+"\n\t\t\t\t\t\t\t")]),t._v(" "),t._l(e.list,function(i){return a("el-col",{key:i.id,staticClass:"ecm-ecm-item ",attrs:{span:24/e.list.length}},[a("div",{staticClass:"ecm-num",class:"ecm-num-"+i.id},[t._v("\n\t\t\t\t\t\t\t\t\t"+t._s(i.num||0)+"\n\t\t\t\t\t\t\t\t\t"),a("span",[t._v("("+t._s(i.unit)+")")])]),t._v(" "),a("div",{staticClass:"ecm-ecm-intro"},[t._v("\n\t\t\t\t\t\t\t\t\t"+t._s(i.intro)+"\n\t\t\t\t\t\t\t\t")])])})],2)])})],2),t._v(" "),a("el-row",[a("el-col",{staticClass:"ecm-network consoleBg"},[a("div",{staticClass:"ecm-title"},[t._v("\n\t\t\t\t\t\t\t"+t._s(t.networkList.title)+"\n\t\t\t\t\t\t")]),t._v(" "),t._l(t.networkList.list,function(e){return e.hide?t._e():a("el-col",{key:e.id,staticClass:"ecm-network-intro",attrs:{span:8}},[t._v("\n\t\t\t\t\t\t\t"+t._s(e.intro)+"\n\t\t\t\t\t\t\t"),a("span",{staticClass:"ecm-num"},[t._v(t._s(e.num))])])})],2)],1),t._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",[a("div",{staticClass:"ecm-title region-list"},[t._v("\n\t\t\t\t\t\t\t我的资源\n\t\t\t\t\t\t")])]),t._v(" "),t._l(t.regionList,function(e){return a("el-col",{key:e.region,attrs:{span:12}},[a("div",{staticClass:"region-ecm consoleBg consolePoint",on:{click:function(a){t.routerEcm(e)}}},[a("div",{staticClass:"ecm-title"},[t._v("\n\t\t\t\t\t\t\t\t"+t._s(e.regionName)+"\n\t\t\t\t\t\t\t")]),t._v(" "),a("el-col",{staticClass:"region-ecm-left",attrs:{span:11}},[a("div",{staticClass:"ecm-num"},[t._v("\n\t\t\t\t\t\t\t\t\t"+t._s(e.ecmTotal.count)+"\n\t\t\t\t\t\t\t\t")]),t._v(" "),a("div",{staticClass:"region-ecm-title"},[t._v("\n\t\t\t\t\t\t\t\t\t"+t._s(e.ecmTotal.intro)+"\n\t\t\t\t\t\t\t\t")]),t._v(" "),a("ul",{staticClass:"region-ecm-state"},[a("li",{staticClass:"region-ecm-state-active"},[a("span",{staticClass:"region-ecm-state-intro"},[t._v(t._s(e.ecmTotal.activeIntro))]),a("span",[t._v(t._s(e.ecmTotal.active||0))]),a("span",{staticClass:"ecm-unit"},[t._v("(台)")])]),t._v(" "),a("li",{staticClass:"region-ecm-state-expired"},[a("span",{staticClass:"region-ecm-state-intro"},[t._v(t._s(e.ecmTotal.shutedIntro))]),a("span",[t._v(t._s(e.ecmTotal.shuted||0))]),a("span",{staticClass:"ecm-unit"},[t._v("(台)")])])])]),t._v(" "),a("el-col",{attrs:{span:13}},[a("ul",{staticClass:"region-ecm-others"},t._l(e.regionOthers,function(e,i){return a("li",{staticClass:"region-ecm-other-item"},[a("span",{staticClass:"region-ecm-other-item-intro"},[t._v(t._s(e.intro))]),t._v(" "),"ebs"==i?a("span",[t._v(t._s(e.size||0)+" GB")]):t._e(),t._v(" "),"ebs"!==i?a("span",[t._v(" "+t._s(e.count||0))]):t._e()])}))])],1)])})],2)],1),t._v(" "),a("el-col",{attrs:{span:6}},[a("MainRight")],1)],1)],1)},staticRenderFns:[]};var le=a("VU/8")(oe,re,!1,function(t){a("MR6q")},"data-v-42ceed37",null).exports,ce=a("c/Tr"),ue=a.n(ce),de={props:{name:[String],buttonText:[String,Array],buttonTexts:[String],type:[String],regionData:[Array,Object]},data:function(){return{currentId:"",areas:[]}},methods:{addEbs:function(){console.log("chuangjian")},changeArea:function(t,e){var a=t.uuid,i=t.zoneid,n=t.vnc,s=t.regionType;O(a),L(i),$(n),R(s),this.$store.dispatch("changeRegionType",z()),this.currentId=a,this.current=e,this.$emit("changeRegion",a)},createEvent:function(t){this.$emit("create",t)},createStrategy:function(){this.$emit("strategy")},getRegionList:function(){var t=this;if(this.areas=this.$store.state.user.regionList,this.areas.map(function(t){t.zoneid=t.details&&t.details.zoneId,t.hasVnc=t.details&&t.details.hasVnc,t.regionType=1==t.type?"cs":2==t.type&&"os"}),this.type&&(this.areas=this.areas.filter(function(e){return e.regionType==t.type})),F())this.currentId=F(),this.$store.dispatch("changeRegionType",z());else{var e=this.areas[0].uuid,a=this.areas[0].zoneid,i=this.areas[0].hasVnc,n=this.areas[0].regionType;this.currentId=e,O(e),L(a),$(i),R(n),this.$store.dispatch("changeRegionType",z())}}},computed:{regionNum:function(){return this.regionData}},mounted:function(){this.getRegionList()}},pe={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"top"},[a("el-row",[a("el-col",{attrs:{span:17}},[a("div",{staticClass:"left"},[a("p",{staticClass:"node_name"},[t._v(t._s(t.name))]),t._v(" "),t._l(t.areas,function(e,i){return a("span",{staticClass:"areaButton",class:{"areaButton-bg":t.currentId==e.uuid},on:{click:function(a){t.changeArea(e,i)}}},[t._v("\n\t\t  \t\t\t\t"+t._s(e.name+"（"+(t.regionNum[e.uuid]||0)+"）")+"\n\t\t  \t\t\t\t")])})],2)]),t._v(" "),a("el-col",{attrs:{span:7}},[Array.isArray(t.buttonText)?a("div",{staticClass:"right"},t._l(t.buttonText,function(e){return a("el-button",{key:e.id,staticClass:"createButton",on:{click:function(a){t.createEvent(e.fun)}}},[t._v(t._s(e.label))])})):a("div",{staticClass:"right"},[a("el-button",{staticClass:"createButton",on:{click:t.createEvent}},[t._v(t._s(t.buttonText))]),t._v(" "),t.buttonTexts?a("el-button",{staticClass:"createButton",on:{click:t.createStrategy}},[t._v(t._s(t.buttonTexts))]):t._e()],1)])],1)],1),t._v(" "),a("div",{staticClass:"line"})])},staticRenderFns:[]};var me=a("VU/8")(de,pe,!1,function(t){a("1PHs")},"data-v-2fecab67",null).exports,he={props:{optionsValue:[String],PublicOperation:[Array],statusOnOff:[Boolean],btnClose:[Boolean],disableData:[Array,Object],NameOptions:[Array,Object],SearchNameValue:[String],SearchNameOptions:[Array],btnText:[String]},data:function(){return{statusValue:this.optionsValue,nameOptions:[{value:"name",label:u.common.name},{value:"id",label:u.common.ID}],nameValue:"name",searchValue:"",Numvalue:0}},methods:{clears:function(t){t||(console.log("清空"),this.searchValue="",this.$emit("clear"))},nameChange:function(t){console.log(t)},search:function(){var t={};this.statusValue="",t.name=this.nameValue,t.value=this.searchValue,this.$emit("searchEvent",t)},refresh:function(){this.statusValue="",this.nameValue="name",this.searchValue="",this.$emit("refreshEvent")},btnClick:function(t,e,a){console.log(21212),this.Numvalue=e,this.$emit("PublicOperEvent",t,a)}},computed:{nameOption:function(){return this.NameOptions?this.NameOptions:this.nameOptions}},mounted:function(){this.SearchNameOptions&&(this.nameOptions=this.SearchNameOptions,this.nameValue=this.SearchNameValue)}},fe={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"searchBox"},[a("el-row",[t.btnClose?t._e():a("el-col",{attrs:{span:13}},[t.btnText?t._e():a("div",{staticClass:"btnBox"},t._l(t.PublicOperation,function(e,i){return a("button",{class:{active:e.disable,disable:!e.disable},attrs:{disabled:!e.disable,title:e.title,plain:""},on:{click:function(a){t.btnClick(e.fun,i,e.value)}}},[t._v(t._s(e.value))])})),t._v(" "),t.btnText?a("div",{staticClass:"btnBox btntext",domProps:{innerHTML:t._s(t.btnText)}}):t._e()]),t._v(" "),a("el-col",{attrs:{span:t.btnClose?24:11}},[a("div",{staticClass:"searchBoxs"},[a("el-input",{staticClass:"input-with-select",attrs:{placeholder:"请输入内容",clearable:""},on:{change:t.clears},model:{value:t.searchValue,callback:function(e){t.searchValue="string"==typeof e?e.trim():e},expression:"searchValue"}},[a("el-select",{attrs:{slot:"prepend",placeholder:"请选择"},slot:"prepend",model:{value:t.nameValue,callback:function(e){t.nameValue=e},expression:"nameValue"}},t._l(t.nameOption,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),t._v(" "),a("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:t.search},slot:"append"})],1),t._v(" "),a("el-button",{staticClass:"refreshBtn",attrs:{icon:"el-icon-refresh"},on:{click:t.refresh}})],1)])],1)],1)},staticRenderFns:[]};var ve,ge=a("VU/8")(he,fe,!1,function(t){a("zOYE"),a("i2Kp")},"data-v-3cc9e764",null).exports,be=(ve={running:"运行中",stopped:"关机",active:"运行中",shutoff:"关机",present:"",destroyed:"已销毁",expunging:"删除中",expunged:"已删除",rebuild:"重建中",resize:"规格变更中",stopping:"停止中",starting:"启动中",restarting:"重启中",ready:"正常",subnetactive:"正常",error:"错误",mounting:"挂载中",mount:"已挂载","in-use":"已挂载",available:"未挂载",uninstall:"未挂载",uninstalling:"卸载中",allocated:"已绑定",allocatin:"未绑定",releasing:"释放",unbinding:"未绑定",down:"未绑定",up:"已绑定",binding:"已绑定",bindings:"绑定中",unbundings:"解绑中",instance:"一对一映射",portforwarding:"端口转发",loadbalancer:"负载均衡",backedup:"可用",implemented:"已实施",backingup:"创建中",allocateds:"已分配"},bt()(ve,"implemented","已实施"),bt()(ve,"setup","正常"),bt()(ve,"implementing","实施中"),bt()(ve,"creating","创建中"),bt()(ve,"inactive","错误"),bt()(ve,"enabled","启用"),ve);function _e(t){return t=t&&t.toLowerCase(),be[t]}var ye={SATA:"普通IO",SAS:"高IO",SSD:"超高IO"};function we(t){return ye[t]}function Ce(t,e,a){if("--"==t||!t)return"--";isNaN(new Date(t))&&(t=t.split("-").join("/"));var i=new Date(t),n=i.getFullYear(),s=i.getMonth()+1,o=i.getDate(),r=i.getHours(),l=i.getMinutes(),c=i.getSeconds();return s=s<10?"0"+s:s,o=o<10?"0"+o:o,r=r<10?"0"+r:r,l=l<10?"0"+l:l,c=c<10?"0"+c:c,e?n+"-"+s+"-"+o+" "+r+":"+l+":"+c:a?n+"-"+s+"-"+o:n+"-"+s+"-"+o+" "+r+":"+l+":"+c}function ke(t,e){if("--"!=t&&t){var a=new Date,i=new Date(t);return(e?a.getTime()-i.getTime()-6048e5:a.getTime()-i.getTime())>0}return!1}var xe={props:{tableData:[Array,Object],tableOptions:[Array],expiredShow:[Array,Number],detilOptions:[Array],OperationEvents:[Array],operationOrNot:[Boolean],checkBox:[Boolean],expand:[Boolean],loading:[Boolean],dragable:[Boolean],noEffect:[Boolean],radioShow:[Boolean],radioShows:[Boolean],eipRadioShow:[Boolean],bksradioShow:[Boolean],eipStatus:[Boolean],Pagination:[Array,Object],height:[Number],OperationWidth:[Number]},data:function(){var t;return{selectedRadio:"1",currentPage:1,statusIcon:(t={running:"active",ready:"active",creating:"starting",restarting:"starting",stopped:"shutoff",shutoff:"shutoff",active:"active",starting:"starting",mounting:"starting",stopping:"stopping",uninstalling:"stopping",rebuild:"starting",resize:"starting",binding:"active",instance:"active",portforwarding:"active",loadbalancer:"active",unbinding:"shutoff",down:"shutoff",up:"active","in-use":"active",available:"shutoff",backedup:"active",error:"shutoff",mount:"active",uninstall:"shutoff",backingup:"starting",bindings:"starting"},bt()(t,"creating","starting"),bt()(t,"enabled","active"),bt()(t,"unbundings","stopping"),bt()(t,"inactive","shutoff"),bt()(t,"expunging","stopping"),t)}},methods:{handleSelection:function(t,e,a,i){this.expand&&"linkTag"==i.target.className&&this.$refs.multipleTable.toggleRowExpansion(t)},tableRowClassName:function(t){var e=t.row;t.rowIndex;return e.expired?"warning-row":""},filterTag:function(t){console.log(t);var e=void 0;e=0==t.filter.length?"":t.filter[0],this.$emit("selectChange",e)},clearSelection:function(){console.log("1111")},handleSelectionChange:function(t){this.multipleSelection=t,this.$emit("changeTable",t)},handleSizeChange:function(t){console.log(t),Ct.cancle("CancelToken"),this.$emit("pagingEvent","num",t)},handleCurrentChange:function(t){console.log(t),Ct.cancle("CancelToken"),this.$emit("pagingEvent","page",t)},click:function(t,e){this.$emit("buttonClick",t,e)},expendDetail:function(t,e){console.log("change",t),this.$emit("detailClick",t.id)},getCurrentRow:function(t){console.log(t),this.$emit("radioChange",t)},EcmdisabledEvent:function(t){return"Starting"==t.state||"ERROR"==t.state||"6"==t.attached_volumes_number},disabledEvent:function(t){return"Ready"!=t.states||"error"==t.state},eipdisabledEvent:function(t){return console.log(t),!(!t.publicip&&"Starting"!=t.state&&"ERROR"!=t.state)},bksdisabledEvent:function(t){return"BackingUp"==t.states||"Error"==t.state}},computed:{changeRowSty:function(t,e){return{background:"#f0f2f7"}},changethSty:function(t,e){return{background:"#f0f2f7",color:"#333333","font-size":"12px","font-weight":"600"}},tableData1:function(){var t=this;return this.tableData&&this.tableData.length>0&&this.tableData.forEach(function(e,a,i){e.stateTxt=_e(e.state)||e.state||_e(e.status)||e.status,e.statusIcon=e.state&&"--"!=e.state?t.statusIcon[e.state.toLowerCase()]||e.state.toLowerCase():e.status?t.statusIcon[e.status.toLowerCase()]||e.status.toLowerCase():"",console.log(e.statusIcon),e.created=e.created&&"--"!=e.created?Ce(e.created)||e.created:e.created_at&&"--"!=e.created_at?Ce(e.created_at)||e.created_at:"--",e.created_at&&(e.created_at=Ce(e.created_at)||e.created_at),e.expire_date=Ce(e.expire_date)||e.expire_date}),this.tableData}},mounted:function(){}},De={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"tableStyle"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:t.tableData1,"tooltip-effect":"dark",border:t.dragable,"header-row-style":t.changeRowSty,"header-cell-style":t.changethSty,"row-class-name":t.tableRowClassName,"max-height":t.height},on:{"cell-click":t.handleSelection,"filter-change":t.filterTag,"selection-change":t.handleSelectionChange,"expand-change":t.expendDetail}},[t.expand?a("el-table-column",{attrs:{type:"expand",width:"40"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-form",{staticClass:"demo-table-expand",attrs:{"label-position":"left",inline:""}},t._l(t.detilOptions,function(i,n){return a("el-form-item",{key:n,attrs:{label:i.label+"："}},[i.html?t._e():a("span",[t._v(t._s(e.row[i.prop]))]),t._v(" "),i.html?a("span",{domProps:{innerHTML:t._s(e.row[i.prop])}}):t._e()])}))]}}])}):t._e(),t._v(" "),t.checkBox?a("el-table-column",{attrs:{type:"selection",width:"40"}}):t._e(),t._v(" "),t.radioShow?a("el-table-column",{attrs:{width:"50"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-radio",{staticClass:"radio",attrs:{label:e.row.id,disabled:t.EcmdisabledEvent(e.row)},nativeOn:{change:function(a){t.getCurrentRow(e.row)}},model:{value:t.selectedRadio,callback:function(e){t.selectedRadio=e},expression:"selectedRadio"}},[t._v(" ")])]}}])}):t._e(),t._v(" "),t.radioShows?a("el-table-column",{attrs:{width:"50"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-radio",{staticClass:"radio",attrs:{label:e.row.id,disabled:t.disabledEvent(e.row)},nativeOn:{change:function(a){t.getCurrentRow(e.row)}},model:{value:t.selectedRadio,callback:function(e){t.selectedRadio=e},expression:"selectedRadio"}},[t._v(" ")])]}}])}):t._e(),t._v(" "),t.eipRadioShow?a("el-table-column",{attrs:{width:"50"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-radio",{staticClass:"radio",attrs:{label:e.row.id,disabled:t.eipdisabledEvent(e.row)},nativeOn:{change:function(a){t.getCurrentRow(e.row)}},model:{value:t.selectedRadio,callback:function(e){t.selectedRadio=e},expression:"selectedRadio"}},[t._v(" ")])]}}])}):t._e(),t._v(" "),t.bksradioShow?a("el-table-column",{attrs:{width:"50"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-radio",{staticClass:"radio",attrs:{label:e.row.id,disabled:t.bksdisabledEvent(e.row)},nativeOn:{change:function(a){t.getCurrentRow(e.row)}},model:{value:t.selectedRadio,callback:function(e){t.selectedRadio=e},expression:"selectedRadio"}},[t._v(" ")])]}}])}):t._e(),t._v(" "),t._l(t.tableOptions,function(e,i){return e.temp&&!e.filter&&e.tempTip?a("el-table-column",{key:i,attrs:{prop:e.prop,label:e.label,width:e.width},scopedSlots:t._u([{key:"default",fn:function(i){return[e.details?a("span",[a("el-tooltip",{staticClass:"ipTip",attrs:{placement:"top"}},[a("div",{attrs:{slot:"content"},slot:"content"},[t._v(t._s(i.row[e.prop]))]),t._v(" "),t.expand||t.noEffect||!i.row[e.key||"id"]?t._e():a("router-link",{staticClass:"linkTag",attrs:{to:e.path+"/"+i.row[e.key||"id"]}},[t._v(t._s(i.row[e.prop]))]),t._v(" "),t.expand||t.noEffect||i.row[e.key||"id"]?t._e():a("span",{staticClass:"linkTag"},[t._v(t._s(i.row[e.prop]))]),t._v(" "),t.expand&&!t.noEffect?a("span",{staticClass:"linkTag"},[t._v(t._s(i.row[e.prop]))]):t._e(),t._v(" "),t.noEffect?a("span",[t._v(t._s(i.row[e.prop]))]):t._e()],1),t._v(" "),i.row[e.propId]?a("br"):t._e(),t._v(" "),i.row[e.propId]?a("el-tooltip",{staticClass:"ipTip",attrs:{placement:"top"}},[a("div",{attrs:{slot:"content"},slot:"content"},[t._v(t._s(i.row[e.propId]))]),t._v(" "),i.row[e.propId]?a("span",{},[t._v(t._s(i.row[e.propId]))]):t._e()]):t._e()],1):t._e()]}}])}):t._e()}),t._v(" "),t._l(t.tableOptions,function(e,i){return!e.temp||e.filter||e.tempTip?t._e():a("el-table-column",{key:i,attrs:{prop:e.prop,label:e.label,width:e.width,"show-overflow-tooltip":!0},scopedSlots:t._u([{key:"default",fn:function(i){return[e.detail?a("span",[t.expand||t.noEffect||!i.row[e.key||"id"]?t._e():a("router-link",{staticClass:"linkTag",attrs:{to:e.path+"/"+i.row[e.key||"id"]}},[t._v(t._s(i.row[e.prop]))]),t._v(" "),t.expand||t.noEffect||i.row[e.key||"id"]?t._e():a("span",{staticClass:"linkTag"},[t._v(t._s(i.row[e.prop]))]),t._v(" "),t.expand&&!t.noEffect?a("span",{staticClass:"linkTag"},[t._v(t._s(i.row[e.prop]))]):t._e(),t._v(" "),t.noEffect?a("span",[t._v(t._s(i.row[e.prop]))]):t._e(),t._v(" "),e.propId?a("br"):t._e(),e.propId?a("span",{},[t._v(t._s(i.row[e.propId]))]):t._e()],1):t._e(),t._v(" "),e.routerIp?a("span",[a("router-link",{staticClass:"linkTag",attrs:{to:e.path+"/"+i.row.id}},[t._v(t._s(i.row[e.prop]))])],1):t._e(),t._v(" "),e.EipIp?a("span",[t._v(t._s(i.row[e.prop]))]):t._e(),t._v(" "),e.linkProp?a("span",{staticClass:"linkTag"},[t._v(t._s(i.row[e.prop]))]):t._e(),t._v(" "),e.status?a("span",[a("span",{staticClass:"status",class:i.row.statusIcon},[t._v(t._s(i.row[e.prop]))])]):t._e(),t._v(" "),e.ims?a("span",[a("el-tooltip",{attrs:{enterable:!1,content:i.row[e.prop],placement:"top"}},[a("svg-icon",{attrs:{"icon-class":i.row[e.props]}})],1)],1):t._e()]}}])})}),t._v(" "),t._l(t.tableOptions,function(e,i){return e.filter?a("el-table-column",{key:i,attrs:{prop:e.prop,label:e.label,width:e.width,"column-key":"filter","show-overflow-tooltip":!0,filters:e.selectOptions,"filter-placement":"bottom","filter-multiple":!1},scopedSlots:t._u([{key:"default",fn:function(i){return[e.status?a("span",[a("span",{staticClass:"status",class:i.row.statusIcon},[t._v(t._s(i.row[e.prop]))])]):t._e()]}}])}):t._e()}),t._v(" "),t._l(t.tableOptions,function(e,i){return e.ip?a("el-table-column",{key:i,attrs:{prop:e.prop,label:e.label,width:e.width,"show-overflow-tooltip":!0},scopedSlots:t._u([{key:"default",fn:function(i){return[e.html?a("span",{domProps:{innerHTML:t._s(i.row[e.prop])}}):a("span",[i.row[e.prop1]?a("span",[t._v(t._s(i.row[e.prop1]))]):t._e(),i.row[e.prop1]?a("br"):t._e(),t._v(" "),a("span",[t._v(t._s(i.row[e.prop2]))])]),t._v(" "),e.btn?a("div",[a("el-button",{attrs:{type:"text"},on:{click:function(a){t.click(e.fun,i.row)}}},[t._v(t._s(i.row[e.prop]))])],1):t._e()]}}])}):t._e()}),t._v(" "),t._l(t.tableOptions,function(e,i){return e.temp||e.filter||e.ip?t._e():a("el-table-column",{key:i,attrs:{prop:e.prop,label:e.label,width:e.width,"show-overflow-tooltip":!0},scopedSlots:t._u([{key:"default",fn:function(i){return[e.isEmpty?a("div",[t._v(t._s(i.row[e.prop]||e.empty_st))]):e.isIpaddress?a("div",[t._v(t._s(i.row.nic[0].ipaddress||e.empty_st))]):e.companyDay?a("div",{class:i.row[e.prop]<1?"day_c":""},[a("i",{directives:[{name:"show",rawName:"v-show",value:i.row[e.prop]<1,expression:"scope.row[item.prop] < 1"}],staticClass:"el-icon-warning"}),t._v(" "),i.row[e.prop]<1?a("span",[t._v("过期"+t._s(Math.abs(i.row[e.prop])+e.company_st))]):a("span",[t._v(t._s(Math.abs(i.row[e.prop])+e.company_st))])]):e.replace?a("div",[t._v("未开通")]):"zabbixStatus"==e.prop?a("div",["正常"==i.row[e.prop]?a("span",{staticStyle:{color:"#52ec29"}},[t._v(t._s(i.row[e.prop]))]):"获取中..."==i.row[e.prop]?a("span",[t._v(t._s(i.row[e.prop]))]):a("span",{staticStyle:{color:"red"}},[t._v(t._s(i.row[e.prop]))])]):a("span",[t._v(t._s(i.row[e.prop]))])]}}])})}),t._v(" "),t.operationOrNot?a("el-table-column",{attrs:{label:"操作",width:t.OperationWidth||170},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.operation?a("div",[t._l(e.row.operation,function(i,n){return(2==e.row.showNum?0==n||e.row.operation.length<=3&&1==n:0==n||1==n||e.row.operation.length<=3&&2==n)?a("el-button",{key:n,attrs:{type:"text",disabled:i.disabled,title:i.title},on:{click:function(a){t.click(i.fun,e.row)}}},[t._v(t._s(i.value))]):t._e()}),t._v(" "),e.row.operation.length>3?a("el-dropdown",[a("span",{staticClass:"el-dropdown-link",staticStyle:{color:"#66b1ff","font-size":"12px","margin-left":"10px",cursor:"pointer","font-weight":"500"}},[t._v("\n\t\t\t\t    \t\t\t更多\n\t\t\t\t  \t\t\t")]),t._v(" "),a("el-dropdown-menu",{staticClass:"table-drapdown",attrs:{slot:"dropdown"},slot:"dropdown"},t._l(e.row.operation,function(i,n){return(2==e.row.showNum?0!==n:0!==n&&1!==n)?a("el-dropdown-item",{key:n},[a("el-button",{staticStyle:{display:"block",width:"100%",height:"100%"},attrs:{disabled:i.disabled,title:i.title},on:{click:function(a){t.click(i.fun,e.row)}}},[t._v(t._s(i.value))])],1):t._e()}))],1):t._e()],2):a("div",[t._l(t.OperationEvents,function(i,n){return(2==e.row.showNum?0==n||t.OperationEvents<=3&&1==n:0==n||1==n||t.OperationEvents<=3&&2==n)?a("el-button",{key:n,attrs:{type:"text"},on:{click:function(a){t.click(i.fun,e.row)}}},[t._v(t._s(i.value))]):t._e()}),t._v(" "),t.OperationEvents.length>(e.row.showNum?e.row.showNum:3)?a("el-dropdown",[a("span",{staticClass:"el-dropdown-link",staticStyle:{color:"#66b1ff","font-size":"12px","margin-left":"10px",cursor:"pointer"}},[t._v("\n\t\t\t\t    \t\t\t更多\n\t\t\t\t  \t\t\t")]),t._v(" "),a("el-dropdown-menu",{staticClass:"table-drapdown",attrs:{slot:"dropdown"},slot:"dropdown"},t._l(t.OperationEvents,function(i,n){return(2==e.row.showNum?0!==n:0!==n&&1!==n)?a("el-dropdown-item",{key:n},[a("el-button",{staticStyle:{display:"block",width:"100%",height:"100%"},on:{click:function(a){t.click(i.fun,e.row)}}},[t._v(t._s(i.value))])],1):t._e()}))],1):t._e()],2)]}}])}):t._e()],2),t._v(" "),t.Pagination&&t.Pagination.show?a("el-pagination",{attrs:{"current-page":t.currentPage,"page-sizes":t.Pagination.pagingData,"page-size":t.Pagination.pagingData[0],layout:"total, sizes, prev, pager, next, jumper",total:t.Pagination.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}}):t._e()],1)},staticRenderFns:[]};var Te=a("VU/8")(xe,De,!1,function(t){a("nKQA"),a("EDlG"),a("G+U9")},"data-v-8ce1c162",null).exports;function Ie(t){var e={regionid:F()};return Ct({url:"console/ecm/jobs/"+t+"/",method:"get",params:e})}function Se(t){return t.regionid=F(),t.zoneid=P(),Ct({url:"console/network/vpcs/",method:"get",params:t})}function Ee(t,e){var a={id:t,regionid:F(),zoneid:P(),detail:e};return console.log(a),Ct({url:"console/network/vpcs/",method:"get",params:a})}function Oe(t){var e=void 0;return e=t.name?{limit:t.limit||10,regionid:F(),page:t.page||1,id:t.id,vpc_id:t.vpcid,zoneid:P(),subnet_name:t.name}:{limit:t.limit||10,regionid:F(),zoneid:P(),page:t.page||1,id:t.id,vpc_id:t.vpcid,keyword:t.keyword},Ct({url:"console/network/subnets/",method:"get",params:e})}function Fe(t){var e=void 0;return e=t.name?{limit:t.limit||10,regionid:F(),page:t.page||1,name:t.name,vpcid:t.id}:t.search?{limit:t.limit||10,regionid:F(),page:t.page||1,name:t.name,id:t.id}:{limit:t.limit||10,regionid:F(),page:t.page||1,keyword:t.keyword,vpcid:t.id},Ct({url:"console/network/securitygroups/",method:"get",params:e})}function Le(t,e){var a={regionid:F()};return Ct({url:"console/network/vpcs/"+t+"/",method:"put",params:a,data:e})}function Pe(t,e){var a={regionid:F(),vpcid:e};return Ct({url:"console/network/subnets/"+t+"/",method:"delete",params:a})}function Ne(t,e){var a={regionid:F()};return Ct({url:"console/network/subnets/"+t+"/",method:"put",params:a,data:e})}function $e(t){var e={regionid:F()};return Ct({url:"/console/network/subnets/",method:"post",params:e,data:t})}function Re(t){console.log(t);var e=void 0;return e=t.id?{limit:t.limit||10,zoneid:P(),regionid:F(),page:t.page||1,status:t.status,attached:t.attached,resource_type:t.resource_type,id:t.id}:t.create?{limit:t.limit,regionid:t.regionid,zoneid:P(),page:t.page,status:t.status,id:t.id,name:t.name}:{limit:t.limit||10,vpcid:t.vpcid,regionid:F(),page:t.page||1,status:t.status,zoneid:P(),attached:t.attached,resource_type:t.resource_type,keyword:t.keyword},Ct({url:"console/network/eipsdata/",method:"get",params:e})}function ze(t){var e={regionid:F()};return Ct({url:"console/network/securitygroups/",method:"post",params:e,data:t})}function Ae(t){var e={regionid:F()};return Ct({url:"console/network/securitygroups/",method:"DELETE",params:e,data:t})}function Me(t,e){var a={regionid:F()};return Ct({url:"console/network/securitygroups/"+t+"/",method:"put",params:a,data:e})}function Ve(t){var e={regionid:F()};return Ct({url:"console/network/securitygrouprule/00000000-0000-0000-0000-000000000000/",method:"post",params:e,data:t})}function Be(t){var e={regionid:F()};return Ct({url:"console/network/securitygrouprule/"+t+"/",method:"delete",params:e})}function je(t){var e={regionid:F(),zoneid:P(),id:t};return Ct({url:"console/network/eipsdata/",method:"get",params:e})}function qe(t,e,a){var i={regionid:F(),server_id:t,fixed_ip_address:a};return Ct({url:"console/network/eip/eipbind/"+e+"/",method:"post",data:i})}function Ue(t){var e={regionid:F()};return Ct({url:"console/network/eip/eipbind/"+t+"/",method:"delete",data:e})}function He(){var t={regionid:F()};return Ct({url:"console/api/adminorder/customerquotas/",method:"get",params:t})}var We={props:{type:[String],attachOperation:[Boolean],actionTip:[Array],tableData:[Object],action:[String],loading:[Boolean],form:[Object]},components:{ConsoleTable:Te,ConsoleSearch:ge},data:function(){return{unOperationShow:!1}},methods:{OpenData:function(){this.unOperationShow=!this.unOperationShow},validateForm:function(){var t=this;return new rt.a(function(e,a){t.tableData.warn||!t.tableData.data?e():t.tableData.data&&t.tableData.data[0]&&t.tableData.data[0].length?e():(t.$message({message:"表格无数据，请重新选择",type:"error"}),a())})}},computed:{typeCom:function(){return this.type||"warn"},unOperationData:function(){return this.tableData.data?this.tableData.data[1]:[]},fliterData:function(){return this.tableData.data?this.tableData.data[0]:[]}}},Ge={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"action-content consoleAction",attrs:{loading:this.loading}},[this.tableData.warn?this._e():e("el-row",{staticClass:"action-tip"},["info"==this.typeCom?e("el-row",{staticClass:"action-tip-title"},[this._v("\n\t\t\t"+this._s(this.actionTip[0])+"\n\t\t")]):this._e(),this._v(" "),"warn"==this.typeCom?e("el-row",{staticClass:"action-tip-waring"},[e("el-col",{staticClass:"action-img",attrs:{span:2}},[e("svg-icon",{attrs:{"icon-class":"warn"}})],1),this._v(" "),e("el-col",{staticClass:"action-tip-title",attrs:{span:21}},[e("p",[this._v("\n\t\t\t\t\t"+this._s(this.actionTip[0])+"\n\t\t\t\t")]),this._v(" "),this.actionTip[1]?e("p",{staticClass:"action-tip-subtip"},[this._v("\n\t\t\t\t\t"+this._s(this.actionTip[1])+"\n\t\t\t\t")]):this._e()])],1):this._e()],1),this._v(" "),this.tableData.warn?e("el-row",{staticClass:"action-tip",attrs:{id:"warnStyle"}},[e("el-row",{staticClass:"action-tip-waring"},[e("el-col",{staticClass:"action-img"},[e("svg-icon",{attrs:{"icon-class":"warn"}})],1),this._v(" "),e("el-col",{staticClass:"action-tip-title"},[e("span",[this._v("\n\t\t\t\t\t"+this._s(this.actionTip[0])+"\n\t\t\t\t")]),this._v(" "),e("i",{staticClass:"action-tip-subtip"},[this._v("\n\t\t\t\t\t"+this._s(this.actionTip[1])+"\n\t\t\t\t")])])],1)],1):this._e(),this._v(" "),Array.isArray(this.tableData.data)&&!this.tableData.warn?e("el-row",{staticClass:"action-table"},[e("el-col",[e("console-table",{attrs:{tableData:this.fliterData,operationOrNot:!1,height:200,tableOptions:this.tableData.option,noEffect:!0}}),this._v(" "),this.unOperationData.length>0?e("p",{staticClass:"unOperationTip"},[this._v("以下云服务器不可"+this._s(this.actionTip[2])+","),this.unOperationShow?this._e():e("span",{on:{click:this.OpenData}},[this._v("点击查看")]),this.unOperationShow?e("span",{on:{click:this.OpenData}},[this._v("点击关闭")]):this._e()]):this._e(),this._v(" "),this.unOperationShow?e("console-table",{staticClass:"unOperationTable",attrs:{tableData:this.unOperationData,operationOrNot:!1,height:110,tableOptions:this.tableData.option,noEffect:!0}}):this._e()],1)],1):this._e(),this._v(" "),e("el-row",{staticClass:"action-select"})],1)},staticRenderFns:[]};var Qe=a("VU/8")(We,Ge,!1,function(t){a("+ZCo"),a("vSVV")},"data-v-21247636",null).exports;function Ze(t,e){var a,i=0;return t.length<(e||6)?0:(/[a-z]/.test(t)&&i++,/[A-Z]/.test(t)&&i++,/[0-9]/.test(t)&&i++,a=t,RegExp(/[(\ )(\~)(\!)(\@)(\#)(\$)(\%)(\^)(\&)(\*)(\()(\))(\-)(\_)(\+)(\=)(\[)(\])(\{)(\})(\|)(\\)(\;)(\:)(\')(\")(\,)(\.)(\/)(\<)(\>)(\?)(\)]+/).test(a)&&i++,i)}function Je(t){var e=void 0,a=void 0;try{if(4==(e=t.split(".")).length){for(a=0;a<4;a++)if(""===e[a]||e[a]!==""+parseInt(e[a]))return!1;return!0}return!1}catch(t){return!1}}function Ke(t){var e=void 0,a=void 0,i=void 0,n=void 0,s="";for(e=0;e<t;e++)s+="1";for(a=t;a<32;a++)s+="0";for(i="",n=0;n<32;n+=8)i+=parseInt(s.substr(n,8),2),n<24&&(i+=".");return i}function Ye(t,e){var a=void 0,i=void 0;try{return a=t.split("."),i=e.split("."),(parseInt(i[0])&parseInt(a[0]))===parseInt(i[0])&&(parseInt(i[1])&parseInt(a[1]))===parseInt(i[1])&&(parseInt(i[2])&parseInt(a[2]))===parseInt(i[2])&&(parseInt(i[3])&parseInt(a[3]))===parseInt(i[3])}catch(t){return console.log(t),!1}}function Xe(t,e,a){var i=void 0,n=void 0,s=void 0;try{return i=e.split("."),n=t.split("."),s=a.split("."),(parseInt(i[0])&parseInt(n[0]))===parseInt(s[0])&&(parseInt(i[1])&parseInt(n[1]))===parseInt(s[1])&&(parseInt(i[2])&parseInt(n[2]))===parseInt(s[2])&&(parseInt(i[3])&parseInt(n[3]))===parseInt(s[3])}catch(t){return console.log(t),!1}}function ta(t,e,a){var i,n,s,o;try{for(i=((parseInt(t.split(".")[0])+256).toString(2).substring(1)+(parseInt(t.split(".")[1])+256).toString(2).substring(1)+(parseInt(t.split(".")[2])+256).toString(2).substring(1)+(parseInt(t.split(".")[3])+256).toString(2).substring(1)).split(""),n=parseInt(e);n<i.length;n++)i[n]="1";for(i=i.join(""),s="",o=0;o<32;o+=8)s+=parseInt(i.substr(o,8),2),o<24&&(s+=".");return s!=a}catch(t){return!1}}function ea(t){var e,a=void 0,i=void 0;if(!t)return 0;if(4!==(e=t.split(".")).length)return!1;for(a=0,i=0;i<4;i++)a=256*a+parseInt(e[i],10);return a}function aa(t){var e=void 0,a="",i=16777216;for(e=0;e<4;e++)a=0===e?a:a+".",a+=parseInt(t/i),t-=parseInt(t/i)*i,i/=256;return a}function ia(t){return/[\u4E00-\u9FA5]+/.test(t)}var na={props:{type:[String],actionTip:[Array],tableData:[Object],action:[String],loading:[Boolean],form:[Object],thatVue:[Object]},components:{},data:function(){var t=this,e=this;return{imsTypes:[{value:"公共镜像",label:1},{value:"私有镜像",label:0}],osTypes:[{label:"Linux",osType:1},{label:"Windows",osType:2},{label:"Redhat",osType:3}],ims:"",actionForm:{image_id:"",visibility:1,osType:1,pwd:"",newPwd:""},disabled:!1,imsList:[],passGrade:0,rules:{image_id:[{required:!0,message:"请选择镜像",trigger:"change,blur"}],pwd:[{required:!0,message:"请输入密码",trigger:"change,blur"},{validator:function(t,a,i){if(a)if(a.length<8||a.length>20)i(new Error("密码长度在8-20位之间"));else{var n=Ze(a,8);e.passGrade=n,n>2?i():i(new Error("密码强度较低，请重新输入"))}else i(new Error("密码不能为空"))},trigger:"change,blur"}],newPwd:[{required:!0,message:"请再次输入密码",trigger:"change,blur"},{validator:function(e,a,i){""==a?i(new Error("请再次输入密码")):a!=t.actionForm.pwd?i(new Error("两次密码不一致")):i()},trigger:"change,blur"}]},desc:"",textArea:"请简要说明您的退订理由"}},methods:{changeImage:function(){this.form.image_id=this.actionForm.image_id,this.form.password=this.actionForm.pwd},changeIms:function(){this.getEcmImages()},changeDes:function(){console.log("ddd"),this.form.describe=this.desc},validateForm:function(){return this.changeImage(),this.$refs.actionForm.validate()},getEcmImages:function(){var t=this,e=void 0;"os"==this.regionType&&(e={visibility:this.actionForm.visibility},this.actionForm.visibility&&(e.osType=this.actionForm.osType)),"cs"==this.regionType&&(e={osType:this.actionForm.osType}),this.disabled=!0,Wt(e).then(function(e){var a=e.data;t.imsList=a.results,t.disabled=!1}).catch(function(e){console.log(e),t.disabled=!1})}},computed:{typeCom:function(){return this.type||"warn"},actionCom:function(){if("start"==this.action||"stop"==this.action||"reboot"==this.action||"delete"==this.action)return"action"},data:function(){return Array.isArray(this.tableData.data)?this.tableData.data[0]:this.tableData.data},regionType:function(){return console.log(this.thatVue.$store.getters.regionType),this.thatVue.$store.getters.regionType}},created:function(){"ubsubscribe"==this.tableData.view||this.getEcmImages(),console.log(this.tableData)}},sa={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"action-content",attrs:{loading:t.loading}},[a("el-row",{staticClass:"action-tip bg"},["info"==t.typeCom?a("el-row",{staticClass:"action-tip-title",domProps:{innerHTML:t._s(t.actionTip[0])}}):t._e(),t._v(" "),"info"==t.typeCom&&t.actionTip[1]?a("el-row",{staticClass:"action-tip-title action-danger",domProps:{innerHTML:t._s(t.actionTip[1])}}):t._e()],1),t._v(" "),a("el-row",{staticClass:"action-form"},[a("el-col",[t._v("\n\t\t\t云服务器名称 : "+t._s(t.data.name)+"\n\t\t")]),t._v(" "),a("el-col",[t._v("\n\t\t\tIP地址： 内网： "+t._s(t.data.privateIp)+" 外网："+t._s(t.data.publicip||"--")+"\n\t\t")]),t._v(" "),a("el-col",[t._v("\n\n\t\t\t配置： "+t._s(t.data.flavorTxt)+" 镜像："+t._s(t.data.templatedisplaytext||t.data.templatename)+"\n\n\t\t")]),t._v(" "),t.tableData.view?t._e():a("el-col",{staticClass:"form-content"},[a("el-form",{ref:"actionForm",attrs:{model:t.actionForm,rules:t.rules,"label-width":"80px",size:"mini","label-position":"left"}},["os"==t.regionType?a("el-form-item",{staticClass:"ims-type",attrs:{label:"镜像类型 :",required:""}},[a("el-radio-group",{attrs:{size:"mini"},on:{change:t.changeIms},model:{value:t.actionForm.visibility,callback:function(e){t.$set(t.actionForm,"visibility",e)},expression:"actionForm.visibility"}},t._l(t.imsTypes,function(e){return a("el-radio-button",{key:e.value,attrs:{label:e.label}},[t._v("\n\t\t\t\t\t\t\t"+t._s(e.value)+"\n\t\t\t\t\t\t")])}))],1):t._e(),t._v(" "),a("el-form-item",{staticClass:"ims-choose",attrs:{label:"重装选择 :",prop:"image_id"}},[t.actionForm.visibility?a("el-select",{staticClass:"action-select",attrs:{size:"mini"},on:{change:t.changeIms},model:{value:t.actionForm.osType,callback:function(e){t.$set(t.actionForm,"osType",e)},expression:"actionForm.osType"}},t._l(t.osTypes,function(t){return a("el-option",{key:t.label,attrs:{value:t.osType,label:t.label}})})):t._e(),t._v(" "),a("el-select",{staticClass:"action-select",attrs:{size:"mini",disabled:t.disabled},model:{value:t.actionForm.image_id,callback:function(e){t.$set(t.actionForm,"image_id",e)},expression:"actionForm.image_id"}},t._l(t.imsList,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})}))],1),t._v(" "),a("el-form-item",{attrs:{label:"密码 :",prop:"pwd"}},[a("el-input",{attrs:{type:"password"},model:{value:t.actionForm.pwd,callback:function(e){t.$set(t.actionForm,"pwd",e)},expression:"actionForm.pwd"}}),t._v(" "),a("div",{staticClass:"passGrade"},[a("span",{staticClass:"gradeTabs"},[a("span",{staticClass:"gradeTab",class:{passSimple:t.passGrade>0}}),t._v(" "),a("span",{staticClass:"gradeTab",class:{passModerate:t.passGrade>1}}),t._v(" "),a("span",{staticClass:"gradeTab",class:{passComplex:t.passGrade>2}})])]),t._v(" "),a("el-tooltip",{attrs:{"popper-class":"editSnapTip",content:"密码必须为8-20位英文（区分大小写）、数字和符号的组合，不能是纯数字或字母",placement:"left"}},[a("i",{staticClass:"el-icon-question"})])],1),t._v(" "),a("el-form-item",{attrs:{label:"确认密码 :",prop:"newPwd"}},[a("el-input",{attrs:{type:"password"},model:{value:t.actionForm.newPwd,callback:function(e){t.$set(t.actionForm,"newPwd",e)},expression:"actionForm.newPwd"}})],1)],1)],1),t._v(" "),t.tableData.view?a("el-col",[a("el-col",{staticClass:"orderNum"},[t._v("\n\t\t\t\t所属订单号：--\n\t\t\t\t\n\t\t\t")]),t._v(" "),a("el-col",[t._v("\n\t\t\t\t订单完成时间：--\n\t\t\t")]),t._v(" "),a("el-col",{attrs:{span:4}},[t._v("\n\t\t\t\t问题描述及建议：\n\t\t\t")]),t._v(" "),a("el-col",{attrs:{span:19}},[a("el-input",{attrs:{type:"textarea",resize:"none",rows:3,placeholder:t.textArea},on:{change:t.changeDes},model:{value:t.desc,callback:function(e){t.desc=e},expression:"desc"}})],1)],1):t._e()],1)],1)},staticRenderFns:[]};var oa=a("VU/8")(na,sa,!1,function(t){a("uoJG"),a("exDm")},"data-v-70264ce6",null).exports,ra={props:{type:[String],actionTip:[Array],tableData:[Object],action:[String],loading:[Boolean],selctData:[Array,Object],form:[Object,String],thatVue:[Object]},components:{ConsoleTable:Te},data:function(){var t=this;return{disabled:!0,formData:{cpu:"",mem:"",cpuValue:[{vcpu:1,ram:[1,2,4]},{vcpu:2,ram:[2,4,8,16]}]},rules:{cpu:[{validator:function(e,a,i){var n=t._.head(t.tableData.data),s=void 0;"cs"==t.regionType&&(s=n.cpunumber),"os"==t.regionType&&(s=n.flavor.vcpus),a?a<s?i(new Error("变更规格只支持升级操作")):i():i(new Error("请选择要升级的核数"))},trigger:"change"}],mem:[{validator:function(e,a,i){var n=t._.head(t.tableData.data),s=void 0,o=void 0;"cs"==t.regionType&&(s=n.memory/1024,o=n.cpunumber),console.log("ccc"),"os"==t.regionType&&(s=n.flavor.ram/1024,o=n.flavor.vcpus),a?t.formData.cpu>o?i():a<=s?i(new Error("变更规格只支持升级操作")):i():i(new Error("请选择要升级的容量"))},trigger:"change"}]}}},methods:{validateForm:function(){return this.$refs.actionForm.validate()}},computed:{regionType:function(){return this.thatVue.$store.getters.regionType},typeCom:function(){return this.type||"warn"},actionCom:function(){if("start"==this.action||"stop"==this.action||"reboot"==this.action||"delete"==this.action)return"action"},fliterData:function(){var t=(new Date).getTime();return this.$set(this.tableData,"date",t),this.tableData},mem:function(){var t=this.formData.cpu,e=[];return t&&(e=this.formData.cpuValue.filter(function(e){return e.vcpu==t})[0].ram),console.log(1111),this.formData.mem=e[0],e},price:function(){return this.formData.cpu&&this.formData.mem?(this.form.cpu=this.formData.cpu,this.form.mem=this.formData.mem,0):0}},created:function(){var t,e=this;(t={regionid:F()},Ct({url:"console/ecm/ecs/serverextenddata/",method:"get",params:t})).then(function(t){var a=t.data.returnObj;if(a&&a.length)return a.map(function(t){t.ram=t.ram.sort(function(t,e){return t-e})}),e.formData.cpuValue=e._.sortBy(a,function(t){return t.vcpu}),void(e.disabled=!1);e.disabled=!0})}},la={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"actionContent",staticClass:"action-content",attrs:{loading:t.loading}},[a("el-row",{staticClass:"action-tip"},["info"==t.typeCom?a("el-row",{staticClass:"action-tip-title"},[t._v("\n\t\t\t"+t._s(t.actionTip[0])+"\n\t\t")]):t._e(),t._v(" "),"warn"==t.typeCom?a("el-row",{staticClass:"action-tip-waring"},[a("el-col",{staticClass:"action-img",attrs:{span:2}},[a("svg-icon",{attrs:{"icon-class":"warn"}})],1),t._v(" "),a("el-col",{staticClass:"action-tip-title",attrs:{span:21}},[a("p",[t._v("\n\t\t\t\t\t"+t._s(t.actionTip[0])+"\n\t\t\t\t")]),t._v(" "),t.actionTip[1]?a("p",{staticClass:"action-tip-subtip"},[t._v("\n\t\t\t\t\t"+t._s(t.actionTip[1])+"\n\t\t\t\t")]):t._e()])],1):t._e()],1),t._v(" "),t.tableData?a("el-row",{staticClass:"action-table"},[a("el-col",[a("console-table",{key:t.fliterData.date,attrs:{tableData:t.fliterData.data,operationOrNot:!1,tableOptions:t.fliterData.option,noEffect:!0}})],1)],1):t._e(),t._v(" "),a("el-row",{staticClass:"action-select"},[a("el-form",{key:t.formData.date,ref:"actionForm",attrs:{model:t.formData,size:"mini",rules:t.rules}},[a("el-form-item",{attrs:{label:"升级到",required:""}},[a("el-col",{attrs:{span:9}},[a("el-form-item",{attrs:{prop:"cpu"}},[a("el-select",{attrs:{disabled:t.disabled},model:{value:t.formData.cpu,callback:function(e){t.$set(t.formData,"cpu",e)},expression:"formData.cpu"}},t._l(t.formData.cpuValue,function(t){return a("el-option",{key:t.vcpu,attrs:{label:t.vcpu+" 核",value:t.vcpu}})}))],1)],1),t._v(" "),a("el-col",{attrs:{span:10}},[a("el-form-item",{attrs:{prop:"mem"}},[a("el-select",{attrs:{disabled:t.disabled},model:{value:t.formData.mem,callback:function(e){t.$set(t.formData,"mem",e)},expression:"formData.mem"}},t._l(t.mem,function(t){return a("el-option",{key:t,attrs:{label:t+" G",value:t}})}))],1)],1)],1),t._v(" "),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],attrs:{label:"续订金额为:",required:""}},[t._v("\n\t\t\t\t"+t._s(t.price||0)+" 元\n\t\t\t")])],1)],1)],1)},staticRenderFns:[]};var ca=a("VU/8")(ra,la,!1,function(t){a("fDiC")},"data-v-5b226ed0",null).exports,ua={props:{type:[String],warn:[Boolean],attachOperation:[Boolean],actionTip:[Array],tableData:[Object],action:[String],loading:[Boolean],form:[Object]},components:{ConsoleTable:Te,ConsoleSearch:ge},data:function(){return{i18n:u,snapshot:{name:""},rules:{name:[{required:!0,message:u.ecm.snapshotNameTip,trigger:"blur"},{validator:function(t,e,a){e.length>63||e.length<2?a(new Error("长度为2-63字符")):ia(e)?a(new Error("不能使用中文")):ie({name:e}).then(function(t){t.data.results.length?a(new Error("名字有重复，请重新输入")):a()}).catch(function(t){console.log(t)})},trigger:"blur"}]}}},methods:{changeForm:function(){this.form.name=this.snapshot.name},validateForm:function(){return this.$refs.actionForm.validate()}},computed:{typeCom:function(){var t=this.type||"warn";return console.log(this.$refs.actionForm),t},fliterData:function(){var t=(new Date).getTime();return this.$set(this.tableData,"date",t),this.tableData}}},da={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"action-content",attrs:{loading:t.loading}},[t.warn?t._e():a("el-row",{staticClass:"action-tip"},["info"==t.typeCom?a("el-row",{staticClass:"action-tip-title"},[t._v("\n\t\t\t"+t._s(t.actionTip[0])+"\n\t\t")]):t._e(),t._v(" "),"warn"==t.typeCom?a("el-row",{staticClass:"action-tip-waring"},[a("el-col",{staticClass:"action-img",attrs:{span:2}},[a("svg-icon",{attrs:{"icon-class":"warn"}})],1),t._v(" "),a("el-col",{staticClass:"action-tip-title",attrs:{span:21}},[a("p",[t._v("\n\t\t\t\t\t"+t._s(t.actionTip[0])+"\n\t\t\t\t")]),t._v(" "),t.actionTip[1]?a("p",{staticClass:"action-tip-subtip"},[t._v("\n\t\t\t\t\t"+t._s(t.actionTip[1])+"\n\t\t\t\t")]):t._e()])],1):t._e()],1),t._v(" "),Array.isArray(t.tableData.data)&&!t.warn?a("el-row",{staticClass:"action-table"},[a("el-col",[a("console-table",{key:t.fliterData.date,attrs:{tableData:t.fliterData.data,operationOrNot:!1,tableOptions:t.fliterData.option,noEffect:!0,height:280}})],1)],1):t._e(),t._v(" "),a("el-row",{staticClass:"action-select"},[a("el-form",{ref:"actionForm",attrs:{model:t.snapshot,"label-width":"30%",size:"mini",rules:t.rules}},[a("el-form-item",{attrs:{label:t.i18n.ecm.ecmName+"："}},[t._v("\n\t\t\t\t"+t._s(t.tableData.data.name)+"\n\t\t\t")]),t._v(" "),a("el-form-item",{attrs:{label:t.i18n.ecm.snapshotName+"：",prop:"name"}},[a("el-input",{staticStyle:{width:"200px"},on:{change:t.changeForm},model:{value:t.snapshot.name,callback:function(e){t.$set(t.snapshot,"name","string"==typeof e?e.trim():e)},expression:"snapshot.name"}}),t._v(" "),a("el-tooltip",{attrs:{"popper-class":"editSnapTip",content:"不能使用中文,且长度为2-63字符",placement:"top"}},[a("i",{staticClass:"el-icon-question"})])],1)],1)],1)],1)},staticRenderFns:[]};var pa=a("VU/8")(ua,da,!1,function(t){a("Al+f"),a("gI5J")},"data-v-0637b137",null).exports,ma={props:{type:[String],actionTip:[Array],actionTips:[Array,String],tableData:[Object],action:[String],loading:[Boolean],selctData:[Array,Object],form:[Object,String]},components:{ConsoleTable:Te},data:function(){return{warnTitle:!1,unRenewShow:!1,formData:{cycleType:"M",cycleCnt:"1",list:[{label:"月",cycleType:"M",cycleCnt:[1,2,3,4,5,6,7,8,9,10,11]},{label:"年",cycleType:"Y",cycleCnt:[1,2,3]}]}}},methods:{validateForm:function(){var t=this,e=[];return this.filterData.map(function(t){e.push(t.id)}),this.form.data=e,new rt.a(function(e,a){t.form.data.length?e():(t.$message({type:"error",message:"当前续订方式无"+t.actionTip[1]}),a())})},OpenData:function(){this.unRenewShow=!this.unRenewShow}},computed:{typeCom:function(){return this.type||"warn"},actionCom:function(){if("start"==this.action||"stop"==this.action||"reboot"==this.action||"delete"==this.action)return"action"},unRenewData:function(){return this.tableData.data[1]},filterData:function(){return this.tableData.data[0]},cycleCnt:function(){var t=this.formData.cycleType,e=[];return t&&(e=this.formData.list.filter(function(e){return e.cycleType==t})[0].cycleCnt),this.formData.cycleCnt=e[0],e},price:function(){if(this.formData.cycleType&&this.formData.cycleCnt){this.form.cycleType=this.formData.cycleType,this.form.cycleCnt=this.formData.cycleCnt;var t=[];return this.filterData.map(function(e){t.push(e.id)}),this.form.data=t,0}return 0}},created:function(){console.log("ddd"),console.log(this.form),console.log(this.actionTips),this.actionTips&&(this.warnTitle=!0)}},ha={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"action-content",attrs:{loading:t.loading}},[a("el-row",{staticClass:"action-tip"},["info"==t.typeCom?a("el-row",{staticClass:"action-tip-title"},[t._v("\n\t\t\t"+t._s(t.actionTip[0])+"\n\t\t")]):t._e(),t._v(" "),"warn"==t.typeCom?a("el-row",{staticClass:"action-tip-waring"},[a("el-col",{staticClass:"action-img",attrs:{span:2}},[a("svg-icon",{attrs:{"icon-class":"warn"}})],1),t._v(" "),a("el-col",{staticClass:"action-tip-title",attrs:{span:21}},[a("p",[t._v("\n\t\t\t\t\t"+t._s(t.actionTip[0])+"\n\t\t\t\t")])])],1):t._e(),t._v(" "),t.warnTitle?a("p",{staticClass:"action-tip-subtip",staticStyle:{color:"red"}},[t._v("\n\t\t\t"+t._s(t.actionTips[0])+"\n\t\t")]):t._e()],1),t._v(" "),t.tableData?a("el-row",{staticClass:"action-table"},[a("el-col",[a("console-table",{attrs:{tableData:t.filterData,operationOrNot:!1,height:200,tableOptions:t.tableData.option,noEffect:!0}}),t._v(" "),t.unRenewData&&t.unRenewData.length>0?a("p",{staticClass:"unRenewTip"},[t._v("以下"+t._s(t.actionTip[1])+"不可续订,"),t.unRenewShow?t._e():a("span",{on:{click:t.OpenData}},[t._v("点击查看")]),t.unRenewShow?a("span",{on:{click:t.OpenData}},[t._v("点击关闭")]):t._e()]):t._e(),t._v(" "),t.unRenewShow?a("console-table",{staticClass:"unRenewTable",attrs:{tableData:t.unRenewData,operationOrNot:!1,height:110,tableOptions:t.tableData.option,noEffect:!0}}):t._e()],1)],1):t._e(),t._v(" "),a("el-row",{staticClass:"action-select"},[a("el-form",{key:t.formData.date,attrs:{model:t.formData,size:"mini"}},[a("el-form-item",{attrs:{label:"续订时长：",required:""}},[a("el-select",{model:{value:t.formData.cycleType,callback:function(e){t.$set(t.formData,"cycleType",e)},expression:"formData.cycleType"}},t._l(t.formData.list,function(t){return a("el-option",{key:t.cycleType,attrs:{label:t.label,value:t.cycleType}})})),t._v(" "),a("el-select",{model:{value:t.formData.cycleCnt,callback:function(e){t.$set(t.formData,"cycleCnt",e)},expression:"formData.cycleCnt"}},t._l(t.cycleCnt,function(t){return a("el-option",{key:t,attrs:{label:t,value:t}})}))],1),t._v(" "),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],attrs:{label:"续订金额为:",required:""}},[t._v("\n\t\t\t\t"+t._s(t.price||0)+" 元\n\t\t\t")])],1)],1)],1)},staticRenderFns:[]};var fa=a("VU/8")(ma,ha,!1,function(t){a("a/Ue"),a("X2wF")},"data-v-816b1bc0",null).exports,va={props:{form:[Object],tableData:[Object,Array],actionTip:[Array]},data:function(){var t=this,e=this;return{pwdForm:{pwd:"",newPwd:""},passGrade:0,rules:{pwd:[{required:!0,message:"请输入密码",trigger:"change,blur"},{validator:function(t,a,i){if(a)if(a.length<8||a.length>20)i(new Error("密码长度在8-20位之间"));else{var n=Ze(a,8);e.passGrade=n,n>2?i():i(new Error("密码强度较低，请重新输入"))}else i(new Error("密码不能为空"))},trigger:"change,blur"}],newPwd:[{required:!0,message:"请再次输入密码",trigger:"change,blur"},{validator:function(e,a,i){""==a?i(new Error("请再次输入密码")):a!=t.pwdForm.pwd?i(new Error("两次密码不一致")):i()},trigger:"change,blur"}]}}},methods:{validateForm:function(){return this.form.new_password=this.pwdForm.newPwd,this.$refs.pwdForm.validate()}}},ga={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"pwd-change"},[a("el-row",{staticClass:"action-tip bg"},[a("el-row",{staticClass:"action-tip-title",domProps:{innerHTML:t._s(t.actionTip[0])}}),t._v(" "),t.actionTip[1]?a("el-row",{staticClass:"action-tip-title action-danger",domProps:{innerHTML:t._s(t.actionTip[1])}}):t._e()],1),t._v(" "),a("el-row",{staticClass:"form-content"},[a("el-form",{ref:"pwdForm",attrs:{model:t.pwdForm,rules:t.rules,"label-width":"80px",size:"mini"}},[a("el-form-item",{attrs:{label:"密码 :",prop:"pwd"}},[a("el-input",{attrs:{type:"password"},model:{value:t.pwdForm.pwd,callback:function(e){t.$set(t.pwdForm,"pwd",e)},expression:"pwdForm.pwd"}}),t._v(" "),a("div",{staticClass:"passGrade"},[a("span",{staticClass:"gradeTabs"},[a("span",{staticClass:"gradeTab",class:{passSimple:t.passGrade>0}}),t._v(" "),a("span",{staticClass:"gradeTab",class:{passModerate:t.passGrade>1}}),t._v(" "),a("span",{staticClass:"gradeTab",class:{passComplex:t.passGrade>2}})])]),t._v(" "),a("el-tooltip",{attrs:{"popper-class":"editSnapTip",content:"密码必须为8-20位英文（区分大小写）、数字和符号的组合，不能是纯数字或字母",placement:"left"}},[a("i",{staticClass:"el-icon-question"})])],1),t._v(" "),a("el-form-item",{attrs:{label:"确认密码 :",prop:"newPwd"}},[a("el-input",{attrs:{type:"password"},model:{value:t.pwdForm.newPwd,callback:function(e){t.$set(t.pwdForm,"newPwd",e)},expression:"pwdForm.newPwd"}})],1)],1)],1)],1)},staticRenderFns:[]};var ba=a("VU/8")(va,ga,!1,function(t){a("PkQM"),a("ZB01")},"data-v-3399f45b",null).exports,_a=0,ya={props:{name:[String],buttonText:[String]},components:{RegionList:me,ConsoleSearch:ge,ConsoleTable:Te,ConsoleAction:Qe},data:function(){var t=this;return{regionId:"",totalCount:0,loading:!1,snapshotLimitQuota:30,changeTableData:[],regionData:[],noTimeList:[],unRenewList:[],unOperationList:[],jobIds:[],newEcmName:"",detroyAutoRefresh:!1,form:{cpu:"1核"},filter:{status:"",limit:10,page:1,keyword:"",id:""},Pagination:{pagingData:[10,20,50],total:0,show:!1},ecmListData:[],multipleSelection:[],path:"/ecm/ecmDetail",selectOptions:[{value:"",label:u.common.allStatus},{value:"Running",label:u.common.active},{value:"Stopped",label:u.common.shutOff}],optionsValue:"",PublicOperation:[{value:u.common.started,disable:!1,fun:"start",state:"ShutState"},{value:u.common.shutOff,disable:!1,fun:"stop",state:"RunState"},{value:u.common.restart,disable:!1,fun:"reboot",state:"RunState"},{value:u.common.renew,disable:!1,fun:"renew",state:"All"}],tableOptions:[{prop:"name",propId:"id",label:u.common.nameOrID,width:"135px",temp:!0,detail:!0,path:"/ecm/ecmDetail"},{prop:"templatedisplaytext",props:"os_types",label:"",width:"40px",temp:!0,ims:!0},{prop:"stateTxt",label:u.common.status,temp:!0,filter:!0,status:!0,selectOptions:[{value:"Running",text:u.common.active},{value:"Stopped",text:u.common.shutOff}]},{prop:"ipText",label:u.common.IPAddress,ip:!0,html:!0},{prop:"flavorTxt",label:u.common.flavor},{prop:"created",label:u.common.createAt}],ecmOperation:[{value:u.ecm.changeSpc,id:"changeSpc",fun:function(e){return t.changeSpc(e)}},{value:u.ecm.telnet,id:"telnet",fun:function(e){return t.telnet(e)}},{value:u.ecm.makeSnapshot,id:"makeSnapshot",fun:function(e){return t.makeSnapshot(e)}},{value:u.ecm.resetPw,id:"resetPw",fun:function(e){return t.resetPw(e)}},{value:u.ecm.getPwd,id:"getPwd",fun:function(e){return t.getPwd(e)}},{value:u.ecm.reinstall,id:"reinstall",fun:function(e){return t.reinstall(e)}}]}},methods:{selectChange:function(t){this.filter.keyword="",this.filter.id="",this.filter.status=t,this.filter.page=1,this.getEcmList()},search:function(t){this.filter.status="",this.filter.keyword="",this.filter.id="","name"==t.name&&(t.name="keyword"),console.log(t),this.filter[t.name]=t.value,this.getEcmList()},refresh:function(t){this.getEcmList(t),this.getRegionNums()},clear:function(){this.filter.keyword="",this.filter.name="",this.filter.id=""},aciton:function(t,e){var a=this,i=(this.$createElement,"renew"==t?fa:Qe),n=this.filterData(this.changeTableData,t);console.log(n),n.type="warn",n.title=e;var s={data:n,view:i,form:{}};this.$alertDialog(s).then(function(e){if("telnet"==t)a.telnet(n.data[0]);else if("resetPw"==t)a.resetPw(n.data[0]);else{var i=[],s=void 0,o=void 0;"renew"==t?(s=se,o={cycleType:e.cycleType,cycleCnt:e.cycleCnt},i=e.data):(console.log(n),n.data[0].map(function(t){i.push(t.id)}),s=Ht,o={action:t}),console.log(o,i),s(i,o).then(function(e){console.log(e),a.$message({message:"操作成功",type:"warning"});var n={action:t,servers:i};a.refresh(n);var s=e.data.response||e.data.results||void 0;a.autoRefresh(s)}).catch(function(t){console.log(t)})}})},filterData:function(t,e){var a=[{prop:"name",label:u.common.name,temp:!0,detail:!0},{prop:"stateTxt",label:u.common.status,temp:!0,status:!0},{prop:"expire_date",label:u.common.finishAt}],i=[{prop:"name",label:u.common.name,temp:!0,detail:!0},{prop:"privateIp",label:u.common.privateIp},{prop:"templatedisplaytext",label:u.common.ims},{prop:"expire_date",label:u.common.finishAt},{prop:"stateTxt",label:u.common.status,temp:!0,status:!0}],n={},s=this;s.unRenewList=[],s.unOperationList=[];return["start","stop","delete","reboot","unsubscribe","telnet","resetPw"].find(function(t){return t==e})&&(n.option=a),["renew"].find(function(t){return t==e})&&(n.option=i),t=t.filter(function(t){switch(e){case"start":return n.actionTip=[u.ecm.actionStartTip,"","开机"],n.actionWaring="只有在关机状态下才能进行此操作","Stopped"==t.state||"SHUTOFF"==t.status||(s.unOperationList.push(t),!1);case"stop":return n.actionWaring="只有在开机状态下才能进行此操作",n.actionTip=[u.ecm.actionStopTip,u.ecm.actionStopTip2,"关机"],"Running"==t.state||"ACTIVE"==t.status||(s.unOperationList.push(t),!1);case"reboot":return n.actionWaring="只有在开机状态下才能进行此操作",n.actionTip=[u.ecm.actionRebootTip,u.ecm.actionRebootTip2,"重启"],"Running"==t.state||"ACTIVE"==t.status||(s.unOperationList.push(t),!1);case"renew":return n.actionWaring="只有在开机或关机状态下才能进行此操作",n.actionTip=[u.ecm.actionRenewTip,"云服务器"],"Stopped"==t.state||"Running"==t.state||"SHUTOFF"==t.status||"ACTIVE"==t.status||(s.unRenewList.push(t),!1);case"telnet":return n.actionWaring="只有在开机状态下才能进行此操作",n.actionTip=[u.ecm.telnetTip,"远程登录会打开新的页面","远程登录"],"Running"==t.state||"ACTIVE"==t.status||(s.unOperationList.push(t),!1);case"resetPw":return n.actionWaring="",n.actionTip=[u.ecm.telnetTip,"重置密码"],!("Stopped"!=t.state||!t.passwordenabled)||(s.unOperationList.push(t),!1);default:return!0}}),n.data=[t],"renew"==e?n.data.push(s.unRenewList):n.data.push(s.unOperationList),n},changeTable:function(t){var e=this;this.changeTableData=t;var a=this._.find(this.changeTableData,{state:"Running"})||this._.find(this.changeTableData,{status:"ACTIVE"}),i=this._.find(this.changeTableData,{state:"Stopped"})||this._.find(this.changeTableData,{status:"SHUTOFF"}),n={RunState:a,ShutState:i,ShutAndImg:this.changeTableData.filter(function(t){return!("Stopped"!=t.state||!t.passwordenabled)}).length,All:a||i};if(this.changeTableData.length){var s=this.changeTableData.filter(function(t){return"ERROR"==t.state||"ERROR"==t.status});this.PublicOperation.map(function(t){s.length&&s.length==e.changeTableData.length?t.disable=!1:t.disable=!!n[t.state],t.title=""})}else this.PublicOperation.map(function(t){t.disable=!1,t.title="请选择云服务器"})},telnet:function(t){var e=this,a="";"[object Array]"==Object.prototype.toString.call(t)?(t.map(function(t){a=a+","+t.id}),a=a.substr(1)):a=t.id;var i=window.open("","_blank");ee(a).then(function(t){var a=t.data.results,n=e._.head(a).vnc_url||"";i.opener=null,n?i.location.href=n:i.close()}).catch(function(t){console.log(t),i.close()})},changeSpc:function(t){var e=this,a=ca,i={};i.data=[],i.data.push(t),i.title=u.ecm.changeSpc,i.actionTip=[u.ecm.changeSpcTip],i.option=[{prop:"name",label:u.common.name,temp:!0,detail:!0},{prop:"flavorTxt",label:u.common.flavor},{prop:"templatedisplaytext",label:u.common.ims},{prop:"created",label:u.common.createAt},{prop:"stateTxt",label:u.common.status}];var n={data:i,view:a,form:{cpu:"",mem:""}};this.$alertDialog(n).then(function(a){console.log(a),ae(t.id,a.cpu,a.mem).then(function(t){console.log(t),e.$message({message:"正在变更规格，请稍后",type:"warning"});var a=e;setTimeout(function(){a.refresh()},3e3)}).catch(function(t){console.log(t),e.refresh()})})},reinstall:function(t){var e=this,a=oa,i={};i.data=[],i.data.push(t),i.actionTip=[u.ecm.reinstallTip],i.title=u.ecm.reinstall;var n={data:i,view:a,form:{image_id:""}};this.$alertDialog(n).then(function(a){var i,n,s,o;(i=t.id,n=a.image_id,s=a.password,o={regionid:F(),image_id:n,password:s},Ct({url:"console/ecm/ecs/servers/"+i+"/rebuild/",method:"post",data:o})).then(function(t){e.$message({message:"正在一键重装，请稍后",type:"warning"}),e.refresh();var a=t.data.results;e.autoRefresh(a,"reinstall")}).catch(function(t){console.log(t)})})},makeSnapshot:function(t){var e=this;Vt({resource:"snapshot",regionid:F()}).then(function(a){var i=a.data.results[0].SNAPSHOT;if(e.snapshotLimitQuota-i.total_count>0){var n={},s=pa;n.actionTip=[u.ecm.snapshotTip],n.title=u.ecm.makeSnapshot,n.data=t;var o={data:n,view:s,form:{}};e.$alertDialog(o).then(function(a){var i=a.name;ne(t.id,i).then(function(t){console.log(t),e.$message({message:"正在创建快照，请稍后",type:"warning"})}).catch(function(t){console.log(t)})})}else e.$message({message:"快照配额不足!",type:"warning"})})},makeIms:function(t){window.open("/#/ecm/ims/createPrivateIms?instance_uuid="+t.id)},resetPw:function(t){var e,a,i=this;if("cs"==this.regionType){var n=[];"[object Array]"==Object.prototype.toString.call(t)?t.map(function(t){n.push(t.id)}):n.push(t.id),(e=n,a={regionid:F(),instance_uuid:e},Ct({url:"/console/ecm/ecs/passwords/",method:"post",data:a})).then(function(t){i.$message({message:"正在重置密码，请稍后",type:"warning"})}).catch(function(t){console.log(t)})}if("os"==this.regionType){var s={data:{title:"重置密码",actionTip:["重置密码需要重启云主机，会影响您正在使用的业务，请谨慎操作。如有疑问，请拨打热线电话：4008109889"]},form:{new_password:""},view:ba};this.$alertDialog(s).then(function(e){var a,n,s;(a=t.id,n=e.new_password,s={regionid:F(),new_password:n},Ct({url:"console/ecm/ecs/servers/"+a+"/password/",method:"post",data:s})).then(function(t){i.$message({type:"success",message:"云服务器正在重置密码，请稍后"}),i.refresh()})}).catch(function(t){console.log(t)})}},getPwd:function(t){var e,a,i=this;(e=t.id,a={regionid:F()},Ct({url:"console/ecm/ecs/servers/"+e+"/password/",method:"get",params:a})).then(function(t){var e="用户名: root 密码： "+t.data.results[0].encryptedpassword;i.$msgbox({title:"获取密码",message:e,showCancelButton:!0})}).catch(function(t){console.log(t)})},ubsubscribe:function(t){var e=this,a={data:{title:u.ecm.refundOrder,actionTip:[u.ecm.refundOrderTip],data:t,view:"ubsubscribe"},view:oa,form:{describe:""}};this.$alertDialog(a).then(function(a){var i,n,s;console.log(a),(i=t.id,n=a.describe,s={regionid:F(),des:n},Ct({url:"console/refundorder/"+i+"/",method:"post",data:s})).then(function(t){e.$message({message:"正在退订，请稍后",type:"warning"}),e.refresh(),console.log(t)}).catch(function(t){console.log(t)})})},handleSelectionChange:function(t){this.multipleSelection=t},handleClick:function(t,e){t(e)},create:function(){window.open("/#/ecm/ecmCreate")},changeRegion:function(t){Ct.cancle("CancelToken"),this.regionType&&console.log(this.regionType),this.refresh()},getDetail:function(t){var e=this,a=this;this.detroyAutoRefresh||jt(t).then(function(t){var i=t.data.results,n=i.length&&i[0]||item;n.no_time&&"1"==n.no_time?setTimeout(function(){a.getDetail(n.id)},5e3):(a.filterServers(n),e.ecmListData.map(function(t,e){if(t.id==n.id)return a.$set(a.ecmListData,e,n),!0}),a.addOperation(n),e._.remove(e.noTimeList,function(t){return t.id==n.id}))}).catch(function(t){console.log(t)})},autoRefreshTime:function(t){var e=this;t&&("string"==typeof jobIds?this.getDetail(jobIds):Array.isArray(t)?t.map(function(t){console.log(t),t.id&&e.getDetail(t.id)}):console.log(jobIds))},getEcmList:function(t){var e=this,a=this.filter;this.loading=!0,Bt(a).then(function(a){var i=ue()(a.data.results),n=a.data.total_count;e.filterServers(i,t),e.ecmListData=i,e.totalCount=n,e.Pagination.total=e.totalCount,n>e.Pagination.pagingData[0]&&(e.Pagination.show=!0),e.loading=!1}).catch(function(t){"CancelToken"==t.message||(e.loading=!1),console.log(t)})},addOperation:function(t){var e=this,a=["changeSpc","resetPw","makeIms","reinstall"],i=["telnet","changePwd"],n=["ubsubscribe"],s=["getPwd","resetPw"],o=["stopping","starting","restarting","error","rebuild"],r=[{value:u.ecm.changeSpc,id:"changeSpc",fun:function(t){return e.changeSpc(t)}}],l={value:u.ecm.makeSnapshot,id:"makeSnapshot",fun:function(t){return e.makeSnapshot(t)}},c={value:u.ecm.makeIms,id:"makeIms",fun:function(t){return e.makeIms(t)}},d={value:u.ecm.telnet,id:"telnet",fun:function(t){return e.telnet(t)}},p={value:u.ecm.resetPw,id:"resetPw",fun:function(t){return e.resetPw(t)}},m={value:u.ecm.getPwd,id:"getPwd",fun:function(t){return e.getPwd(t)}},h={value:u.ecm.resetPw,id:"changePwd",fun:function(t){return e.resetPw(t)}},f={value:u.ecm.reinstall,id:"reinstall",fun:function(t){return e.reinstall(t)}},v=N(),g=this;0==v?r=r:r.push(d),"cs"==this.regionType&&r.push(l,p,m,f),"os"==this.regionType&&r.push(c,h,f),r.map(function(e){"cs"==g.regionType&&("running"==t.state.toLowerCase()&&a.includes(e.id)&&(e.disabled=!0)&&(e.title="只有关机状态下才可进行此操作"),"stopped"==t.state.toLowerCase()&&i.includes(e.id)&&(e.disabled=!0)&&(e.title="只有开机状态下才可进行此操作"),ke(t.created,!0)&&n.includes(e.id)&&(e.disabled=!0)&&(e.title="只有创建时间不超过7天的云主机才可退订"),t.passwordenabled||s.includes(e.id)&&(e.disabled=!0)&&(e.title="该云主机未启用密码服务,请切换镜像"),o.includes(t.state.toLowerCase())&&(e.disabled=!0)),"os"==g.regionType&&("active"==t.status.toLowerCase()&&a.includes(e.id)&&(e.disabled=!0)&&(e.title="只有关机状态下才可进行此操作"),"shutoff"==t.status.toLowerCase()&&i.includes(e.id)&&(e.disabled=!0)&&(e.title="只有开机状态下才可进行此操作"),ke(t.created_at,!0)&&n.includes(e.id)&&(e.disabled=!0)&&(e.title="只有创建时间不超过7天的云主机才可退订"),o.includes(t.status.toLowerCase())&&(e.disabled=!0,e.title="云服务器中间状态不可进行操作")),t.expired&&(e.disabled=!0,e.title="当前云服务器已过期，请续订")}),this.$set(t,"operation",r)},filterServers:function(t,e){var a=this,i=this._,n=void 0,s=void 0;if(Array.isArray(t)&&t.length)t.forEach(function(t){if("cs"==a.regionType&&(n=i.first(t.nic)?i.first(t.nic).ipaddress:"--",s=t.cpunumber+"核 | "+t.memory/1024+"G","restarting"!==t.state.toLowerCase()&&e&&"reboot"==e.action&&e.servers.includes(t.id)&&(t.state="restarting")),"os"==a.regionType){var o=t.addresses?t.addresses[t.metadata.vpcname]:[],r=i.find(o,{"OS-EXT-IPS:type":"fixed"});n=r?r.addr:"--";var l=t.flavor;s=l?l.vcpus+"核 | "+l.ram/1024+"G":"--",t.templatedisplaytext=t.metadata&&t.metadata.image_name||"--"}t.finishAt=t.expire_date?Ce(t.expire_date):"--",t.chargeMode="M"==t.cycle_type?"按月":"按年","2"==t.os_type?t.os_types="windows":"1"==t.os_type?t.os_types="linux":"3"==t.os_type?t.os_types="redhat":"4"==t.os_type?t.os_types="ubuntu":t.os_types="",t.privateIp=n||"--",t.ipText="--"!=n?t.publicip?t.privateIp+"(私)</br>"+t.publicip+"(公)":t.privateIp+"(私)":"--",t.chargeMode="M"==t.cycle_type?"按月":"按年",t.flavorTxt=s||"--",t.expired=ke(t.finishAt),t.showNum=2,a.addOperation(t),t.jobid?a.autoRefresh(t.jobid)&&t.name==a.newEcmName&&a.startTimer(t,"clear"):!t.id&&"starting"==t.state.toLowerCase()&&a.getStarting(t),t.jobid||t.no_time&&"1"==t.no_time&&a.noTimeList.push({id:t.id})});else{if("cs"==a.regionType&&(n=i.first(t.nic)?i.first(t.nic).ipaddress:"--",s=t.cpunumber+"核 | "+t.memory/1024+"G"),"os"==a.regionType){var o=t.addresses[t.metadata.vpcname],r=i.find(o,{"OS-EXT-IPS:type":"fixed"});n=r?r.addr:"--";var l=t.flavor;s=l?l.vcpus+"核 | "+l.ram/1024+"G":"--",t.templatedisplaytext=t.metadata&&t.metadata.image_name||"--"}t.privateIp=n||"--",t.ipText="私:"+t.privateIp+"</br>公:"+t.publicIp,t.flavorTxt=s||"--",t.chargeMode="M"==t.cycle_type?"按月":"按年",t.running_time=t.running_time?t.running_time+"h":"--",t.lastStartTime=t.last_start_time?Ce(t.last_start_time):"--",t.finishAt=t.expire_date?Ce(t.expire_date):"--",t.expired=ke(t.finishAt),"2"==t.os_type?t.os_types="windows":"1"==t.os_type?t.os_types="linux":"3"==t.os_type?t.os_types="redhat":"4"==t.os_type?t.os_types="ubuntu":t.os_types="",t.showNum=2,a.addOperation(t)}},pagingChange:function(t,e){"num"==t?this.filter.limit=e:"page"==t&&(this.filter.page=e),this.loading=!0,this.getEcmList()},autoRefresh:function(t){var e=this;t&&("string"==typeof t?!this.jobIds.includes(t)&&this.jobIds.push(t)&&this.getJobDetail(t):Array.isArray(t)?(t.map(function(t){t.jobid&&!e.jobIds.includes(t.jobid)&&e.jobIds.push(t.jobid)}),this.jobIds.length&&this.getLoding()):console.log(t))},getLoding:function(){var t=this,e=this;if(!this.detroyAutoRefresh)if(this.loading){if(_a++>8)return;setTimeout(function(){e.getLoding()},5e3)}else _a=0,this.jobIds.map(function(e){t.getJobDetail(e)})},getJobDetail:function(t,e){var a=this,i=this,n=void 0;this.detroyAutoRefresh||kt(t).then(function(s){var o=s.data.results[0];if(1==o.jobstatus){var r=o.jobresult.virtualmachine;a.ecmListData.map(function(t,a){if(t.id==r.id){if(!t.expire_date||!t.publicip||"--"==t.expire_date||"reboot"==e||"reinstall"==e)return void jt(t.id).then(function(e){var n=e.data.results,s=n.length&&n[0]||t;i.filterServers(s),i.$set(i.ecmListData,a,s),s.has_ip&&"1"==s.has_ip&&!s.publicip?setTimeout(function(){i.getEcmDetailData(t.id)},5e3):s.no_time&&"1"==s.no_time&&setTimeout(function(){i.getEcmDetailData(t.id)},5e3)}).catch(function(t){console.log(t),i.refresh()});t.state=r.state,i.filterServers(t)}}),a._.remove(a.jobIds,function(e){return e==t})}else 2==o.jobstatus?(clearTimeout(n),console.log("失败"),a.refresh(),a._.remove(a.jobIds,function(e){return e==t})):n=setTimeout(function(){i.getJobDetail(o.jobid,e)},5e3)}).catch(function(t){console.log(t),a.refresh()})},getEcmDetailData:function(t){var e=this;jt(t).then(function(a){var i=a.data.results,n=i.length&&i[0]||item;!n.has_ip||"1"!=n.has_ip||n.publicip?(n.no_time&&"1"==n.no_time&&setTimeout(function(){e.getEcmDetailData(t)},5e3),e.filterServers(n),e.ecmListData.map(function(t,a){t.id==n.id&&e.$set(e.ecmListData,a,n)})):setTimeout(function(){e.getEcmDetailData(t)},5e3)}).catch(function(t){console.log(t),e.refresh()})},getRegion:function(){var t=void 0;if(F())clearTimeout(t),this.changeRegion();else{var e=this;t=setTimeout(function(){e.getRegion()},300)}},getStarting:function(t,e){this.newEcmName||this.startTimer(t)},startTimer:function(t,e){var a=this;if(!this.detroyAutoRefresh){if(a.newEcmName||(a.newEcmName=t.name),e)return this.newEcmName="",void this.refresh();setTimeout(function(){a.refresh()},6e4)}},getRegionNums:function(){var t=this;Vt({resource:"vm",regionid:F()}).then(function(e){var a=e.data.results[0].VM;console.log(a),a&&a.detail&&(t.regionData=a.detail)})},queryQuotas:function(){var t=this;He().then(function(e){console.log(e.data.results);var a=e.data.returnObj;t.snapshotLimitQuota=a.snapshot_limit?a.snapshot_limit-0:""}).catch(function(t){console.log(t)})}},mounted:function(){this.getRegion();var t=this.$store.state.user.user.quotas;t.snapshot_limit?this.snapshotLimitQuota=t.snapshot_limit-0:this.queryQuotas()},computed:{regionType:function(){var t={value:u.ecm.resetPw,disable:!1,fun:"resetPw",id:"resetPw",state:"ShutAndImg"};return"cs"==this.$store.getters.regionType&&this.PublicOperation.push(t),"os"==this.$store.getters.regionType&&this.PublicOperation.find(function(t){return"resetPw"==t.id})&&this.PublicOperation.splice(-1,1),console.log(this.$store.getters.regionType),this.$store.getters.regionType}},beforeDestroy:function(){console.log("detroy"),this.detroyAutoRefresh=!0}},wa={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"ecmmain"},[e("RegionList",{attrs:{name:this.name,regionData:this.regionData,buttonText:this.buttonText},on:{create:this.create,changeRegion:this.changeRegion}}),this._v(" "),e("div",{staticClass:"content"},[e("div",{staticClass:"content_top"},[e("ConsoleSearch",{attrs:{optionsValue:this.optionsValue,statusOnOff:!0,PublicOperation:this.PublicOperation,disableData:this.changeTableData},on:{searchEvent:this.search,clear:this.clear,PublicOperEvent:this.aciton,refreshEvent:this.refresh}})],1),this._v(" "),e("div",{attrs:{id:"ecmTable"}},[e("ConsoleTable",{ref:"tableChild",attrs:{tableData:this.ecmListData,tableOptions:this.tableOptions,checkBox:!0,operationOrNot:!0,OperationEvents:this.ecmOperation,loading:this.loading,dragable:!0,Pagination:this.Pagination},on:{selectChange:this.selectChange,buttonClick:this.handleClick,changeTable:this.changeTable,pagingEvent:this.pagingChange}})],1)])],1)},staticRenderFns:[]};var Ca=a("VU/8")(ya,wa,!1,function(t){a("cpz5")},"data-v-34e4c71a",null).exports,ka=a("LbiI"),xa=a.n(ka),Da={props:{detail_label:[String],detail_image:[String],show:[Boolean],detailShow:[Boolean],changeName:[Function],detailList:[Array,Object],detailList2:[Array],btnMsg:[Array]},data:function(){return{Numvalue:0,oldName:"",oldDesc:"",shouInput:!1,shouText:!1}},methods:{btnClick:function(t,e,a){this.Numvalue=e,this.$emit("deatilBtnClick",t,a)},ModifyName:function(t){this.oldName=t.intro||"--",this.shouInput=!this.shouInput},cancelChange:function(t){t.intro=this.oldName,this.shouInput=!this.shouInput},submitName:function(t){var e=this;if(console.log(t),t.intro==this.oldName)this.shouInput=!1;else this.changeName(t,"name",function(){e.shouInput=!1})},ModifyDesc:function(t){this.oldDesc=t.intro||"--",this.shouText=!this.shouText},cancelDesc:function(t){t.intro=this.oldDesc,this.shouText=!this.shouText},submitDesc:function(t){var e=this;if(console.log(t),t.intro==this.oldDesc)this.shouText=!1;else this.changeName(t,"desc",function(){e.shouText=!1})}}},Ta={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"detail_content"},[t.show?t._e():a("el-row",[t.detailShow?t._e():a("el-col",{staticClass:"label"},[t._v("\n\t\t\t\t"+t._s(t.detail_label+" 详情")+"\n\t\t\t")]),t._v(" "),t.detailShow?a("el-col",{staticClass:"label"},[t._v("\n\t\t\t\t"+t._s(t.detail_label)+"\n\t\t\t")]):t._e()],1),t._v(" "),a("el-row",{attrs:{gutter:20}},[t.show?t._e():a("el-col",{attrs:{span:6}},[a("div",{staticClass:"msg_bg"},[a("img",{attrs:{src:t.detail_image}})])]),t._v(" "),a("el-col",{attrs:{span:t.show?24:16}},[a("el-row",t._l(t.detailList,function(e,i){return a("el-col",{key:e.name,attrs:{span:i%2?13:11}},[e.hide||e.change||e.changeDesc?t._e():a("div",{staticClass:"detail-col"},[a("span",[t._v(t._s(e.label)+"：")]),t._v(" "),a("span",{attrs:{title:e.intro}},[t._v(t._s(e.intro||"--"))])]),t._v(" "),e.change?a("div",{staticClass:"detail-col detailName"},[a("span",[t._v(t._s(e.label)+"：")]),t._v(" "),t.shouInput?t._e():a("span",[a("span",{staticClass:"detail_name",attrs:{title:e.intro}},[t._v(t._s(e.intro||"--"))]),t._v(" "),e.noChange?t._e():a("span",{staticClass:"btn"},[a("span",{on:{click:function(a){t.ModifyName(e)}}},[a("i",{staticClass:"el-icon-edit"})])])]),t._v(" "),t.shouInput?a("span",{staticClass:"change_name"},[a("el-input",{attrs:{placeholder:"请输入内容"},model:{value:e.intro,callback:function(a){t.$set(e,"intro",a)},expression:"detail.intro"}}),t._v(" "),a("span",{staticStyle:{color:"#e66464","font-size":"17px"},on:{click:function(a){t.cancelChange(e)}}},[a("i",{staticClass:"el-icon-close"})]),t._v(" "),a("span",{staticStyle:{color:"#7ad4c5","font-size":"21px"},on:{click:function(a){t.submitName(e)}}},[a("i",{staticClass:"el-icon-check"})])],1):t._e()]):t._e(),t._v(" "),e.changeDesc?a("div",{staticClass:"detail-col detailName"},[a("span",[t._v(t._s(e.label)+"：")]),t._v(" "),t.shouText?t._e():a("span",[a("span",{staticClass:"detail_name",attrs:{title:e.intro}},[t._v(t._s(e.intro||"--"))]),t._v(" "),e.noChange?t._e():a("span",{staticClass:"btn"},[a("span",{on:{click:function(a){t.ModifyDesc(e)}}},[a("i",{staticClass:"el-icon-edit"})])])]),t._v(" "),t.shouText?a("span",{staticClass:"change_name"},[a("el-input",{attrs:{placeholder:"请输入内容"},model:{value:e.intro,callback:function(a){t.$set(e,"intro",a)},expression:"detail.intro"}}),t._v(" "),a("span",{staticStyle:{color:"#e66464","font-size":"17px"},on:{click:function(a){t.cancelDesc(e)}}},[a("i",{staticClass:"el-icon-close"})]),t._v(" "),a("span",{staticStyle:{color:"#7ad4c5","font-size":"21px"},on:{click:function(a){t.submitDesc(e)}}},[a("i",{staticClass:"el-icon-check"})])],1):t._e()]):t._e()])}))],1),t._v(" "),t.show?t._e():a("el-col",{attrs:{span:2}},[a("div",{staticStyle:{clear:"both"}},[a("div",{staticClass:"eventButton"},t._l(t.btnMsg,function(e,i){return a("div",[a("button",{class:{active:e.disabled,"not-allow":!e.disabled},attrs:{disabled:!e.disabled,title:e.title,plain:""},on:{click:function(a){t.btnClick(e.btnCli,i,e.value)}}},[t._v("\n\t\t\t\t\t\t\t\t"+t._s(e.value)+"\n\t\t\t\t\t\t\t")])])}))])])],1)],1)])},staticRenderFns:[]};var Ia=a("VU/8")(Da,Ta,!1,function(t){a("AKBr"),a("fZic")},"data-v-60d54858",null).exports,Sa={props:{tabOption:[Array,Object]},data:function(){return{activeName:"",fixed:!1,top:""}},methods:{handleClick:function(t,e){this.activeName=t.name,this.$emit("click",t,e)},switchActive:function(t){this.activeName=t.name},scrollTab:function(){(document.documentElement.scrollTop||window.pageYOffset||document.body.scrollTop)>this.top-70?this.fixed=!0:this.fixed=!1}},mounted:function(){this.activeName=this.tabOption[0].name,this.top=this.$refs["detail-button"].$el.offsetTop;window.addEventListener("scroll",this.scrollTab)},beforeDestroy:function(){window.removeEventListener("scroll",this.scrollTab)}},Ea={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"detaiPage",staticClass:"detaiPage"},[a("el-row",{ref:"detail-button",staticClass:"detail-button"},[a("el-row",{class:{isFixed:t.fixed}},t._l(t.tabOption,function(e,i){return a("el-button",{key:e.name,class:{"is-active":t.activeName==e.name},on:{click:function(a){t.handleClick(e,i)}}},[t._v(t._s(e.label))])}))],1),t._v(" "),a("el-row",[t._t("detailMain")],2)],1)},staticRenderFns:[]};var Oa=a("VU/8")(Sa,Ea,!1,function(t){a("Oot4")},"data-v-e508ce3a",null).exports,Fa={props:{btnMsg:[Array]},data:function(){return{Numvalue:0}},methods:{btnClick:function(t,e){this.Numvalue=e,this.$emit("deatilBtnClick",t)}}},La={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-row",{staticClass:"eventButton"},t._l(t.btnMsg,function(e,i){return a("el-col",{key:i,attrs:{span:24/t.btnMsg.length}},[a("button",{class:{active:i==t.Numvalue,"not-allow":e.disabled},attrs:{disabled:e.disabled,plain:""},on:{click:function(a){t.btnClick(e.fun,i)}}},[t._v(t._s(e.value))])])}))},staticRenderFns:[]};var Pa=a("VU/8")(Fa,La,!1,function(t){a("Ko0e")},"data-v-6b656862",null).exports;function Na(t){var e=void 0;return e=t.name?{regionid:F(),zoneid:P(),limit:t.limit||10,page:t.page||1,status:t.status,attached:t.attached,name:t.name,has_disk:t.has_disk}:t.id?{limit:t.limit||10,regionid:F(),page:t.page||1,attached:t.attached,status:t.status,id:t.id,has_disk:t.has_disk}:{regionid:F(),zoneid:P(),limit:t.limit||10,page:t.page||1,status:t.status,attached:t.attached,keyword:t.keyword,has_disk:t.has_disk},Ct({url:"console/ecm/ebs/volumes/",method:"get",params:e})}function $a(t){var e={regionid:F(),id:t};return Ct({url:"console/ecm/ebs/volumes/",method:"get",params:e})}function Ra(t,e){var a={regionid:F(),instance_id:e};return Ct({url:"console/ecm/ebs/volumedetach/"+t+"/",method:"post",data:a})}function za(t,e){var a={regionid:F(),instance_id:e};return Ct({url:"console/ecm/ebs/volumeattach/"+t+"/",method:"post",data:a})}function Aa(t){return t.regionid=F(),Ct({url:"console/ecm/ecs/renew/",method:"post",data:t})}var Ma={props:{type:[String],warn:[Boolean],attachOperation:[Boolean],actionTip:[Array],action:[String],form:[Object]},components:{ConsoleTable:Te,ConsoleSearch:ge},data:function(){return{i18n:u,tableData:{data:[],option:[{prop:"name",label:u.common.name,temp:!0,linkProp:!0},{prop:"status",label:u.common.status,temp:!0,status:!0},{prop:"size",label:u.ebs.capacityGB},{prop:"expire_date",label:u.common.finishAt}]},snapshot:{name:""},filter:{limit:10,status:"",page:1,attached:0,has_disk:1},Pagination:{pagingData:[10,20,50],total:0,show:!1}}},methods:{getEbsList:function(){var t=this;this.loading=!0,Na(this.filter).then(function(e){var a=e.data,i=a.results;console.log(i),t.filterVolume(i),t.tableData.data=i,t.Pagination.total=a.total_count,t.Pagination.total>t.Pagination.pagingData[0]&&(t.Pagination.show=!0),t.loading=!1}).catch(function(e){t.loading=!1,console.log(e)})},filterVolume:function(t){t.map(function(t){"ERROR"==t.state?t.state="ERROR":t.state=t.virtualmachineid?"mount":"uninstall",t.size=t.size/1024/1024/1024})},radioChange:function(t){this.form.rowData=t},pagingChange:function(t,e){"num"==t?this.filter.limit=e:"page"==t&&(this.filter.page=e),this.getEbsList()},validateForm:function(){var t=this;return new rt.a(function(e,a){t.form.rowData?e(t.form):(t.$message({message:"请选择一个磁盘",type:"error"}),a())})}},computed:{typeCom:function(){return this.type||"warn"},fliterData:function(){var t=(new Date).getTime();return this.$set(this.tableData,"date",t),this.tableData}},created:function(){this.getEbsList()}},Va={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"action-content"},[e("el-row",{staticClass:"action-table"},[e("el-col",[e("console-table",{key:this.fliterData.date,attrs:{tableData:this.fliterData.data,operationOrNot:!1,tableOptions:this.fliterData.option,noEffect:!0,radioShow:!0,height:350,loading:this.loading,Pagination:this.Pagination},on:{radioChange:this.radioChange,pagingEvent:this.pagingChange}})],1)],1)],1)},staticRenderFns:[]};var Ba=a("VU/8")(Ma,Va,!1,function(t){a("fyP6")},"data-v-03c38d24",null).exports,ja={props:{serverId:[String],serverData:[Object]},components:{DetailBtn:Pa,ConsoleTable:Te},methods:{attach:function(t){var e=this;if(this.attachNum>0){var a={data:{title:u.ecm.attachVolume},view:Ba,form:{}};this.$alertDialog(a).then(function(t){console.log(t),za(t.rowData.id,e.serverId).then(function(t){e.$message({message:"命令下发成功，请稍后……",type:"warning"});var a=t.data.results;e.autoRefresh(a)}).catch(function(t){console.log(t)})})}else this.$message({message:"一台云主机只能挂载五块数据盘!请卸载一块磁盘后再执行该操作",type:"warning"})},detach:function(t,e){var a=this;console.log(e);var i={data:{actionTip:["确定要卸载磁盘:"+e.name],title:"卸载",warn:!0}};this.$alertDialog(i).then(function(){a.$message({message:"卸载磁盘命令下发成功，请稍后",type:"warning"}),Ra(e.id,a.serverId).then(function(t){console.log(e),a.tableData.map(function(t){t.id==e.id&&a.addOperation(t,"detach")});var i=t.data.results;a.autoRefresh(i)}).catch(function(t){console.log("cuowu1"),console.log(t),a.refresh()})})},getEbsDetailById:function(t){var e=this;this.loading=!0,qt(t).then(function(t){var a=t.data,i=a.results;e.volumeCount=a.total_count||0,e.serverData.volumeDetail=[],e.serverData.volumeDetail=i,console.log(i),e.loading=!1}).catch(function(t){e.loading=!1,console.log(t)})},formate:function(t){var e=this,a=this;t&&t.map(function(t){t.type="DATADISK"==t.type?"数据盘":"系统盘";var i=t.disk_types||t.volume_type;t.disk_types=a.diskType[i]||i;var n=0;"cs"==a.regionType&&(n=t.size),"os"==a.regionType&&(n=t.size),t.size=n+"GB",t.sata=t.sata||"--",t.dev=t.dev||"--",e.addOperation(t)})},addOperation:function(t,e){var a=[];a="Running"==this.serverData.servers.state?[{value:u.ebs.detach,disabled:!0,title:u.ebs.detachTip}]:t.type&&"DATADISK"!=t.type?[{value:u.ebs.detach,disabled:!0,title:u.ebs.rootTip}]:t.with_vm?[{value:u.ebs.detach,disabled:!0,title:u.vpc.withVmTip}]:[{value:u.ebs.detach,disabled:!1}],"detach"==e&&(a=[{value:u.ebs.detach,disabled:!0}]),this.$set(t,"operation",a)},goEbsEetail:function(t,e){console.log(t),console.log(e);var a=e.id;a&&this.$router.push("/ebs/ebsDetail/"+a)},refresh:function(){this.getEbsDetailById(this.serverId)},autoRefresh:function(t){var e=this;t&&("string"==typeof t?this.getJobDetail(t):Array.isArray(t)?t.map(function(t){console.log(t),t.jobid&&e.getJobDetail(t.jobid)}):console.log(t))},getJobDetail:function(t){var e=this,a=this,i=void 0;this.detroyAutoRefresh||kt(t).then(function(t){var n=t.data.results[0];1==n.jobstatus?(e.$message({message:"操作成功",type:"success"}),e.refresh()):2==n.jobstatus?(clearTimeout(i),console.log("失败"),e.$message({message:"操作失败"+n.jobresult.errortext,type:"error"}),e.refresh()):i=setTimeout(function(){a.getJobDetail(n.jobid)},5e3)}).catch(function(t){console.log(t),e.refresh()})},queryQuotas:function(){var t=this;He().then(function(e){console.log(e.data.results);var a=e.data.returnObj;t.volumeLimitCount=a.volume_limit_each_vm?a.volume_limit_each_vm-0:""}).catch(function(t){console.log(t)})}},data:function(){var t=this;return{detroyAutoRefresh:!1,loading:!1,attachNum:"--",volumeCount:"--",volumeLimitCount:"--",diskType:{SATA:"普通IO",SAS:"高IO",SSD:"超高IO"},btnMsg:[{value:"挂载磁盘",disabled:!1,fun:"attach"}],tableOption:[{prop:"name",label:u.common.name,temp:!0,detail:!0,path:"/ebs/ebsDetail"},{prop:"types",label:u.ebs.diskModel},{prop:"disk_types",label:u.ebs.storageType},{prop:"size",label:u.ebs.capacityGB}],OperationEvents:[{value:u.ebs.detach,fun:function(e){return t.detach(e)}}]}},mounted:function(){var t=this.$store.state.user.user.quotas;t.volume_limit_each_vm?this.volumeLimitCount=t.volume_limit_each_vm-0:this.queryQuotas()},computed:{tableData:function(){var t=this.serverData&&this.serverData.volumeDetail;if(t&&"--"!=t&&this.formate(t),"--"==this.volumeLimitCount||"--"==t)this.attachNum="--";else{this.volumeCount=t.length-1,this.volumeCount<0&&(this.volumeCount=0);var e=this.volumeLimitCount-this.volumeCount;this.attachNum=e<0?0:e}return"Starting"==this.serverData.servers.state&&this.btnMsg.map(function(t){t.disabled=!0}),"--"==t?[]:t},regionType:function(){return this.$store.getters.regionType}},destroyed:function(){this.detroyAutoRefresh=!0}},qa={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"detail-content"},[e("el-row",{staticClass:"detail-title"},[this._v("\n\t\t云硬盘\n\t")]),this._v(" "),e("el-row",{staticClass:"detail-top"},[e("el-col",{attrs:{span:20}},[this._v("\n\t\t\t您还可以挂载\n\t\t\t\t"+this._s(this.attachNum)+"\n\t\t\t块磁盘\n\t\t")]),this._v(" "),e("el-col",{attrs:{span:4}},[e("el-row",{attrs:{type:"flex",justify:"end"}},[e("detail-btn",{attrs:{btnMsg:this.btnMsg},on:{deatilBtnClick:this.attach}})],1)],1)],1),this._v(" "),e("el-row",[e("console-table",{attrs:{tableData:this.tableData,tableOptions:this.tableOption,operationOrNot:!0,loading:this.loading,OperationEvents:this.OperationEvents},on:{buttonClick:this.detach}})],1),this._v(" "),e("el-row",{staticClass:"border-style"})],1)},staticRenderFns:[]};var Ua=a("VU/8")(ja,qa,!1,function(t){a("I/VH")},"data-v-80f426f8",null).exports,Ha={props:{cardData:[Array,Object],className:[String],opearationBtn:[Array]},methods:{handleOperation:function(t,e){this.$emit("clickFun",t,e)},remove:function(t){this.$emit("remove",t)}},data:function(){return{showDetail:!0}},computed:{regionType:function(){return this.$store.getters.regionType}}},Wa={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"detail-card"},[a("el-row",[a("div",{staticClass:"detail-card-close",on:{click:function(e){t.remove(t.cardData.id)}}})]),t._v(" "),a("el-row",{staticClass:"detail-card-body"},[a("el-col",{staticClass:"detai-card-img",attrs:{span:4}},[a("svg-icon",{attrs:{"icon-class":t.className}})],1),t._v(" "),"nic"==t.className?a("el-col",{staticClass:"detail-card-ipDetail",attrs:{span:20}},[a("el-row",[t._v("\n\t\t\t\t"+t._s(t.cardData.ipaddress||"--")+"\n\t\t\t")]),t._v(" "),a("el-row",[a("el-col",{attrs:{span:8}},[t._v("\n\t\t\t\t\t状态：激活\n\t\t\t\t")]),t._v(" "),"cs"==t.regionType?a("el-col",{attrs:{span:16}},[t._v("\n\t\t\t\t\tACLList : "+t._s(t.cardData.acllistname||"--")+"\n\t\t\t\t")]):t._e()],1)],1):t._e(),t._v(" "),"sec"==t.className?a("el-col",{staticClass:"detail-card-ipDetail",attrs:{span:20}},[a("el-row",[t._v("\n\t\t\t\t"+t._s(t.cardData.name||"--")+"\n\t\t\t")]),t._v(" "),a("el-row",[a("el-col",{attrs:{span:8}},[t._v("\n\t\t\t\t\t入方向规则："+t._s(t.cardData.ingress&&t.cardData.ingress.length||0)+"\n\t\t\t\t")]),t._v(" "),a("el-col",{attrs:{span:16}},[t._v("\n\t\t\t\t\t出方向规则："+t._s(t.cardData.egress&&t.cardData.egress.length||0)+"\n\t\t\t\t")])],1)],1):t._e()],1),t._v(" "),a("el-row",{staticClass:"detail-card-footer"},[a("el-row",t._l(t.opearationBtn,function(e,i){return a("el-col",{key:i,staticClass:"detail-card-btn",attrs:{span:24/t.opearationBtn.length}},[a("el-button",{attrs:{type:"text"},on:{click:function(a){t.handleOperation(e.fun,t.cardData)}}},[t._v(" \n\t\t\t\t\t"+t._s("showDetail"==e.id&&t.cardData.showDetail?"点击收起":e.value)+"\n\t\t\t\t")])],1)})),t._v(" "),t.cardData.showDetail?a("el-row",[t._t("detailMore")],2):t._e()],1)],1)},staticRenderFns:[]};var Ga=a("VU/8")(Ha,Wa,!1,function(t){a("vZxJ")},"data-v-7b129dd4",null).exports,Qa={props:{detailLabel:[Array],Data:[Object]},data:function(){return{}}},Za={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-row",{staticClass:"detail-more"},t._l(t.detailLabel,function(e,i){return e.hide?t._e():a("el-col",{key:i},[t._v("\n\t\t"+t._s(e.label+"："+(t.Data[e.value]||"--"))+"\n\t")])}))},staticRenderFns:[]};var Ja=a("VU/8")(Qa,Za,!1,function(t){a("ki9m")},"data-v-37fa1f70",null).exports,Ka={props:{serverId:[String],serverData:[Object]},components:{DetailBtn:Pa,DetailCard:Ga,DetailMore:Ja},methods:{addNic:function(){},action:function(t,e){t(e.id)},switchMore:function(t){var e=this;this.nics.map(function(a){if(a.id==t){var i=!a.showDetail;console.log(a),e.$set(a,"showDetail",i)}})},changeAclList:function(t){console.log(t)},eipManager:function(t){console.log(t)},remove:function(t){console.log("remove",t)},getEcmDetailById:function(t){var e=this;jt(t).then(function(t){var a=t.data.results[0].nic;console.log(a),e.getAclName(a),e.getNetWorkDetail(a),e.nics=a}).catch(function(t){console.log(t)})},addLabel:function(){},filterNicsByOs:function(t){t.map(function(t){var e=t.fixed_ips&&t.fixed_ips.length&&t.fixed_ips[0];e&&(t.ipaddress=e.ip_address,Ut(e.subnet_id).then(function(e){var a=e.data.results.length&&e.data.results[0];a&&(t.network=a.name+"("+a.cidr+")")}).then(function(t){console.log(t)})),t.macaddress=t.mac_addr})},getAclName:function(t){var e=this;t.map(function(t){var a,i;(a=t.networkid,i={regionid:F(),networkid:a},Ct({url:"console/network/securitygroups/",method:"get",params:i})).then(function(a){console.log(a);var i=a.data.results[0];e.$set(t,"acllistname",i.name)}).catch(function(t){console.log(t)})})},getNetWorkDetail:function(t){t.map(function(t,e){Ut(t.networkid).then(function(e){var a=e.data.results[0];t.network=a.name+"("+a.cidr+")"}).catch(function(t){console.log(t)})})}},data:function(){var t=this;return{addNicNum:0,quotaShow:!1,btnMsg:[{value:"添加网卡",fun:"addNic"}],nics:[],opearationBtn:[{value:"查看更多详情",id:"showDetail",fun:function(e){return t.switchMore(e)}}],nicLabel:[{label:"网卡ID",value:"id"},{label:"源/目的检查",hide:!0},{label:"子网",value:"network"},{label:"MAC地址",value:"macaddress"},{label:"子网掩码",value:"netmask"},{label:"VLAN1",value:"",hide:!0}]}},computed:{regionType:function(){var t=this.$store.getters.regionType;return"os"==t&&this.nicLabel.map(function(t){"netmask"==t.value&&(t.hide=!0)}),t}},created:function(){var t=this.serverData.nics;console.log(t),"os"==this.regionType&&(this.filterNicsByOs(t),console.log(t),this.nics=t),"cs"==this.regionType&&(this.getAclName(t),this.getNetWorkDetail(t))}},Ya={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"detail-content"},[a("el-row",{staticClass:"detail-title"},[t._v("\n\t\t网卡\n\t")]),t._v(" "),t.quotaShow?a("el-row",{staticClass:"detail-top"},[a("el-col",{attrs:{span:20}},[t._v("\n\t\t\t您还可以添加 \n\t\t\t\t"+t._s(t.addNicNum)+"\n\t\t\t块网卡\n\t\t")])],1):t._e(),t._v(" "),a("el-row",{staticClass:"detail-nic"},t._l(t.nics,function(e){return a("el-col",{key:e.id,attrs:{span:8}},[a("detail-card",{attrs:{cardData:e,className:"nic",opearationBtn:t.opearationBtn},on:{clickFun:t.action,remove:t.remove}},[a("div",{attrs:{slot:"detailMore"},slot:"detailMore"},[a("detail-more",{attrs:{detailLabel:t.nicLabel,Data:e}})],1)])],1)})),t._v(" "),a("el-row",{staticClass:"border-style"})],1)},staticRenderFns:[]};var Xa=a("VU/8")(Ka,Ya,!1,function(t){a("UEnB")},"data-v-2e98b019",null).exports,ti=a("RRo+"),ei=a.n(ti),ai={props:{actionTip:[String],form:[Object],tableData:[Object]},components:{ConsoleTable:Te},data:function(){var t=this,e=function(t,e,a){ei()(e)?e<1?a(new Error("端口范围在 1 到 65535 之间")):e>65535?a(new Error("端口范围在 1 到 65535 之间")):a():a(new Error("端口值必须为数字值"))};return{ruleForm:{EcmName:"",publicport:"",publicendport:"",privateport:"",privateendport:"",protocol:"TCP"},elbForm:{elbName:"",subnet:""},rules:{publicport:[{required:!0,message:"请输入端口范围",trigger:"blur"},{validator:e,trigger:"blur"}],publicendport:[{required:!0,message:"请输入端口范围",trigger:"blur"},{validator:e,trigger:"blur"},{validator:function(e,a,i){t.ruleForm.publicport&&(a<t.ruleForm.publicport?i(new Error("端口下限应小于等于端口上限")):i())},trigger:"blur"}],privateport:[{required:!0,message:"请输入端口范围",trigger:"blur"},{validator:e,trigger:"blur"}],privateendport:[{required:!0,message:"请输入端口范围",trigger:"blur"},{validator:e,trigger:"blur"},{validator:function(e,a,i){t.ruleForm.privateport&&(a<t.ruleForm.privateport?i(new Error("端口下限应小于等于端口上限")):i())},trigger:"blur"}]},elbRules:{elbName:[{required:!0,message:"请输入负载均衡名称",trigger:"blur"},{min:1,max:65,message:"长度范围在 1 到 65之间",trigger:"blur"}],subnet:[{required:!0,message:"请输入子网信息",trigger:"blur"},{min:1,max:65,message:"端口范围在 1 到 65 之间",trigger:"blur"}]},agree:[{num:"TCP"},{num:"UDP"}],Pagination:{pagingData:[10,20,50],total:0,show:!1},filter:{satus:"",limit:10,page:1,name:"",id:"",attached:0,vpcid:""},eipListData:[]}},methods:{radioChange:function(t){console.log(t),this.form.data=t},getEipList:function(){var t=this,e=this.filter;console.log(this.tableData),this.filter.vpcid=this.tableData.vpcid,this.loading=!0,Re(e).then(function(e){var a=e.data.total_count,i=e.data.results,n=t.filterServers(i);t.eipListData=n,t.totalCount=a,t.Pagination.total=a,a>t.Pagination.pagingData[0]&&(t.Pagination.show=!0),t.loading=!1}).catch(function(e){"CancelToken"==e.message||(t.loading=!1),console.log(e)})},filterServers:function(t){return console.log("123ed"),t.filter(function(t){return t.state=t.resource_type?t.resource_type:"unbinding",t.status=t.state?_e(t.state):"--",t.virtualmachinename=t.virtualmachinename?t.virtualmachinename:"--",!t.with_vm})},pagingChange:function(t,e){"num"==t?this.filter.limit=e:"page"==t&&(this.filter.page=e),this.getEcmList()},validateForm:function(){return this.tableData.vpcName?(this.form.rule=this.ruleForm,this.$refs.ruleForm.validate()):this.form.data?this.tableData.port?(this.form.rule=this.ruleForm,this.$refs.ruleForm.validate()):this.tableData.elb?(this.form.data=this.ruleForm,this.$refs.elbForm.validate()):new rt.a(function(t,e){t()}):(this.$message({message:"请选择一台要绑定的云服务器",type:"error"}),new rt.a(function(t,e){e()}))}},computed:{fliterData:function(){return this.tableData}},mounted:function(){this.getEipList(this.filter)}},ii={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"EipBind"},[t.fliterData.elb?t._e():a("el-row",{staticClass:"action-tip"},[t._v("\n\t\t\t"+t._s(t.actionTip)+"\n\t\t")]),t._v(" "),t.fliterData.elb||t.fliterData.table?t._e():a("el-row",[a("el-col",[a("console-table",{key:t.fliterData.date,attrs:{tableData:t.eipListData,operationOrNot:!1,tableOptions:t.fliterData.option,noEffect:!0,height:350,eipRadioShow:!0,Pagination:t.Pagination},on:{radioChange:t.radioChange,pagingEvent:t.pagingChange}})],1)],1),t._v(" "),t.fliterData.port?a("el-row",[a("el-row",[a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:t.ruleForm,rules:t.rules,"label-width":"100px",size:"small"}},[a("el-row",[t.fliterData.table?a("el-form-item",{attrs:{label:"云服务器：",prop:"EcmName",required:""}},[a("el-input",{staticStyle:{width:"180px"},attrs:{disabled:"disabled"},model:{value:t.ruleForm.EcmName,callback:function(e){t.$set(t.ruleForm,"EcmName",e)},expression:"ruleForm.EcmName"}})],1):t._e(),t._v(" "),a("el-form-item",{staticClass:"port",attrs:{label:"公网端口",required:""}},[a("el-col",{attrs:{span:4}},[a("el-form-item",{attrs:{prop:"publicport"}},[a("el-input",{model:{value:t.ruleForm.publicport,callback:function(e){t.$set(t.ruleForm,"publicport",t._n(e))},expression:"ruleForm.publicport"}})],1)],1),t._v(" "),a("el-col",{staticClass:"line",attrs:{span:2}},[t._v("-")]),t._v(" "),a("el-col",{attrs:{span:11}},[a("el-form-item",{attrs:{prop:"publicendport"}},[a("el-input",{model:{value:t.ruleForm.publicendport,callback:function(e){t.$set(t.ruleForm,"publicendport",t._n(e))},expression:"ruleForm.publicendport"}})],1)],1)],1)],1),t._v(" "),a("el-row",[a("el-form-item",{staticClass:"port",attrs:{label:"私网端口",required:""}},[a("el-col",{attrs:{span:4}},[a("el-form-item",{attrs:{prop:"privateport"}},[a("el-input",{model:{value:t.ruleForm.privateport,callback:function(e){t.$set(t.ruleForm,"privateport",t._n(e))},expression:"ruleForm.privateport"}})],1)],1),t._v(" "),a("el-col",{staticClass:"line",attrs:{span:2}},[t._v("-")]),t._v(" "),a("el-col",{attrs:{span:11}},[a("el-form-item",{attrs:{prop:"privateendport"}},[a("el-input",{model:{value:t.ruleForm.privateendport,callback:function(e){t.$set(t.ruleForm,"privateendport",t._n(e))},expression:"ruleForm.privateendport"}})],1)],1)],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"协议 :",prop:"agreement"}},[a("el-select",{model:{value:t.ruleForm.protocol,callback:function(e){t.$set(t.ruleForm,"protocol",e)},expression:"ruleForm.protocol"}},t._l(t.agree,function(t){return a("el-option",{key:t.num,attrs:{label:t.num,value:t.num}})}))],1)],1)],1)],1):t._e(),t._v(" "),t.fliterData.elb?a("el-row",[a("el-form",{ref:"elbForm",staticClass:"elb-ruleForm",attrs:{model:t.elbForm,rules:t.elbRules,"label-width":"140px",size:"small"}},[a("el-form-item",{attrs:{label:"负载均衡名称：",prop:"elbName"}},[a("el-input",{attrs:{placeholder:"请输入负载均衡名称"},model:{value:t.elbForm.elbName,callback:function(e){t.$set(t.elbForm,"elbName",e)},expression:"elbForm.elbName"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"子网信息：",prop:"subnet"}},[a("el-input",{attrs:{placeholder:"子网1/负载均衡子网"},model:{value:t.elbForm.subnet,callback:function(e){t.$set(t.elbForm,"subnet",e)},expression:"elbForm.subnet"}})],1)],1)],1):t._e()],1)},staticRenderFns:[]};var ni=a("VU/8")(ai,ii,!1,function(t){a("vH9T")},null,null).exports,si={props:{serverId:[String],serverData:[Object,Array]},components:{DetailBtn:Pa,ConsoleTable:Te},methods:{action:function(t,e){t()},filterType:function(t){var e=this;t.length&&t.map(function(t){t.resourceType=_e(t.resource_type)||"--",t.isShared=t.isShare?"共享":"独享",e.addOperation(t)})},addOperation:function(t){var e=this,a=[];a=t.with_vm?[{value:"解绑",disabled:!0,title:u.vpc.withVmTip,fun:function(t){return e.ubbind(t)}}]:[{value:"解绑",disabled:!1,fun:function(t){return e.ubbind(t)}}],this.$set(t,"operation",a)},getEipById:function(t){var e=this,a={id:t};this.loading=!0,te(a).then(function(t){console.log(t);var a=t.data.results;e.filterType(a),e.eipList=a,e.loading=!1}).catch(function(t){e.loading=!1,console.log(t)})},ubbind:function(t){var e=this;this.$alertDialog({data:{actionTip:["您确定要解绑弹性公网IP吗"],title:"解绑",warn:!0}}).then(function(){var a,i;e.$message({message:"正在解绑弹性公网IP，请稍后",type:"warning"}),(a=t.id,i={regionid:F()},Ct({url:"console/network/eip/eipbind/"+a+"/",method:"delete",data:i})).then(function(t){console.log(t),e.$message({message:"解绑成功",type:"success"}),e.serverData.servers.publicipid="",e.refresh()}).then(function(t){console.log(t),e.refresh()})}),console.log(t)},buttonClick:function(t,e){t(e)},detailClick:function(t){},lookEip:function(){this.$router.push("/vpc/eip/eipList")},bindEip:function(){var t=this;if(console.log("调用绑定"),this.serverData.servers.publicipid)this.$message({type:"error",message:"请先解绑弹性公网IP再进行此操作"});else{var e={data:{option:[{prop:"ipaddress",label:u.ecm.ipaddress},{prop:"status",label:u.common.status,temp:!0,status:!0},{prop:"virtualmachinename",label:u.vpc.instanceName,detail:!0,noEffect:!0}],title:"一对一映射",actionTip:u.ecm.bindingTip,data:"",vpcid:this.serverData.servers.vpcId},view:ni,form:{}};this.$alertDialog(e).then(function(e){console.log(t.eipDetailData),console.log(e.data.id),console.log("ffff");var a=t.serverId,i=e.data.id;qe(a,i).then(function(e){console.log(e),t.$message({message:"命令下发成功",type:"success"}),console.log("successeip"),t.serverData.servers.publicipid=i,t.refresh()}).catch(function(e){console.log(e),t.$message({message:"命令下发失败",type:"error"})})})}},refresh:function(){this.serverData.servers.publicipid?this.getEipById(this.serverData.servers.publicipid):this.eipList=[]}},data:function(){var t=this;return{msg:"弹性公网IP详情",eipList:[],loading:!1,tableOptions:[{prop:"ipaddress",label:"弹性公网IP"},{prop:"vmipaddress",label:"已绑定内网IP"}],detilOptions:[{prop:"ipaddress",label:"弹性公网IP"},{prop:"vpcname",label:"虚拟私有云"},{prop:"resourceType",label:"状态"},{prop:"isShared",label:"宽带类型"},{prop:"vmipaddress",label:"已绑定内网IP"},{prop:"networkrate",label:"宽带大小"},{prop:"id",label:"ID"},{prop:"created_at",label:"创建时间"}],eipOperation:[{value:"解绑",fun:function(e){return t.ubbind(e)}}],btnMsg:[{value:"绑定弹性公网IP",disabled:!1,fun:function(){return t.bindEip()}},{value:"查看弹性公网IP",disabled:!1,fun:function(){return t.lookEip()}}]}},created:function(){this.refresh(),"Starting"==this.serverData.servers.state&&this.btnMsg.map(function(t){"绑定弹性公网IP"==t.value&&(t.disabled=!0)})}},oi={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"detail-content"},[e("el-row",{staticClass:"detail-top"},[e("el-col",{attrs:{span:15}},[this._v("\n\t\t\t弹性公网IP\n\t\t")]),this._v(" "),e("el-col",{attrs:{span:9}},[e("el-row",{attrs:{type:"flex",justify:"end"}},[e("detail-btn",{attrs:{btnMsg:this.btnMsg},on:{deatilBtnClick:this.action}})],1)],1)],1),this._v(" "),e("el-row",[e("ConsoleTable",{attrs:{loading:this.loading,expand:!0,operationOrNot:!0,selectOrNot:!0,tableData:this.eipList,tableOptions:this.tableOptions,detilOptions:this.detilOptions,noEffect:!0,OperationEvents:this.eipOperation},on:{buttonClick:this.buttonClick,detailClick:this.detailClick}})],1)],1)},staticRenderFns:[]};var ri=a("VU/8")(si,oi,!1,function(t){a("dtrc")},"data-v-5365470a",null).exports,li={components:{DetailCard:Ga,DetailMore:Ja},props:{serverId:[String]},data:function(){var t=this;return{quotaShow:!1,secs:[],secLabel:[{label:"VLAN1",value:"",hide:!0}],opearationBtn:[{value:"查看更多详情",id:"showDetail",fun:function(e){return t.switchMore(e)}}]}},methods:{getEcmSecByOs:function(t){var e,a,i=this;(e=t,a={regionid:F(),zoneid:P()},Ct({url:"console/ecm/ecs/servers/"+e+"/os-security-groups/",method:"get",params:a})).then(function(t){var e=t.data.results;i.filterSecs(e),i.secs=e}).catch(function(t){console.log(t)})},remove:function(){},action:function(t,e){t(e.id)},switchMore:function(t){var e=this;this.secs.map(function(a){if(a.id==t){var i=!a.showDetail;console.log(a),e.$set(a,"showDetail",i)}})},filterSecs:function(t){t&&t.length&&t.map(function(t){var e=t.security_group_rules,a=e.filter(function(t){return"ingress"==t.direction}),i=e.filter(function(t){return"egress"==t.direction});t.ingress=a,t.egress=i})}},computed:{},created:function(){this.getEcmSecByOs(this.serverId)},destroyed:function(){}},ci={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"detail-content"},[a("el-row",{staticClass:"detail-title"},[t._v("\n\t\t安全组\n\t")]),t._v(" "),t.quotaShow?a("el-row",{staticClass:"detail-top"},[a("el-col",{attrs:{span:20}},[t._v("\n\t\t\t您还可以添加 \n\t\t\t\t"+t._s(t.addNicNum)+"\n\t\t\t个安全组\n\t\t")])],1):t._e(),t._v(" "),a("el-row",{staticClass:"detail-nic"},t._l(t.secs,function(e){return a("el-col",{key:e.id,attrs:{span:8}},[a("detail-card",{attrs:{cardData:e,className:"sec",opearationBtn:t.opearationBtn},on:{clickFun:t.action,remove:t.remove}},[a("div",{attrs:{slot:"detailMore"},slot:"detailMore"},[a("detail-more",{attrs:{detailLabel:t.secLabel,Data:e}})],1)])],1)})),t._v(" "),a("el-row",{staticClass:"border-style"})],1)},staticRenderFns:[]};var ui={components:{ConsoleDetail:Ia,DetailPage:Oa,ecmDetailVolume:Ua,ecmDetailNic:Xa,ecmDetailEip:ri,ecmDetailSec:a("VU/8")(li,ci,!1,function(t){a("bhfg")},"data-v-2fcdc427",null).exports},methods:{action:function(t,e){var a=this,i={data:{actionTip:["确认要对当前主机进行"+e+"操作吗"],title:e,warn:!0}},n=this.serverData.servers,s=n.state||n.status;if(["Starting","Stopping","Restarting"].includes(s)){this.$message({message:{Starting:"开机中",Stopping:"关机中",Restarting:"重启中"}[s]+",请稍后再进行此操作",type:"error"})}else"start"==t&&["Running","ACTIVE"].includes(s)?this.$message({message:"请先关闭云服务器再进行此操作",type:"error"}):(console.log(t),"stop"!=t&&"reboot"!=t&&"loginVnc"!=t||!["Stopped","SHUTOFF"].includes(s)?this.$alertDialog(i).then(function(){var i={servers:[a.serverId],action:t};if(console.log(t),"loginVnc"==t){var n=window.open();ee(a.serverId).then(function(t){console.log(t);var e=t.data.results,i=a._.head(e).vnc_url||"";n.location.href=i}).catch(function(t){console.log(t),n.close()})}else Ht(i.servers,i).then(function(i){a.$message({message:"正在进行"+e+"，请稍后",type:"warning"}),a.getEcmDetail(a.serverId,t)}).catch(function(t){console.log(t)})}):this.$message({message:"请先对云服务器开机再进行此操作",type:"error"}))},getEcmDetail:function(t,e){var a=this;jt(t).then(function(t){var i=t.data.results[0];a.filterServer(i,e),i.jobid&&a.autoRefresh(i.jobid),a.detailLabel=i.name,a.serverData.servers=i,i.nic&&(a.serverData.nics=i.nic)}).catch(function(t){console.log(t)})},filterServer:function(t,e){var a,i=this,n=this.detailList,s=void 0,o=void 0;if(a=t.metadata,"cs"==this.regionType&&(s=t.cpunumber+" CPU  * "+t.memory/1024+"G",o=t.nic?t.nic.length+" 个":"--","reboot"==e&&(t.state="Restarting")),"os"==this.regionType){var r=t.flavor;s=r?r.vcpus+"核 | "+r.ram/1024+"G":"--"}t.flavorDetail=s,t.nicsNum=o,t.expired=ke(t.expire_date),t.expire_date=Ce(t.expire_date),t.created=t.created&&"--"!=t.created?Ce(t.created):t.created_at&&"--"!=t.created_at?Ce(t.created_at):"--",t.vpc=a&&a.vpcname||"--",t.metadata&&t.metadata.fake_vpc&&1==t.metadata.fake_vpc&&("fake_vpc"!=t.metadata.vpcname&&"fake_vpc"!=t.metadata.vpc_name||(t.vpc="默认网络")),t.vpcId=a&&a.vpcid||"--",t.ims=a&&a.image_name||"--",t.system=a&&a.ostypename||"--",t.stateTxt=_e(t.state||t.status),n.map(function(e){"diskNum"!=e.name&&("os"==i.regionType&&"nicsNum"==e.name||(e.intro=t[e.name]))}),"Running"==t.state?this.btnFun.map(function(t){"RunState"==t.state?t.disabled=!0:t.disabled=!1}):"Starting"==t.state?this.btnFun.map(function(t){t.disabled=!1}):this.btnFun.map(function(t){"ShutState"==t.state?t.disabled=!0:t.disabled=!1})},getebsDetailById:function(t){var e=this,a=this.detailList;qt(t).then(function(t){var i=t.data.results,n=t.data.total_count;a.map(function(t){"diskNum"==t.name&&(t.intro=n+" 个")}),e.serverData.volumeDetail=[],e.serverData.volumeDetail=i}).catch(function(t){console.log(t)})},getNicsDetailById:function(t){var e,a,i=this;(e=t,a={regionid:F(),zoneid:P(),action:"get_server_interfaces",instance_uuid:e},Ct({url:"console/api/instances/action/",method:"post",data:a})).then(function(t){var e=t.data.results,a=t.data.total_count;i.serverData.nics=e,i.detailList.map(function(t){"nicsNum"==t.name&&(t.intro=a)})}).catch(function(t){console.log(t)})},switchTab:function(t,e){if(console.log(t),e)if(this.detailMore(),this.loadAfter&&this.$refs[t.name]){var a=this.$refs[t.name][0].$el.offsetTop;window.scrollTo(0,a)}else{var i=this;setTimeout(function(){var e=i.$refs[t.name][0].$el.offsetTop;window.scrollTo(0,e)},1e3)}else{var n=this.$refs[t.name][0].$el.offsetTop;window.scrollTo(0,n)}},dropDownLoad:function(){this.detailMore(),this.loadAfter&&this.tabActive()},hanScroll:function(){It()&&this.detailMore(),this.loadAfter&&this.tabActive()},tabActive:function(){var t=document.documentElement.scrollTop||window.pageYOffset||document.body.scrollTop,e=Dt(),a=Tt(),i=void 0;if(e==a)i=0;else{var n=(e-a)/this.tabOption.length;(i=Math.floor(t/n))>=this.tabOption.length&&(i=this.tabOption.length-1)}this.$refs.detaiPage.switchActive(this.tabOption[i])},detailMore:function(){this.loadAfter=!0},autoRefresh:function(t){var e=this;t&&("string"==typeof t?this.getJobDetail(t):Array.isArray(t)?t.map(function(t){console.log(t),t.jobid&&e.getJobDetail(t.jobid)}):console.log(t))},getJobDetail:function(t){var e=this,a=this;this.detroyAutoRefresh||kt(t).then(function(t){var i=t.data.results[0];if(1==i.jobstatus){var n=i.jobresult.virtualmachine;e.serverData.servers.state=n.state,e.filterServer(e.serverData.servers),e.$message({type:"success",message:"操作成功！"}),console.log(n)}else 2==i.jobstatus?(clearTimeout(timer),console.log("失败"),e.getEcmDetail(e.serverId)):setTimeout(function(){a.getJobDetail(i.jobid)},5e3)}).catch(function(t){console.log(t),e.getEcmDetail(e.serverId)})}},computed:{btnFun2:function(){return this.serverData.servers.expired?(1==N()||this.btnFun.splice(3,1),this.btnFun.map(function(t){t.disabled=!0}),this.btnFun):1==N()?this.btnFun:(this.btnFun.splice(3,1),this.btnFun)},regionType:function(){var t=this.$store.getters.regionType;if("os"==t){this.getNicsDetailById(this.$route.params.serverId);this.tabOption.splice(2,0,{label:"安全组",name:"ecmDetailSec",view:""})}return t}},data:function(){return{detroyAutoRefresh:!1,detailImg:xa.a,detailLabel:"",diskCount:0,currentView:"ecmDetailVolume",serverId:"",loadAfter:!1,serverData:{servers:{},nics:[],volumeDetail:"--"},btnFun:[{value:"开机",disabled:!1,btnCli:"start",state:"ShutState"},{value:"关机",disabled:!1,btnCli:"stop",state:"RunState"},{value:"重启",disabled:!1,btnCli:"reboot",state:"RunState"},{value:"远程登录",disabled:!1,btnCli:"loginVnc",state:"RunState"}],detailList:[{name:"name",label:"名称",intro:"--"},{name:"vpc",label:"虚拟私有云",intro:"--"},{name:"stateTxt",label:"状态",intro:"--"},{name:"ims",label:"镜像",intro:"--"},{name:"id",label:"ID",intro:"--",title:!0},{name:"nicsNum",label:"网卡",intro:"0"},{name:"diskNum",label:"磁盘",intro:0},{name:"system",label:"操作系统",intro:"--"},{name:"created",label:"创建时间",intro:"--"},{name:"flavorDetail",label:"主机配置",intro:"--"},{name:"expire_date",label:"到期时间",intro:"--"}],tabOption:[{label:"云硬盘",name:"ecmDetailVolume",view:""},{label:"网卡",name:"ecmDetailNic",view:""},{label:"弹性公网IP",name:"ecmDetailEip",view:""}]}},created:function(){this.getEcmDetail(this.$route.params.serverId),this.getebsDetailById(this.$route.params.serverId),this.serverId=this.$route.params.serverId,document.addEventListener&&document.addEventListener("DOMMouseScroll",this.hanScroll,!1),window.onmousewheel=document.onmousewheel=this.hanScroll},destroyed:function(){this.detroyAutoRefresh=!0,document.removeEventListener&&document.removeEventListener("DOMMouseScroll",this.hanScroll,!1),window.onmousewheel=document.onmousewheel=!1}},di={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("console-detail",{attrs:{detailList:t.detailList,detail_image:t.detailImg,detail_label:t.detailLabel,btnMsg:t.btnFun2},on:{deatilBtnClick:t.action}}),t._v(" "),a("detail-page",{ref:"detaiPage",attrs:{tabOption:t.tabOption},on:{click:t.switchTab}},[a("div",{attrs:{slot:"detailMain"},slot:"detailMain"},[a("div",{staticClass:"detail-main"},[t._l(t.tabOption.slice(0,1),function(e){return a(e.name,{key:e.name,ref:e.name,refInFor:!0,tag:"component",attrs:{serverId:t.serverId,serverData:t.serverData}})}),t._v(" "),t._l(t.tabOption.slice(1),function(e){return t.loadAfter?a(e.name,{key:e.name,ref:e.name,refInFor:!0,tag:"component",attrs:{serverId:t.serverId,serverData:t.serverData}}):t._e()}),t._v(" "),t.loadAfter?t._e():a("div",{staticClass:"detail-more-btn"},[a("el-button",{attrs:{type:"text"},on:{click:t.dropDownLoad}},[t._v("下拉加载更多选项")])],1)],2)])])],1)},staticRenderFns:[]};var pi=a("VU/8")(ui,di,!1,function(t){a("gDSR")},"data-v-7f0b303f",null).exports,mi={props:{tableData:[Object,Array]},data:function(){return{checked:!0}},computed:{changeRowSty:function(t,e){return{background:"#f0f2f7"}},changethSty:function(t,e){return{background:"#f0f2f7",color:"#333333","font-size":"12px","font-weight":"600"}}},methods:{}},hi={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-table",{ref:"multipleTable",staticClass:"confirm",staticStyle:{width:"100%"},attrs:{data:t.tableData.elseData,"tooltip-effect":"dark",headerCellClassName:"tableHeaderbg","header-row-style":t.changeRowSty,"header-cell-style":t.changethSty}},[a("el-table-column",{attrs:{label:"产品名称"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.system_type))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"配置","min-width":"220"},scopedSlots:t._u([{key:"default",fn:function(e){return t._l(e.row.confirmData,function(e,i){return a("div",{staticClass:"mt5"},[e.label&&!e.show?a("span",{staticClass:"label_title"},[t._v(t._s(e.label)+":")]):t._e(),t._v(" "),e.label&&!e.show?a("span",{staticClass:"value",domProps:{innerHTML:t._s(e.value)}}):t._e()])})}}])}),t._v(" "),t._l(t.tableData.tableOptions,function(t,e){return a("el-table-column",{key:e,attrs:{prop:t.prop,label:t.label,width:t.width}})})],2)},staticRenderFns:[]};var fi=a("VU/8")(mi,hi,!1,function(t){a("WMDj"),a("LWak")},"data-v-7b176b8b",null).exports,vi={props:{creataWay:[Boolean],orderWay:[Boolean],system_type:[String],system_name:[String],params:[Object],return_url:{type:String,default:"--"},order_number:{type:String,default:"--"},second_number:{type:Number,default:5}},data:function(){return{new_second_number:5}},methods:{returnUrl:function(){this.params?this.$router.push({path:this.return_url,query:this.params}):this.$router.push({path:this.return_url})},timerOut:function(){var t=this;this.timer=setTimeout(function(){1===t.new_second_number?t.returnUrl():(t.new_second_number--,t.timerOut())},1e3)}},mounted:function(){this.timer&&clearTimeout(this.timer),this.new_second_number=this.second_number,this.timerOut()}},gi={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"success_component"},[t._m(0),t._v(" "),a("div",{staticStyle:{display:"inline-block"}},[t.creataWay?t._e():a("div",{staticClass:"create_state"},[t._v("创建"+t._s(t.system_type)+"“"+t._s(t.system_name)+"”"),a("span",{staticClass:"create_state"},[t._v("提交成功")])]),t._v(" "),t.creataWay?a("div",{staticClass:"create_state"},[t._v("创建"+t._s(t.system_type)),a("span",{staticClass:"create_state"},[t._v("提交成功")])]):t._e(),t._v(" "),t.orderWay?t._e():a("div",[a("span",[t._v("订单编号：")]),t._v(" "),a("span",[t._v(t._s(t.order_number))])]),t._v(" "),a("div",{staticClass:"reback_msg"},[t._v("页面将于"+t._s(t.new_second_number)+"秒内返回"),a("span",{staticClass:"timer"},[t._v(t._s(t.new_second_number))])]),t._v(" "),a("div",{staticClass:"return_btn"},[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(e){e.stopPropagation(),t.returnUrl(e)}}},[t._v("返回")])],1)])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"success_icon"},[e("i",{staticClass:"el-icon-circle-check"})])}]};var bi=a("VU/8")(vi,gi,!1,function(t){a("xjlC")},"data-v-437b511a",null).exports,_i={components:{ConsoleConfirm:fi,ConsoleSuccess:bi},props:{orderInfo:{type:Object,default:{}},orderData:{type:Object,default:{}},isShowCreateInfoP:{type:Boolean,default:!0},orderNumberP:{type:String,default:"--"}},data:function(){return{checked:!1,isShowCreateInfo:!0,returnUrl:"/ecm/ecmList",orderNumber:"--",name:"弹性云服务器",tableData:{system_name:this.orderData.vmName,elseData:[],tableOptions:[{prop:"resources",label:"资源中心"},{prop:"length",label:u.ebs.length},{prop:"num",label:u.ebs.Number}]}}},methods:{cancel:function(){this.$emit("backBuyEcm")},confirmOrder:function(){var t=this,e=this.$loading({lock:!0,text:"拼命创建中",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});Xt(this.orderData).then(function(a){e.close(),console.log(a),200==a.data.code?(t.orderNumber=a.data.returnObj.so_number,t.isShowCreateInfo=!t.isShowCreateInfo):t.$message({showClose:!0,message:a.data.reason||a.data.msg,type:"error"})},function(t){e.close(),console.log("error")})}},mounted:function(){var t="",e=this,a=[],i={};this.orderData.disks.map(function(t,n){if(!i[t.size+t.type]){var s={};e.orderData.disks.map(function(e,a){t.size==e.size&&t.type==e.type&&n!==a?s.num++:s.size||(s.size=t.size,s.type=t.type,s.num=1)}),i[t.size+t.type]=s,a.push(s)}}),a.map(function(e,a){e.num>1?t+=e.size+"GB*"+e.num+"("+we(e.type)+")<br />":t+=e.size+"GB("+we(e.type)+")<br />"}),console.log(a),console.log(this.orderData);var n=void 0,s=!1;this.orderData.bandwidth?(n=this.orderData.bandwidth+"Mbit/s",s=!1):this.orderData.existingIp?(n=this.orderInfo.eipName,s=!1):s=!0,this.tableData.elseData.push({resources:this.orderInfo.resourcesName,length:this.orderInfo.cycleCntValue,num:this.orderData.orderNum,total:"￥0.00",system_type:"云服务器",confirmData:[{label:"CPU",value:this.orderData.cpu+"核"},{label:"内存",value:this.orderData.mem+"GB"},{label:"镜像",value:this.orderInfo.osDatas},{label:"系统盘",value:this.orderData.syshd+"GB"},{label:"数据盘",value:t},{label:"弹性ip",show:s,value:n},{label:"vpc",value:this.orderInfo.vpcName},{label:"主网卡",value:this.orderInfo.vpcNet},{label:"操作系统",value:this.orderData.osType+"/64位"}]}),this.isShowCreateInfo=this.isShowCreateInfoP,this.orderNumber=this.orderNumberP}},yi={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"create_after"},[a("h4",[t._v("订购云服务器")]),t._v(" "),t.isShowCreateInfo?a("div",{staticClass:"confirm_title"},[a("div",{staticStyle:{margin:"20px 0","font-size":"12px",color:"#333"}},[t._v("资源详情")]),t._v(" "),a("ConsoleConfirm",{attrs:{tableData:t.tableData}}),t._v(" "),a("p",{staticClass:"orderTip"},[t._v("郑重提示：对云服务器的使用请遵循国家相关法律之规定，对于违反相关法律的行为，服务商将关闭服务器，并视情况决定是否关闭用户帐号，停止所有服务器，不退余款，弹性公网IP不支持降级操作，购买时请慎重选择。")]),t._v(" "),a("div",{staticClass:"agreementContent"},[a("el-checkbox",{staticClass:"checkedTip",model:{value:t.checked,callback:function(e){t.checked=e},expression:"checked"}},[t._v("我已阅读并同意相关协议")]),t._v(" "),a("a",{staticClass:"agreement",attrs:{href:"http://www.ctyun.cn/term/ecs",target:"_blank"}},[t._v("《天翼云弹性云服务器服务器等级协议》")]),t._v(" "),a("span",[t._v("和")]),t._v(" "),a("a",{staticClass:"agreement",attrs:{href:"http://www.ctyun.cn/product/agreement_mirror",target:"_blank"}},[t._v("《天翼云系统镜像服务免责声明》")])],1)],1):t._e(),t._v(" "),t.isShowCreateInfo?a("div",[a("el-button",{attrs:{type:"info"},on:{click:function(e){e.stopPropagation(),t.cancel(e)}}},[t._v("上一步")]),t._v(" "),a("el-button",{staticClass:"orderBtn",attrs:{type:"primary",disabled:!t.checked},on:{click:function(e){e.stopPropagation(),t.confirmOrder(e)}}},[t._v("确认下单")])],1):t._e(),t._v(" "),t.isShowCreateInfo?t._e():a("div",{staticClass:"submit_title"},[a("ConsoleSuccess",{attrs:{system_type:t.name,system_name:t.tableData.system_name,return_url:t.returnUrl,order_number:t.orderNumber}})],1)])},staticRenderFns:[]};var wi=a("VU/8")(_i,yi,!1,function(t){a("Mmu7")},null,null).exports,Ci={name:"slideScale",props:{cycleCnt:{type:Number,default:1},isOften:{type:Boolean,default:!0},bandwidths:{type:Number,default:100}},data:function(){return{often:14,ofterMin:1,cycleType:"M",cycleCnt_new:1,bandwidth:100,broadbandMax:300,broadbandMin:1,broadbandStep:1,bbScale:30}},methods:{sliderFormatTooltip:function(t){return 12==t?(this.cycleType="Y","1年"):13==t?(this.cycleType="Y","2年"):14==t?(this.cycleType="Y","3年"):(this.cycleType="M",t+"个月")}},computed:{cycleCntValue:function(){return this.sliderFormatTooltip(this.cycleCnt_new)}},mounted:function(){this.cycleCnt_new=this.cycleCnt,this.bandwidth=this.bandwidths},watch:{cycleCnt_new:function(){this.$emit("ofterCallback",this.cycleCnt_new)},bandwidth:function(){this.$emit("ofterCallback",this.bandwidth)}}},ki={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"el-slide-scale"},[t.isOften?[a("el-slider",{attrs:{min:t.ofterMin,max:t.often,"format-tooltip":t.sliderFormatTooltip},model:{value:t.cycleCnt_new,callback:function(e){t.cycleCnt_new=e},expression:"cycleCnt_new"}}),a("div",{staticClass:"el-slider-label",staticStyle:{right:"30px"}},[a("span",{staticClass:"huang",staticStyle:{"padding-right":"5px"}},[t._v(t._s(parseInt(t.cycleCntValue)))]),t._v(t._s(t.cycleCntValue.match(/[\u4e00-\u9fa5]/g).join("")))]),t._v(" "),a("div",{staticClass:"slider-mark"},[a("div",{staticClass:"scale"},t._l(t.often,function(e){return a("span",{key:e,style:"width:"+100/(t.often-1)+"%"},[t._v("|")])})),t._v(" "),a("div",{ref:"scaleInfo",staticClass:"scaleInfo"},t._l(t.often,function(e){return a("span",{key:e,style:{width:100/(t.often-1)+"%",marginLeft:(1==e?-100/(t.often-1)/2:"")+"%"}},[a("span",12==e?[t._v("1年")]:13==e?[t._v("2年")]:14==e?[t._v("3年")]:[t._v(t._s(e)+"个月")])])}))])]:[a("el-slider",{attrs:{max:t.broadbandMax,min:t.broadbandMin,step:t.broadbandStep},model:{value:t.bandwidth,callback:function(e){t.bandwidth=e},expression:"bandwidth"}}),t._v(" "),a("div",{staticClass:"el-slider-label"},[a("span",{staticClass:"huang",staticStyle:{"padding-right":"5px"}},[t._v(t._s(t.bandwidth))]),t._v("Mbit/s")]),t._v(" "),a("div",{staticClass:"slider-mark"},[a("div",{staticClass:"scale"},[t._l(t.bbScale,function(e){return a("span",{key:e,style:"width:"+100/t.bbScale+"%"},[t._v("|")])}),t._v(" "),a("span",[t._v("|")])],2),t._v(" "),t._m(0)])]],2)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"scaleInfo"},[e("span",{staticStyle:{"margin-left":"-2px"}},[this._v("1")]),this._v(" "),e("span",{staticStyle:{"margin-left":"30.5%"}},[this._v("100")]),this._v(" "),e("span",{staticStyle:{"margin-left":"30%"}},[this._v("200")]),this._v(" "),e("span",{staticStyle:{right:"-10.6px"}},[this._v("300")])])}]};var xi=a("VU/8")(Ci,ki,!1,function(t){a("GouX"),a("UDzg")},"data-v-3bfb15c2",null).exports,Di=void 0,Ti={components:{EcmCreateAfter:wi,slideScale:xi},data:function(){var t=this;return{isOften:!1,isNetworkIP:!0,isShowOrderInfo:!0,isShowCreateInfoP:!0,inlineMessage:!0,privateShow:!0,subCreateTip:!1,seleceCheck:!0,orderNumberP:"--",returnUrl:"/ecm/ecmList",orderInfo:{},orderData:{},temp:14,eipSize:"--",temp2:30,temp21:4,broadbandStep:10,cycleTypeTemp:"Y",cycleType:"M",fileList:[],scrollY:500,passGrade:0,imageTypeList:[{label:"1",value:"公共镜像"},{label:"0",value:"私有镜像"},{label:"share",value:"共享镜像",hide:!0}],osTypeList:[{value:"Linux"},{value:"Windows"},{value:"Redhat"}],disksTypeObj:{SATA:"普通IO",SAS:"高IO",SSD:"超高IO"},osList:[],securityGroupsList:[],platformsList:[],zonesList:[],osKeypairsList:[],vpcsList:[],vpcTypeList:[],vpcsNetworkList:[],eipsdataList:[],cpuList:[],memList:[],basicInfo:{btnType:"success",btnIcon:"el-icon-edit",resources:"",vmName:"",zoneId:"",resourceType:"",cpu:1,mem:1,imageType:"1",osTypeShow:!0,osType:"Linux",os:"",osName:"",disk:"",maxDataDisk:5,diskSize:15,diskSizeMin:15,diskSizeMax:200,_diskSizeMin:5,_diskSizeMax:2048,_step:10,dataDisks:[{type:"",size:30}]},networkInfo:{btnType:"primary",btnIcon:"",vpcType:"privateVpc",vpc:"",vpcName:"",securityGroup:"",mainNetwork:"",mainNetName:"",mainNetworkIP:"",maxExtend:5,extendNetworks:[{extendNetwork:"",extendNetworkIP:""}],elasticIP:"noUse",bandwidth:100,broadbandMax:300,showInput:!0,existingIp:""},loginInfo:{btnType:"primary",btnIcon:"",passwordType:"rootPassword",keyPair:"",userName:"",pass:"",checkPass:""},createNumberInfo:{btnType:"primary",btnIcon:"",cycleCnt:6,broadbandMin:1,broadbandMax:14,showInput:!0,min:1,max:50,orderNum:1,label:"台"},seniorConfigInfo:{btnType:"primary",btnIcon:"",textarea:"",maxTabs:10,tabs:[{key:"键",value:"值"}]},rules:{vmName:[{required:!0,message:"请输入云服务器名称",trigger:"blur"},{min:1,max:63,message:"长度在 1 到 63个字符",trigger:"blur"},{validator:function(t,e,a){e.length>63||e.length<2?a(new Error("长度为2-63字符")):/^[a-zA-Z][a-zA-Z0-9\-]*[a-zA-Z0-9]$/.test(e)?Bt({status:"",page:1,name:e,attached:""}).then(function(t){t.data.results.length>0?a(new Error("云服务器名称重复，请重新输入！")):a()}).catch(function(t){console.log(t)}):a(new Error("只能由数字、字母、-组成,不能以数字和-开头、以-结尾"))},trigger:"blur"}],os:[{required:!0,message:"请选择镜像",trigger:"change"}],vpcType:[{required:!0,message:"请选择Vpc类型",trigger:"blur,change"}],vpc:[{required:!0,message:"请选择虚拟私有云",trigger:"blur,change"}],securityGroup:[{required:!0,message:"请选择安全组",trigger:"change"}],mainNetwork:[{required:!0,message:"请选择主网卡",trigger:"change"}],userName:[{required:!0,message:"请输入用户名",trigger:"blur"}],pass:[{required:!0,validator:function(e,a,i){""===a?i(new Error("请输入密码")):(""!==t.loginInfo.checkPass&&t.$refs.loginInfo.validateField("checkPass"),i())},trigger:"blur"},{min:6,message:"密码长度输入6个字符以上",trigger:"blur"}],checkPass:[{required:!0,validator:function(e,a,i){""===a?i(new Error("请再次输入密码")):a!==t.loginInfo.pass?i(new Error("两次输入密码不一致!")):i()},trigger:"blur"}]}}},methods:{refreshVpc:function(){var t={regionid:F()};this.getVpcs(t)},createVpc:function(){window.open("#/vpc/creatVpc")},handleScroll:function(){if(this.isShowOrderInfo){var t=window.scrollY;this.scrollY=t<350?500-t:200,this.basicInfo.btnType="primary",this.basicInfo.btnIcon="",this.networkInfo.btnType="primary",this.networkInfo.btnIcon="",this.loginInfo.btnType="primary",this.loginInfo.btnIcon="",this.createNumberInfo.btnType="primary",this.createNumberInfo.btnIcon="",this.seniorConfigInfo.btnType="primary",this.seniorConfigInfo.btnIcon="";var e=this.$refs.basic.$el.scrollHeight,a=e+this.$refs.network.$el.scrollHeight,i=a+this.$refs.createNumber.$el.scrollHeight;t<e?(this.basicInfo.btnType="success",this.basicInfo.btnIcon="el-icon-edit"):t<a?(this.networkInfo.btnType="success",this.networkInfo.btnIcon="el-icon-edit"):t<i?(this.createNumberInfo.btnType="success",this.createNumberInfo.btnIcon="el-icon-edit"):(this.seniorConfigInfo.btnType="success",this.seniorConfigInfo.btnIcon="el-icon-edit")}},setScroll:function(t,e){this.basicInfo.btnType="primary",this.basicInfo.btnIcon="",this.networkInfo.btnType="primary",this.networkInfo.btnIcon="",this.loginInfo.btnType="primary",this.loginInfo.btnIcon="",this.createNumberInfo.btnType="primary",this.createNumberInfo.btnIcon="",this.seniorConfigInfo.btnType="primary",this.seniorConfigInfo.btnIcon="",e.btnType="success",e.btnIcon="el-icon-edit";var a=this.$refs.basic.$el.scrollHeight,i=a+this.$refs.network.$el.scrollHeight;0==t||(t=1==t?a:2==t?i:3==t?i:createNumberScrollHeight),window.scrollTo(0,t),console.log(t,e)},dian190:function(t){46!=(window.event?t.keyCode:t.which)||t.preventDefault()},handleRemove:function(t,e){console.log(t,e)},handlePreview:function(t){console.log(t)},handleExceed:function(t,e){this.$message.warning("当前限制选择 5 个文件，本次选择了 "+t.length+" 个文件，共选择了 "+(t.length+e.length)+" 个文件")},beforeRemove:function(t,e){return this.$confirm("确定移除 "+t.name+"？")},addDataDisk:function(){this.basicInfo.dataDisks.push({type:"SATA",size:30})},delDataDisk:function(t){this.basicInfo.dataDisks.splice(t,1)},eipSizeShow:function(t){console.log(t);var e=this._.find(this.eipsdataList,{id:t});this.eipSize=e.networkrate},addExtendNetwork:function(){this.networkInfo.extendNetworks.push({extendNetwork:"shanghai",extendNetworkIP:""})},delExtendNetwork:function(t){this.networkInfo.extendNetworks.splice(t,1)},addTab:function(){this.seniorConfigInfo.tabs.push({key:"键",value:"值"})},delTab:function(t){this.seniorConfigInfo.tabs.splice(t,1)},vpcTypeChange:function(t){this.privateShow="privateVpc"==t;var e=this;this.vpcTypeList=[];var a=[];this.vpcTypeList=this.vpcsList.filter(function(t){if(t.subnet_creating&&a.push(t.id),e.privateShow)return!t.fake_vpc||1!=t.fake_vpc;if(t.fake_vpc&&1==t.fake_vpc){var i=t.fake_vpc&&1==t.fake_vpc;return t.name=i&&"fake_vpc"==t.name?"默认网络":t.name,!0}return!1}),a.length>0&&this.autoRefresh(a),0==this.vpcTypeList.length&&this.privateShow?(this.vpcTypeList=[{name:"默认私有云",id:"default"}],this.networkInfo.vpc="default",this.networkInfo.vpcName="默认私有云"):0!=this.vpcTypeList.length||this.privateShow?(this.networkInfo.vpc=this.vpcTypeList[0].id,this.networkInfo.vpcName=this.vpcTypeList[0].name):(this.networkInfo.vpc="",this.networkInfo.vpcName=""),this.vpcsChange(this.networkInfo.vpc),console.log(this.vpcTypeList)},eipBuyTpe:function(t){console.log(t),console.log(this.networkInfo.elasticIP)},autoRefresh:function(t){var e=this;t&&t.map(function(t){console.log(t),e.getJobDetail(t)})},getJobDetail:function(t){var e=this;this.detailRefresh||(Di&&clearTimeout(Di),Ee(t).then(function(a){var i=a.data.results[0];console.log(i),i.subnet_creating?Di=setTimeout(function(){e.getJobDetail(t)},5e3):(e.vpcsList.map(function(t,a){if(t.id==i.id)return console.log(i),e.$set(e.vpcsList,a,i),!0}),e.vpcTypeList.map(function(t,a){if(t.id==i.id)return console.log(i),e.$set(e.vpcTypeList,a,i),!0}),e.networkInfo.vpc&&e.vpcsChange(e.networkInfo.vpc))}).catch(function(t){console.log(t),Di=setTimeout(function(){e.refresh()},5e3)}))},vpcsChange:function(t){if(t){if(this.networkInfo.mainNetwork="",this.networkInfo.existingIp="",this.eipsdataList=[],"default"==t)return this.networkInfo.mainNetwork="default",this.vpcsNetworkList=[{name:"默认子网",id:"default"}],void(this.networkInfo.mainNetName=this.vpcsNetworkList.length>0?this.vpcsNetworkList[0].name:"");var e=this._.find(this.vpcTypeList,{id:t});this.networkInfo.vpcName=e.name,this.vpcsNetworkList=e.network?e.network:e.subnet_list?e.subnet_list:[],this.vpcsNetworkList.length>0?(this.subCreateTip=!1,this.vpcsNetworkList.filter(function(t){return t.networkCard=t.name+"("+t.cidr+")"}),this.networkInfo.mainNetwork=this.vpcsNetworkList[0].id,this.networkInfo.mainNetName=this.vpcsNetworkList[0].networkCard):(this.networkInfo.mainNetwork="",this.networkInfo.mainNetName="",this.subCreateTip=!1,e.subnet_creating&&(this.subCreateTip=!0)),this.privateShow&&this.getEipsdata({vpcid:t,attached:0})}else this.vpcsNetworkList=[],this.networkInfo.mainNetwork="",this.networkInfo.existingIp="",this.eipsdataList=[],this.networkInfo.mainNetwork="",this.networkInfo.mainNetName=""},vpcNetWorkChange:function(t){this.networkInfo.mainNetName=this._.find(this.vpcsNetworkList,{id:t}).networkCard},changeImages:function(t){this.basicInfo.os="";var e={regionid:this.basicInfo.resources},a=void 0;"Linux"==t?a=1:"Windows"==t?a=2:"Redhat"==t&&(a=3),this.basicInfo.osTypeShow=1==this.basicInfo.imageType,"os"==this.regionType&&(this.basicInfo.osTypeShow&&(e.osType=a),e.visibility=this.basicInfo.imageType),"cs"==this.regionType&&(e.osType=a),console.log(this.$refs.basicInfo),this.$refs.basicInfo.fields[1].resetField(),this.getImages(e)},changeOs:function(t){console.log(t);var e=this._.find(this.osList,{id:t});this.basicInfo.osName=e.name,console.log(e),e.size?this.basicInfo.diskSize=parseInt(e.size/1024/1024/1024):"Windows"==this.basicInfo.osType?this.basicInfo.diskSize="40":this.basicInfo.diskSize="15"},changeNetwork:function(t){this.networkInfo.existingIp="";var e=this._.find(this.vpcsNetworkList,{id:t});this.getEipsdata({subnet_uuid:e.physicalnetworkid})},vCPUchange:function(t){var e=this._.find(this.cpuList,{vcpu:t});this.memList=this._.sortBy(e.ram,function(t){return t}),this.basicInfo.mem=this.memList[0]},ofterCallback:function(t){this.createNumberInfo.cycleCnt=t},bbCallback:function(t){this.networkInfo.bandwidth=t},diskBlur:function(t){},diskFocus:function(t){this.basicInfo.diskSizeMin=1},_diskBlur:function(t){console.log(t),this.basicInfo.diskSizeMin=15},_diskFocus:function(t){console.log(t),this.basicInfo.diskSizeMin=1},getImages:function(t){var e=this;this.seleceCheck=!0,Wt(t).then(function(t){console.log(t),200==t.status&&(e.seleceCheck=!1,e.osList=t.data.results,e.osList.length>0?(e.basicInfo.os=e.osList[0].id,e.basicInfo.osName=e.osList[0].name,e.osList[0].size?e.basicInfo.diskSize=parseInt(e.osList[0].size/1024/1024/1024):"Windows"==e.basicInfo.osType?e.basicInfo.diskSize="40":e.basicInfo.diskSize="15"):(e.basicInfo.os="","Windows"==e.basicInfo.osType?e.basicInfo.diskSize="40":e.basicInfo.diskSize="15"))},function(t){console.log("error")})},getSecurityGroups:function(t){var e,a=this;(e=t,Ct({url:"console/network/securitygroups/",method:"get",params:e})).then(function(t){console.log(t),200==t.status&&(a.securityGroupsList=t.data.results,0==a.securityGroupsList.length?(a.securityGroupsList=[{name:"默认安全组",id:"default"}],a.networkInfo.securityGroup="default"):1==a.securityGroupsList.length?("default"==a.securityGroupsList[0].name&&(a.securityGroupsList[0].name="默认安全组"),a.networkInfo.securityGroup=a.securityGroupsList[0].id):a.networkInfo.securityGroup=a.securityGroupsList[0].id)},function(t){console.log("error")})},getPlatforms:function(t){this.platformsList=this.$store.state.user.regionList,this.basicInfo.resources=this.platformsList[0].uuid,this.changeRegion()},changeRegion:function(){var t=this;this.seleceCheck=!0,this.osList=[],this.basicInfo.os="",Ct.cancle("CancelToken");var e,a=this.basicInfo.resources,i=this,n=this._.find(this.platformsList,{uuid:this.basicInfo.resources}),s=n.details,o=1==n.type?"cs":2==n.type&&"os";this.basicInfo.zoneId=s.zoneId,O(this.basicInfo.resources),L(s.zoneId),$(s.hasVnc),R(o),this.$store.dispatch("changeRegionType",z()),(e={regionid:a},Ct({url:"console/ecm/ecs/serverextenddata/",method:"get",params:e})).then(function(e){var a=e.data.returnObj;a&&a.length>0?(t.cpuList=t._.sortBy(a,function(t){return t.vcpu}),t.memList=t._.sortBy(t.cpuList[0].ram,function(t){return t}),t.basicInfo.cpu=t.cpuList[0].vcpu,t.basicInfo.mem=t.memList[0],console.log(t.cpuList),console.log(t.memList)):console.log("获取虚拟vCPU-error"),console.log(a,"规格参数")}),this.disksTypeObj={},console.log(this.disksTypeObj),s.storage_type.map(function(e,a,i){0==a&&(t.basicInfo.dataDisks.length>0?t.basicInfo.disk=t.basicInfo.dataDisks[0].type=e.type:t.basicInfo.disk=e.type),t.disksTypeObj[e.type]=e.name}),this.vpcsList=[],this.vpcTypeList=[],this.osList=[],this.networkInfo.vpc=this.basicInfo.os="";var r=void 0;"Linux"==this.basicInfo.osType?r=1:"Windows"==this.basicInfo.osType?r=2:"Redhat"==this.basicInfo.osType&&(r=3);var l,c,u={regionid:a},d={osType:r,regionid:a,zoneId:this.basicInfo.zoneId};"os"==this.regionType&&(d.visibility=this.basicInfo.imageType,u.detail=1),l=[Yt(u),Wt(d)],c=function(e,a){if(200==e.status){t.vpcsList=e.data.results;var n=[];t.vpcTypeList=t.vpcsList.filter(function(t){if(t.subnet_creating&&n.push(t.id),i.privateShow)return!t.fake_vpc||1!=t.fake_vpc;if(t.fake_vpc&&1==t.fake_vpc){var e=t.fake_vpc&&1==t.fake_vpc;return t.name=e&&"fake_vpc"==t.name?"默认网络":t.name,!0}return!1}),n.length>0&&t.autoRefresh(n),0==t.vpcTypeList.length&&t.privateShow?(t.vpcTypeList=[{name:"默认私有云",id:"default"}],t.networkInfo.vpc="default",t.networkInfo.vpcName="默认私有云"):0!=t.vpcTypeList.length||t.privateShow?(t.networkInfo.vpc=t.vpcTypeList[0].id,t.networkInfo.vpcName=t.vpcTypeList[0].name):(t.networkInfo.vpc="",t.networkInfo.vpcName=""),t.vpcsChange(t.networkInfo.vpc)}else console.log("获取虚拟私有云error"),t.vpcsList=[],t.vpcTypeList=[],t.vpcsNetworkList=[],t.networkInfo.vpc="",t.networkInfo.mainNetName="",t.vpcsChange(t.networkInfo.vpc);200==a.status?(t.seleceCheck=!1,t.osList=a.data.results,t.osList.length>0?(t.basicInfo.os=t.osList[0].id,t.basicInfo.osName=t.osList[0].name,t.osList[0].size?t.basicInfo.diskSize=parseInt(t.osList[0].size/1024/1024/1024):"Windows"==t.basicInfo.osType?t.basicInfo.diskSize="40":t.basicInfo.diskSize="15"):(t.basicInfo.os="","Windows"==t.basicInfo.osType?t.basicInfo.diskSize="40":t.basicInfo.diskSize="15")):(t.seleceCheck=!1,console.log("获取镜像列表error"))},ct.a.all(l).then(ct.a.spread(c))},filterFakeVpc:function(t){return t.filter(function(t){return!(t.fake_vpc&&1==t.fake_vpc)})},getZones:function(t){var e,a=this;(e=t,Ct({url:"console/ecm/ecs/zones/",method:"get",params:e})).then(function(t){200==t.status&&(a.zonesList=t.data.results,a.basicInfo.zoneId=a.zonesList[0].id,console.log(a.zonesList,"3333"))},function(t){console.log("error")})},getOsKeypairs:function(t){var e=this;Zt(t).then(function(t){200==t.status&&(e.osKeypairsList=t.data.results)},function(t){console.log("error")})},getVpcs:function(t){var e=this,a=this;Yt(t).then(function(t){if(200==t.status){e.vpcsList=t.data.results,e.vpcTypeList=[];var i=[];e.vpcTypeList=e.vpcsList.filter(function(t){if(t.subnet_creating&&i.push(t.id),a.privateShow)return!t.fake_vpc||1!=t.fake_vpc;if(t.fake_vpc&&1==t.fake_vpc){var e=t.fake_vpc&&1==t.fake_vpc;return t.name=e&&"fake_vpc"==t.name?"默认网络":t.name,!0}return!1}),i.length>0&&e.autoRefresh(i),0==e.vpcTypeList.length&&e.privateShow?(e.vpcTypeList=[{name:"默认私有云",id:"default"}],e.networkInfo.vpc="default",e.networkInfo.vpcName="默认私有云"):0!=e.vpcTypeList.length||e.privateShow?(e.networkInfo.vpc=e.vpcTypeList[0].id,e.networkInfo.vpcName=e.vpcTypeList[0].name):(e.networkInfo.vpc="",e.networkInfo.vpcName=""),e.vpcsChange(e.networkInfo.vpc)}else e.vpcsList=[],e.vpcTypeList=[],e.vpcsNetworkList=[],e.networkInfo.vpc="",e.networkInfo.mainNetName="",e.vpcsChange(e.networkInfo.vpc)},function(t){console.log("error"),e.vpcsList=[],e.vpcTypeList=[],e.vpcsNetworkList=[],e.networkInfo.vpc="",e.networkInfo.mainNetName="",e.vpcsChange(e.networkInfo.vpc)})},getEipsdata:function(t){var e=this,a=this.basicInfo.resources;t.regionid=a,te(t).then(function(t){200==t.status&&(e.eipsdataList=t.data.results)},function(t){console.log("error")})},order:function(t){var e=this;if(this.isNetworkIP){var a=!1,i=!1;this.$refs.networkInfo.validate(function(t){t&&(i=!0)}),this.$refs.basicInfo.validate(function(n){n&&(a=!0,console.log(e),e.orderResult(a,i,!1,t))})}},orderResult:function(t,e,a,i){var n=this;if(!t)return this.setScroll(0,this.basicInfo),!1;if(!e)return this.setScroll(1,this.networkInfo),!1;if(a)return this.setScroll(2,this.loginInfo),!1;var s=this.createNumberInfo.cycleCnt,o="default"==this.networkInfo.mainNetwork?[{}]:[{subnetId:this.networkInfo.mainNetwork,subnetName:""===this.networkInfo.mainNetworkIP?"默认子网":this.networkInfo.mainNetworkIP,master:!0}];12===s?s=1:13===s?s=2:14===s&&(s=3);var r={cycleType:this.cycleType,regionid:this.basicInfo.resources,zoneId:this.basicInfo.zoneId,vmName:this.basicInfo.vmName,cpu:this.basicInfo.cpu,mem:this.basicInfo.mem,os:this.basicInfo.os,syshdType:this.basicInfo.disk,syshd:this.basicInfo.diskSize,disks:this.basicInfo.dataDisks,vpc:"default"==this.networkInfo.vpc?"":this.networkInfo.vpc,networkCards:o,rootPassword:this.loginInfo.pass,cycleCnt:s,orderNum:this.createNumberInfo.orderNum,osType:this.basicInfo.osType};if(this.isAuto&&this.privateShow?r.bandwidth=this.networkInfo.bandwidth:this.isUse&&this.privateShow&&(r.existingIp=this.networkInfo.existingIp),this.orderInfo={resourcesName:this.resourcesName,cycleCntValue:this.cycleCntValue,osDatas:this.basicInfo.osType+": "+this.basicInfo.osName,vpcName:this.networkInfo.vpcName,eipName:this.existingIpValue,vpcNet:this.networkInfo.mainNetName},console.log(this.networkInfo),this.orderData=r,console.log(r),"immediately"==i){var l=this.$loading({lock:!0,text:"拼命创建中",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});Xt(r).then(function(t){l.close(),console.log(t),window.scrollTo(0,0),200==t.data.code?(n.orderNumberP=t.data.returnObj.so_number,n.isShowOrderInfo=!n.isShowOrderInfo,n.isShowCreateInfoP=!n.isShowCreateInfoP):n.$message({showClose:!0,message:t.data.reason||t.data.msg,type:"error"})},function(t){l.close(),console.log("error")})}else this.isShowOrderInfo=!this.isShowOrderInfo,window.scrollTo(0,0)},passChange:function(t){this.passGrade=Ze(t)},ipBlur:function(t){""!=this.networkInfo.mainNetworkIP?(this.isNetworkIP=this.isIp(this.networkInfo.mainNetworkIP),this.isNetworkIP||(t.target||t.srcElement).focus()):this.isNetworkIP=!0},isIp:function(t){return!!/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/.test(t)&&t.split(".").every(function(t){return!(t.length>1&&"0"===t.charAt(0))&&!(parseInt(t,10)>255)})},sliderFormatTooltip:function(t){return 12==t?(this.cycleType="Y","1年"):13==t?(this.cycleType="Y","2年"):14==t?(this.cycleType="Y","3年"):(this.cycleType="M",t+"个月")},cancel:function(){this.$router.push({path:this.returnUrl})},backup:function(){this.isShowOrderInfo=!this.isShowOrderInfo},queryQuotas:function(){var t=this;He().then(function(e){console.log(e.data.results);var a=e.data.returnObj;t.createNumberInfo.max=a.vm_limit_each_time?a.vm_limit_each_time-0:""}).catch(function(t){console.log(t)})}},computed:{isloginPass:function(){return"rootPassword"===this.loginInfo.passwordType},isAddDataDisk:function(){return this.basicInfo.maxDataDisk-this.basicInfo.dataDisks.length==0},isAddExtendNetwork:function(){return this.networkInfo.maxExtend-this.networkInfo.extendNetworks.length==0},isTab:function(){return this.seniorConfigInfo.maxTabs-this.seniorConfigInfo.tabs.length==0},isNoUse:function(){return"noUse"===this.networkInfo.elasticIP},isAuto:function(){return"auto"===this.networkInfo.elasticIP},isUse:function(){return"use"===this.networkInfo.elasticIP},isBatch:function(){return("use"===this.networkInfo.elasticIP||""!=this.networkInfo.mainNetworkIP)&&(this.createNumberInfo.orderNum=1,!0)},userName:function(){return"Windows"==this.basicInfo.osType?"Administrator":"Root"},resourcesName:function(){return""!==this.basicInfo.resources&&this.platformsList.length>0?this._.find(this.platformsList,{uuid:this.basicInfo.resources}).name:"--"},regionType:function(){return this.$store.getters.regionType},specifications:function(){return""!==this.basicInfo.mem&&""!==this.basicInfo.cpu?this.basicInfo.cpu+"核 | "+this.basicInfo.mem+"GB":"--"},systemData:function(){return""!==this.basicInfo.disk&&""!==this.basicInfo.diskSize?this.disksTypeObj[this.basicInfo.disk]+"   "+this.basicInfo.diskSize+"GB":"--"},datas:function(){return"--"},existingIpValue:function(){return""!==this.networkInfo.existingIp&&this.eipsdataList.length>0&&this.isUse?this._.find(this.eipsdataList,{id:this.networkInfo.existingIp}).ipaddress:"--"},cycleCntValue:function(){return""!==this.createNumberInfo.cycleCnt?this.sliderFormatTooltip(this.createNumberInfo.cycleCnt):"--"},orderNumValue:function(){return""!==this.createNumberInfo.orderNum?this.createNumberInfo.orderNum+"台":"--"},eipShow:function(){var t=this;return!this.vpcsList.filter(function(t){return t.fake_vpc&&1==t.fake_vpc}).find(function(e){return e.id==t.networkInfo.vpc})}},mounted:function(){var t=this;window.addEventListener("scroll",this.handleScroll),this.platformsList=this.$store.state.user.regionList,this.basicInfo.resources=F(),this.changeRegion(),console.log(this.platformsList[0].details.storage_type),this.disksTypeObj={},this.platformsList[0].details.storage_type.map(function(e,a,i){0==a&&(t.basicInfo.disk=t.basicInfo.dataDisks[0].type=e.type),t.disksTypeObj[e.type]=e.name}),this.basicInfo.vmName="ecm-"+xt();var e=this.$store.state.user.user.quotas;e.vm_limit_each_time?this.createNumberInfo.max=e.vm_limit_each_time-0:this.queryQuotas()},beforeDestroy:function(){window.removeEventListener("scroll",this.handleScroll)}},Ii={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"ecmCreate"},[t.isShowOrderInfo?a("el-header",{staticStyle:{"padding-left":"0"},attrs:{height:"40px"}},[a("el-radio-group",{attrs:{fill:"#3dc7fa"},model:{value:t.cycleTypeTemp,callback:function(e){t.cycleTypeTemp=e},expression:"cycleTypeTemp"}},[a("el-radio-button",{staticClass:"radio-group-btn",attrs:{label:"Y"}},[t._v("包年包月")])],1)],1):t._e(),t._v(" "),t.isShowOrderInfo?a("el-container",[a("el-main",{staticClass:"padding-left"},[a("el-steps",{attrs:{direction:"vertical",active:5,space:"auto"}},[a("el-step",{ref:"basic",staticClass:"info-step",attrs:{title:"基础配置"}},[a("div",{staticClass:"stepContent",attrs:{slot:"description"},slot:"description"},[a("div",{staticClass:" stepIcon"},[a("div",{staticClass:"stepIcon-title"},[t._v("1")]),t._v(" "),a("div",{staticClass:"stepIcon-rectangle"},[a("div",{staticClass:"stepIcon-triangle"})])]),t._v(" "),a("el-form",{ref:"basicInfo",attrs:{model:t.basicInfo,rules:t.rules,"label-width":"125px","label-position":"left"}},[a("el-form-item",{attrs:{label:"地域：",required:""}},[a("el-radio-group",{attrs:{size:"mini",fill:"#f9cd76"},on:{change:t.changeRegion},model:{value:t.basicInfo.resources,callback:function(e){t.$set(t.basicInfo,"resources",e)},expression:"basicInfo.resources"}},t._l(t.platformsList,function(e){return a("el-radio-button",{key:e.uuid,staticClass:"radio-group-btn",attrs:{label:e.uuid}},[t._v(t._s(e.name))])}))],1),t._v(" "),a("el-form-item",{staticClass:"el-form-item-tip",attrs:{label:"云服务器名称：",prop:"vmName","inline-message":t.inlineMessage}},[a("el-input",{attrs:{placeholder:"请输入云服务器名称",size:"small"},model:{value:t.basicInfo.vmName,callback:function(e){t.$set(t.basicInfo,"vmName","string"==typeof e?e.trim():e)},expression:"basicInfo.vmName"}}),t._v(" "),a("el-tooltip",{attrs:{content:"只能由数字、字母、-组成,不能以数字和-开头、以-结尾,且长度为2-63字符",placement:"right"}},[a("i",{staticClass:"el-icon-question"})]),t._v(" "),a("div",{staticClass:"infoTip infoTip_location"},[t._v("创建多台云服务器时，系统自动增加后缀，例如：我的云服务器-001")])],1),t._v(" "),t._e(),t._v(" "),t._e(),t._v(" "),a("el-form-item",{attrs:{label:"vCPU：",required:""}},[a("el-radio-group",{attrs:{size:"mini",fill:"#f9cd76"},on:{change:t.vCPUchange},model:{value:t.basicInfo.cpu,callback:function(e){t.$set(t.basicInfo,"cpu",e)},expression:"basicInfo.cpu"}},t._l(t.cpuList,function(e){return a("el-radio-button",{key:e.vcpu,staticClass:"radio-group-btn",attrs:{label:e.vcpu}},[t._v(t._s(e.vcpu)+"核")])}))],1),t._v(" "),a("el-form-item",{staticClass:"el-form-item-tip",attrs:{label:"内存：",required:""}},[a("el-radio-group",{attrs:{size:"mini",fill:"#f9cd76"},model:{value:t.basicInfo.mem,callback:function(e){t.$set(t.basicInfo,"mem",e)},expression:"basicInfo.mem"}},t._l(t.memList,function(e){return a("el-radio-button",{key:e,staticClass:"radio-group-btn",attrs:{label:e}},[t._v(t._s(e)+"GB")])})),t._v(" "),a("div",{staticClass:"infoTip infoTip_location"},[t._v("为了保证性能体验，Windows2008/2012系统建议选择2GB及以上内存。")])],1),t._v(" "),"os"==t.regionType?a("el-form-item",{attrs:{label:"镜像类型：",required:""}},[a("el-radio-group",{attrs:{size:"mini",fill:"#f9cd76"},on:{change:t.changeImages},model:{value:t.basicInfo.imageType,callback:function(e){t.$set(t.basicInfo,"imageType",e)},expression:"basicInfo.imageType"}},t._l(t.imageTypeList,function(e){return e.hide?t._e():a("el-radio-button",{key:e.value,staticClass:"radio-group-btn",attrs:{label:e.label}},[t._v(t._s(e.value))])}))],1):t._e(),t._v(" "),a("el-form-item",{staticClass:"form-item-os",attrs:{label:"镜像：",required:"",prop:"os"}},[t.basicInfo.osTypeShow?a("el-select",{attrs:{disabled:t.seleceCheck,placeholder:"请选择",size:"small"},on:{change:t.changeImages},model:{value:t.basicInfo.osType,callback:function(e){t.$set(t.basicInfo,"osType",e)},expression:"basicInfo.osType"}},t._l(t.osTypeList,function(e,i){return a("el-option",{key:i,attrs:{value:e.value}},[t._v(t._s(e.value))])})):t._e(),t._v(" "),a("el-select",{attrs:{disabled:t.seleceCheck,placeholder:"请选择",size:"small"},on:{change:t.changeOs},model:{value:t.basicInfo.os,callback:function(e){t.$set(t.basicInfo,"os",e)},expression:"basicInfo.os"}},t._l(t.osList,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})}))],1),t._v(" "),a("el-form-item",{staticClass:"form-item-bg",attrs:{label:"磁盘：",required:""}},[a("span",{staticClass:"spanTip"},[t._v("系统盘")]),t._v(" "),a("el-select",{attrs:{placeholder:"普通IO",size:"small"},model:{value:t.basicInfo.disk,callback:function(e){t.$set(t.basicInfo,"disk",e)},expression:"basicInfo.disk"}},t._l(t.disksTypeObj,function(t,e){return a("el-option",{key:e,attrs:{label:t,value:e}})})),t._v(" "),a("el-input-number",{attrs:{disabled:!0,"controls-position":"right",size:"small"},nativeOn:{keypress:function(e){t.dian190(e)}},model:{value:t.basicInfo.diskSize,callback:function(e){t.$set(t.basicInfo,"diskSize",e)},expression:"basicInfo.diskSize"}}),t._v(" "),a("span",{staticClass:"color_company"},[t._v("GB")]),t._v(" "),0==t.basicInfo.dataDisks.length?a("el-button",{staticClass:"addEbs",attrs:{type:"text",disabled:t.isAddDataDisk},on:{click:t.addDataDisk}},[t._v("增加一块数据盘")]):t._e()],1),t._v(" "),t._l(t.basicInfo.dataDisks,function(e,i){return a("el-form-item",{key:i,staticClass:"form-item-bg",attrs:{label:"",required:""}},[a("span",{staticClass:"spanTip"},[t._v("数据盘")]),t._v(" "),a("el-select",{attrs:{placeholder:"普通IO",size:"small"},model:{value:e.type,callback:function(a){t.$set(e,"type",a)},expression:"item.type"}},t._l(t.disksTypeObj,function(t,e){return a("el-option",{key:e,attrs:{label:t,value:e}})})),t._v(" "),a("el-input-number",{attrs:{"controls-position":"right",min:t.basicInfo._diskSizeMin,max:t.basicInfo._diskSizeMax,size:"small",step:t.basicInfo._step},nativeOn:{keypress:function(e){t.dian190(e)}},model:{value:e.size,callback:function(a){t.$set(e,"size",a)},expression:"item.size"}}),t._v(" "),a("span",{staticClass:"color_company"},[t._v("GB")]),t._v(" "),t.basicInfo.dataDisks.length-1==i?a("el-button",{attrs:{type:"text",disabled:t.isAddDataDisk},on:{click:t.addDataDisk}},[t._v("增加一块数据盘")]):t._e(),t._v(" "),t.basicInfo.dataDisks.length-1==i?a("span",{staticClass:"addTip"},[t._v("你还可以增加"+t._s(t.basicInfo.maxDataDisk-t.basicInfo.dataDisks.length)+"块磁盘（云硬盘）")]):t._e(),t._v(" "),a("el-button",{staticClass:"textClose",attrs:{type:"text",icon:"el-icon-close"},on:{click:function(e){t.delDataDisk(i)}}})],1)})],2)],1)]),t._v(" "),a("el-step",{ref:"network",staticClass:"network-step",attrs:{title:"网络"}},[a("div",{staticClass:"stepContent",attrs:{slot:"description"},slot:"description"},[a("div",{staticClass:" stepIcon"},[a("div",{staticClass:"stepIcon-title"},[t._v("2")]),t._v(" "),a("div",{staticClass:"stepIcon-rectangle"},[a("div",{staticClass:"stepIcon-triangle"})])]),t._v(" "),a("el-form",{ref:"networkInfo",attrs:{model:t.networkInfo,rules:t.rules,"label-width":"110px","label-position":"left"}},[a("el-form-item",{staticClass:"el-form-item-tip",attrs:{label:"VPC类型：",prop:"vpcType"}},[a("el-radio-group",{attrs:{size:"mini",fill:"#f9cd76"},on:{change:t.vpcTypeChange},model:{value:t.networkInfo.vpcType,callback:function(e){t.$set(t.networkInfo,"vpcType",e)},expression:"networkInfo.vpcType"}},[a("el-radio-button",{staticClass:"radio-group-btn",attrs:{label:"privateVpc"}},[t._v("虚拟网络VPC")]),t._v(" "),a("el-radio-button",{staticClass:"radio-group-btn",attrs:{label:"physicalVpc"}},[t._v("物理网络VPC")])],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"虚拟私有云：",prop:"vpc"}},[a("el-select",{attrs:{placeholder:"请选择",size:"small"},on:{change:t.vpcsChange},model:{value:t.networkInfo.vpc,callback:function(e){t.$set(t.networkInfo,"vpc",e)},expression:"networkInfo.vpc"}},t._l(t.vpcTypeList,function(t,e){return a("el-option",{key:e,attrs:{label:t.name,value:t.id}})})),t._v(" "),a("div",{staticClass:"creatVpc"},[a("el-button",{staticClass:"refreshBtn",attrs:{icon:"el-icon-refresh"},on:{click:t.refreshVpc}}),t._v(" "),t.privateShow?a("span",{staticClass:"creatVpc_title"},[t._v("如需创建新的VPC,您可"),a("span",{staticClass:"router_link",on:{click:t.createVpc}},[t._v("前往控制台创建")])]):t._e()],1),t._v(" "),t.subCreateTip?a("p",{staticClass:"subCreateTip"},[t._v("该虚拟私有云下子网正在创建，请耐心等待，或选择其他虚拟私有云进行创建")]):t._e()],1),t._v(" "),t._e(),t._v(" "),a("el-form-item",{staticClass:"form-item-bg",attrs:{label:"网卡：",prop:"mainNetwork"}},[a("span",{staticClass:"spanTip"},[t._v("主网卡")]),t._v(" "),a("el-select",{attrs:{placeholder:"请选择",size:"small"},on:{change:t.vpcNetWorkChange},model:{value:t.networkInfo.mainNetwork,callback:function(e){t.$set(t.networkInfo,"mainNetwork",e)},expression:"networkInfo.mainNetwork"}},t._l(t.vpcsNetworkList,function(t,e){return a("el-option",{key:e,attrs:{label:t.networkCard,value:t.id}})})),t._v(" "),a("el-input",{attrs:{placeholder:"自动分配内网IP地址",size:"small",clearable:""},on:{blur:t.ipBlur},model:{value:t.networkInfo.mainNetworkIP,callback:function(e){t.$set(t.networkInfo,"mainNetworkIP",e)},expression:"networkInfo.mainNetworkIP"}}),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:!t.isNetworkIP,expression:"!isNetworkIP"}],staticStyle:{display:"inline-block",color:"red"}},[t._v("请输入合法IP")]),t._v(" "),t._e()],1),t._v(" "),t._l(t.networkInfo.extendNetworks,function(e,a){return t._e()}),t._v(" "),t.privateShow?a("el-form-item",{staticClass:"el-form-item-tip",attrs:{label:"弹性公网IP："}},[a("el-radio-group",{attrs:{size:"mini",fill:"#f9cd76"},on:{change:t.eipBuyTpe},model:{value:t.networkInfo.elasticIP,callback:function(e){t.$set(t.networkInfo,"elasticIP",e)},expression:"networkInfo.elasticIP"}},[a("el-radio-button",{staticClass:"radio-group-btn",attrs:{label:"noUse"}},[t._v("不使用")]),t._v(" "),t.eipShow?a("el-radio-button",{staticClass:"radio-group-btn",attrs:{label:"auto"}},[t._v("自动分配")]):t._e(),t._v(" "),t.eipShow?a("el-radio-button",{staticClass:"radio-group-btn",attrs:{label:"use"}},[t._v("使用已有")]):t._e()],1),t._v(" "),t.isNoUse?a("div",{staticClass:"infoTip infoTip_location"},[t._v("不使用弹性公网IP的云服务器不能与互联网互通，仅可作为私有网络中部署业务或者集群所需云服务器进行使用。")]):t._e(),t._v(" "),t.isAuto?a("div",{staticClass:"infoTip infoTip_location"},[t._v("自动为每台云服务器分配独享带宽的弹性公网IP，创建弹性云服务器过程中，请确保弹性公网IP配额充足。")]):t._e(),t._v(" "),t.isUse?a("div",{staticClass:"infoTip infoTip_location"},[t._v("为云服务器分配已有弹性公网IP，不能批量创建云服务器。")]):t._e(),t._v(" "),a("el-tooltip",{attrs:{content:"在备案功能上线前,Tcp协议暂不支持80、443、8080、8443端口 ",placement:"right"}},[a("i",{staticClass:"el-icon-question"})])],1):t._e(),t._v(" "),t.isAuto?a("el-form-item",{attrs:{label:"宽带：",required:""}},[a("slideScale",{attrs:{isOften:t.isOften},on:{ofterCallback:t.bbCallback}})],1):t._e(),t._v(" "),t.isUse?a("el-form-item",{staticClass:"el-form-item-tip"},[a("el-select",{attrs:{placeholder:"请选择",size:"small"},on:{change:t.eipSizeShow},model:{value:t.networkInfo.existingIp,callback:function(e){t.$set(t.networkInfo,"existingIp",e)},expression:"networkInfo.existingIp"}},t._l(t.eipsdataList,function(t){return a("el-option",{key:t.id,attrs:{label:t.ipaddress,value:t.id}})})),t._v(" "),a("div",{staticClass:"infoTip infoTip_location"},[t._v("当前弹性公网IP宽带："+t._s(t.eipSize))])],1):t._e()],2)],1)]),t._v(" "),t._e(),t._v(" "),a("el-step",{ref:"createNumber",staticClass:"create-step",attrs:{title:"购买量"}},[a("div",{staticClass:"stepContent",attrs:{slot:"description"},slot:"description"},[a("div",{staticClass:" stepIcon"},[a("div",{staticClass:"stepIcon-title"},[t._v("3")]),t._v(" "),a("div",{staticClass:"stepIcon-rectangle"},[a("div",{staticClass:"stepIcon-triangle"})])]),t._v(" "),a("el-form",{ref:"createNumberInfo",attrs:{model:t.createNumberInfo,"label-width":"110px","label-position":"left"}},[a("el-form-item",{attrs:{label:"购买时长：",required:""}},[a("slideScale",{attrs:{cycleCnt:t.createNumberInfo.cycleCnt},on:{ofterCallback:t.ofterCallback}})],1),t._v(" "),a("el-form-item",{attrs:{label:"购买数量：",required:""}},[a("el-input-number",{attrs:{min:t.createNumberInfo.min,max:t.createNumberInfo.max,label:t.createNumberInfo.label,size:"medium","controls-position":"right",disabled:t.isBatch},nativeOn:{keypress:function(e){t.dian190(e)}},model:{value:t.createNumberInfo.orderNum,callback:function(e){t.$set(t.createNumberInfo,"orderNum",e)},expression:"createNumberInfo.orderNum"}}),a("span",{staticClass:"spanTip"},[t._v("台")]),a("span",{staticClass:"infoTip"},[t._v("选择已有弹性公网IP或给网卡分配固定IP地址后，不能批量创建云服务器。")])],1)],1)],1)]),t._v(" "),t._e()],1)],1),t._v(" "),a("el-aside",{attrs:{width:"200px"}},[a("div",{staticClass:"rightInfo"},[a("div",{staticClass:"currentInfo"},[a("h6",[t._v("当前配置")]),t._v(" "),a("ul",[a("li",[a("span",{staticClass:"infoTip"},[t._v("地域 :")]),t._v(t._s(t.resourcesName)+"\n\t\t\t\t\t\t")]),t._v(" "),a("li",[a("span",{staticClass:"infoTip"},[t._v("规格 :")]),t._v(t._s(t.specifications)+"\n\t\t\t\t\t\t")]),t._v(" "),a("li",[a("span",{staticClass:"infoTip"},[t._v("系统盘 :")]),t._v(t._s(t.systemData)+"\n\t\t\t\t\t\t")]),t._v(" "),t._e(),t._v(" "),t.privateShow?a("li",[a("span",{staticClass:"infoTip"},[t._v("弹性公网IP :")]),t._v(t._s(t.existingIpValue)+"\n\t\t\t\t\t\t")]):t._e(),t._v(" "),a("li",[a("span",{staticClass:"infoTip"},[t._v("购买时长 :")]),t._v(t._s(t.cycleCntValue)+"\n\t\t\t\t\t\t")]),t._v(" "),a("li",[a("span",{staticClass:"infoTip"},[t._v("购买数量 :")]),t._v(t._s(t.orderNumValue)+"\n\t\t\t\t\t\t")])]),t._v(" "),a("el-button",{attrs:{size:"mini",type:"warning",icon:"el-icon-check"}},[t._v("预付费")]),t._v(" "),a("div",{staticClass:"infoBtn"},[a("el-button",{attrs:{type:"primary"},on:{click:function(e){e.stopPropagation(),t.order("indirect")}}},[t._v("订购")])],1)],1),t._v(" "),a("div",{staticClass:"operationBtns",style:{top:t.scrollY+"px"}},[a("div",{staticClass:"btn"},[a("el-button",{attrs:{size:"117",type:t.basicInfo.btnType,icon:t.basicInfo.btnIcon},on:{click:function(e){e.stopPropagation(),t.setScroll(0,t.basicInfo)}}},[t._v("基础配置")])],1),t._v(" "),a("div",{staticClass:"btn"},[a("el-button",{attrs:{type:t.networkInfo.btnType,icon:t.networkInfo.btnIcon,size:"117"},on:{click:function(e){e.stopPropagation(),e.preventDefault(),t.setScroll(1,t.networkInfo)}}},[t._v("网络")])],1),t._v(" "),a("div",{staticClass:"btn"},[t._e()],1),t._v(" "),a("div",{staticClass:"btn"},[a("el-button",{attrs:{type:t.createNumberInfo.btnType,icon:t.createNumberInfo.btnIcon,size:"117"},on:{click:function(e){e.stopPropagation(),t.setScroll(3,t.createNumberInfo)}}},[t._v("购买量")])],1),t._v(" "),a("div",{staticClass:"btn"},[t._e()],1)])])])],1):t._e(),t._v(" "),t.isShowOrderInfo?a("el-footer",{attrs:{height:"40px"}},[a("el-button",{attrs:{type:"info"},on:{click:function(e){e.stopPropagation(),t.cancel(e)}}},[t._v("取消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){e.stopPropagation(),t.order("indirect")}}},[t._v("订购")])],1):t._e(),t._v(" "),t.isShowOrderInfo?t._e():a("ecm-create-after",{attrs:{orderInfo:t.orderInfo,orderData:t.orderData,isShowCreateInfoP:t.isShowCreateInfoP,orderNumberP:t.orderNumberP},on:{backBuyEcm:t.backup}})],1)},staticRenderFns:[]};var Si=a("VU/8")(Ti,Ii,!1,function(t){a("Nh09")},null,null).exports,Ei={path:"/ecm",name:"ecm",component:j,redirect:"/ecm/ecmDashboard",children:[{path:"ecmDashboard",name:"ecmDashboard",component:le},{path:"ecmList",name:"ecmList",component:Ca,props:{name:u.ecm.ecmPathName,buttonText:u.ecm.ecmButtonName}},{path:"ecmDetail/:serverId",name:"ecmDetail",component:pi,meta:{dependOn:"ecmSub"}},{path:"ecmCreate",name:"ecmCreate",component:Si,meta:{dependOn:"ecmSub",aisdeHide:!0}},{path:"ecmCreateAfter",name:"ecmCreateAfter",component:wi,meta:{dependOn:"ecmSub"}}]},Oi=a("En+4"),Fi={props:{tableData:[Object],loading:[Boolean],form:[Object,String]},components:{ConsoleTable:Te,ConsoleSearch:ge},data:function(){return{btnClose:!0,Pagination:{pagingData:[10,20,50],total:0,show:!1},filter:{satus:"",limit:10,page:1,name:"",id:"",show_attached_volumes_number:1},ecmListData:[]}},methods:{search:function(t){console.log(t),"id"==t.name?(this.filter.status="",this.filter.name="",this.filter.id=t.value,this.filter.keyword=""):(this.filter.status="",this.filter.name="",this.filter.id="",this.filter.keyword=t.value),this.getEcmList()},selectChange:function(t){this.filter.status=t,this.getEcmList()},refresh:function(){this.getEcmList()},clear:function(){this.filter.keyword="",this.filter.name=""},changeTable:function(t){console.log(t),this.changeTableData=t},radioChange:function(t){console.log(t),this.form.data=t},validateForm:function(){var t=this;return new rt.a(function(e,a){t.form.data?e(t.form):(t.$message({message:"请选择一台要挂载的云服务器",type:"error"}),a())})},getEcmList:function(){var t=this;Bt(this.filter).then(function(e){var a=ue()(e.data.results),i=e.data.total_count;a=t.filterServers(a),t.ecmListData=a,t.Pagination.total=i,i>t.Pagination.pagingData[0]&&(t.Pagination.show=!0)}).catch(function(t){console.log(t)})},filterServers:function(t){return t=t.filter(function(t){if("Starting"==t.state)return!0;return t.privateIp="--",!0})},pagingChange:function(t,e){"num"==t?this.filter.limit=e:"page"==t&&(this.filter.page=e),this.getEcmList()}},computed:{fliterData:function(){return this.tableData}},mounted:function(){this.getEcmList(this.filter)}},Li={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{loading:this.loading}},[e("el-row",{staticClass:"action-table ebsAttach"},[e("el-col",{staticStyle:{"margin-bottom":"20px"},attrs:{span:24}},[e("ConsoleSearch",{attrs:{statusOnOff:this.tableData.statusOnOff,options:this.tableData.selectOptions,optionsValue:this.tableData.optionsValue,PublicOperation:this.tableData.ebsPublicOperation,disableData:this.tableData.changeTableData,btnClose:this.btnClose},on:{searchEvent:this.search,refreshEvent:this.refresh,clear:this.clear,selectChange:this.selectChange}})],1)],1),this._v(" "),e("el-row",{staticClass:"action-table ebsAttach"},[e("el-col",[e("console-table",{attrs:{tableData:this.ecmListData,operationOrNot:!1,tableOptions:this.fliterData.option,noEffect:!0,radioShow:!0,height:360,Pagination:this.Pagination},on:{radioChange:this.radioChange,pagingEvent:this.pagingChange}})],1)],1)],1)},staticRenderFns:[]};var Pi=a("VU/8")(Fi,Li,!1,function(t){a("dn8F")},null,null).exports,Ni={components:{RegionList:me,ConsoleTable:Te,ConsoleSearch:ge,ConsoleAction:Qe,AttachAction:Pi,ecmRenew:fa},data:function(){var t=this;return{name:u.ebs.ebsPathName,buttonText:u.ebs.ebsButtonName,loading:!1,ebsdetailRefresh:!1,totalCount:0,num:0,newEbsName:"",ebsListData:[],unRenewList:[],multipleSelection:[],regionData:[],noTimeList:[],changeTableData:[],Pagination:{pagingData:[10,20,50],total:0,show:!1},filter:{status:"",limit:10,page:1,name:"",keyword:"",id:"",attached:""},optionsValue:"",tableOptions:[{prop:"name",label:u.common.name,width:"135px",temp:!0,detail:!0,path:"/ebs/ebsDetail"},{prop:"stateTxt",label:u.common.status,temp:!0,filter:!0,status:!0,selectOptions:[{value:"allocated",text:u.ebs.allocated},{value:"ready",text:u.ebs.ready}]},{prop:"size",label:u.ebs.capacityGB},{prop:"disk_types",label:u.ebs.storageType},{prop:"type",label:u.ebs.diskModel},{prop:"created",label:u.common.createAt}],ebsOperation:[{value:u.ebs.attach,fun:function(e){return t.attach(e)}},{value:u.ebs.detach,fun:function(e){return t.detach(e)}}],ebsPublicOperation:[{value:u.common.renew,disable:!1,title:"请选择云硬盘",fun:function(e){return t.renew(e)}}],renewActionOptions:[{prop:"name",label:u.common.name,temp:!0,detail:!0},{prop:"size",label:u.ebs.capacityGB},{prop:"type",label:u.ebs.type},{prop:"created",label:u.common.createAt},{prop:"stateTxt",label:u.common.status,temp:!0,status:!0}]}},methods:{create:function(){window.open("","_blank").location="/#/ebs/ebsCreate"},buttonClick:function(t,e){t(e)},autoRefresh:function(t,e){var a=this;t&&("string"==typeof t?this.getJobDetail(t,e):Array.isArray(t)?t.map(function(t){console.log(t),t.jobid&&a.getJobDetail(t.jobid)}):console.log(t))},getJobDetail:function(t,e){var a=this;if(!this.ebsdetailRefresh){var i=void 0,n=this;Ie(t).then(function(t){console.log(t);var s=t.data.results[0];if(1==s.jobstatus){var o=s.jobresult.volume;a.filterServers(o);a.ebsListData.map(function(t,e){if(0,t.id==o.id)return o.disk_types=t.disk_types,a.$set(a.ebsListData,e,o),console.log(e,o),a.ebsdetailRefresh=!1,n.filterServers(t),!0})}else 2==s.jobstatus?(clearTimeout(i),a.refresh()):(e&&n.addOperation(e),i=setTimeout(function(){n.getJobDetail(s.jobid)},5e3))}).catch(function(t){a.ebsdetailRefresh=!0,setTimeout(function(){a.refresh()},5e3)})}},attach:function(t){var e=this;if(console.log(t),!(t.virtualmachineid||t.attachments&&t.attachments.length)){console.log("调用挂载");var a={data:{option:[{prop:"name",label:u.common.name,temp:!0,detail:!0},{prop:"status",label:u.common.status,temp:!0,status:!0},{prop:"templatedisplaytext",label:u.common.ims},{prop:"attached_volumes_number",label:u.ebs.attachVoluem},{prop:"privateIp",label:u.common.privateIp}],title:"挂载磁盘",actionTip:"",data:"",selectOptions:[{value:"",label:u.common.allStatus},{value:"Running",label:u.common.active},{value:"Stopped",label:u.common.shutOff}],statusOnOff:!0,optionsValue:""},view:Pi,form:{}},i=this;this.$alertDialog(a).then(function(a){e.loading=!0,console.log(a),za(t.id,a.data.id).then(function(a){console.log(a),e.loading=!1,e.$message({message:"命令下发成功",type:"success"}),t.state="mounting",i.addOperation(t),i.autoRefresh(a.data.results,t)}).catch(function(t){console.log(t),e.loading=!1})})}},detach:function(t){var e=this;if(console.log(t),t.virtualmachineid||t.attachments&&t.attachments.length)if("系统盘"!=t.type){var a=this;jt(t.virtualmachineid?t.virtualmachineid:t.attachments&&t.attachments.length&&t.attachments[0].server_id).then(function(i){if(console.log(i),"Stopped"==i.data.results[0].state){var n={data:{type:"warn",option:"",title:"卸载磁盘",actionTip:["确定要卸载磁盘: ",t.name],data:"",warn:!0},view:Qe,form:{}};a.$alertDialog(n).then(function(i){e.$message({message:"卸载磁盘命令下发成功，请稍后",type:"warning"}),a.loading=!0,Ra(t.id,t.virtualmachineid?t.virtualmachineid:t.attachments&&t.attachments.length&&t.attachments[0].server_id).then(function(e){a.loading=!1,console.log(e),a.$message({message:"卸载磁盘成功。",type:"success"}),t.state="uninstalling",a.addOperation(t),a.autoRefresh(e.data.results,t)}).catch(function(t){a.loading=!1,console.log(t)})})}else a.$message({message:"该磁盘挂载的云服务器未处在关机状态,请先进行关机操作,再进行卸载操作。",type:"error"})}).catch(function(t){a.$message({message:"请先确认磁盘挂载的云服务器的状态再进行卸载。",type:"error"})})}else this.$message({message:"系统盘不允许卸载！",type:"warning"})},createBuckup:function(t){console.log("调用创建备份"),"Ready"!=t.states?this.$message({message:"未挂载的云硬盘不能创建云硬盘备份",type:"warning"}):"error"==t.state?this.$message({message:"错误状态的云硬盘不能创建云硬盘备份",type:"warning"}):this.$router.push({path:"/ebs/bks/bksCreate",query:{ebsId:t.id,name:t.name}})},renew:function(t){var e=this;console.log("调用续订");var a={data:{option:this.renewActionOptions,title:"续订磁盘",actionTip:["以下云硬盘将进行续订操作，续订将会产生续订订单，请于一日内支付订单，否则续订操作失败数据将被清空。","云硬盘"],data:[this.filterData(this.changeTableData,"renew"),this.unRenewList]},view:fa,form:{}};console.log(a),a.data.data[0].length<1?this.$message({message:"您选择的云硬盘都不符合续订条件！",type:"warning"}):this.$alertDialog(a).then(function(t){t.id=[],a.data.data[0].map(function(e){t.id.push(e.id)}),Aa(t).then(function(t){console.log(t),e.$message({message:"命令下发成功",type:"success"}),setTimeout(function(){e.refresh()},4e3)}).catch(function(t){console.log(t)})})},unsubscribe:function(t){var e=this;console.log(t),console.log("调用退订");var a={data:{type:"warn",option:this.renewActionOptions,title:"退订磁盘",actionTip:["确定要退订以下磁盘吗？"]},view:Qe,form:{}};if("退订"==t)a.data.data=this.filterData(this.changeTableData,"unsubscribe");else if(t.state=t.virtualmachineid||t.attachments&&t.attachments.length?"mount":"uninstall",t.with_vm)this.$message({message:"与云服务器一起订购的云硬盘不可单独退订!",type:"warning"});else if("系统盘"==t.type)this.$message({message:"系统盘不可单独退订!",type:"warning"});else if(t.virtualmachineid||t.attachments&&t.attachments.length)this.$message({message:"已挂载的磁盘不可退订,请解绑后再进行退订!",type:"warning"});else{var i=[t];a.data.data=i}"退订"!=t&&t.with_vm||"退订"!=t&&"系统盘"==t.type||"退订"!=t&&(t.virtualmachineid||t.attachments&&t.attachments.length)||(a.data.data.length<1?this.$message({message:"您选择的云硬盘都不符合退订条件！",type:"warning"}):this.$alertDialog(a).then(function(t){var i,n,s=[];a.data.data.map(function(t){s.push(t.id)}),(i=s,n={regionid:F()},Ct({url:"console/refundorder/"+i+"/",method:"post",data:n})).then(function(t){console.log(t),e.$message({message:"命令下发成功",type:"success"}),e.refresh()}).catch(function(t){console.log(t),e.$message({message:"命令下发失败",type:"error"})})}))},filterData:function(t,e){var a=this;a.unRenewList=[];var i=["ERROR","Creating","error","creating"];return t=t.filter(function(t){switch(e){case"renew":return!t.with_vm&&!i.includes(t.state)||(a.unRenewList.push(t),!1);case"unsubscribe":return!t.with_vm&&(!(t.virtualmachineid||msg.attachments&&msg.attachments.length)&&(t.state=t.virtualmachineid||msg.attachments&&msg.attachments.length?"mount":"uninstall"));default:return!t.with_vm}})},changeTable:function(t){console.log(t),this.changeTableData=t;var e=0;this.changeTableData.length>0?(this.changeTableData.filter(function(t){"ERROR"==t.state&&e++}),e==this.changeTableData.length?this.ebsPublicOperation[0].disable=!1:this.ebsPublicOperation[0].disable=!0,this.ebsPublicOperation[0].title=""):(this.ebsPublicOperation[0].disable=!1,this.ebsPublicOperation[0].title="请选择云硬盘")},changeRegion:function(t){Ct.cancle("CancelToken"),this.regionId=t,this.refresh()},getRegion:function(){var t=void 0;if(F())clearTimeout(t),this.changeRegion();else{var e=this;t=setTimeout(function(){e.getRegion()},300)}},getDetail:function(t,e){var a=this,i=this;this.ebsdetailRefresh||$a(t).then(function(t){var n=t.data.results,s=n.length&&n[0]||item;s.no_time&&"1"==s.no_time&&"create"!=e?setTimeout(function(){i.getDetail(s.id)},5e3):"create"==e&&"Creating"==s.state?setTimeout(function(){i.getDetail(s.id,"create")},5e3):(a.filterServers(s),a.ebsListData.map(function(t,e){if(t.id==s.id)return a.$set(a.ebsListData,e,s),!0}),a.addOperation(s),a._.remove(a.noTimeList,function(t){return t.id==s.id}))}).catch(function(t){console.log(t)})},autoRefreshTime:function(t,e){var a=this;t&&("string"==typeof t?this.getDetail(t,e):Array.isArray(t)?t.map(function(t){console.log(t),t.id&&a.getDetail(t.id)}):console.log(t))},getEbsList:function(){var t=this,e=this.filter;this.loading=!0,this.noTimeList=[],Na(e).then(function(e){console.log(e);var a=e.data.results,i=e.data.total_count;t.filterServers(a),t.ebsListData=a,t.noTimeList.length>0&&t.autoRefreshTime(t.noTimeList),t.totalCount=i,t.Pagination.total=i,i>t.Pagination.pagingData[0]&&(t.Pagination.show=!0),t.loading=!1}).catch(function(e){console.log(e.message),"CancelToken"==e.message||(t.loading=!1),console.log(e)})},addOperation:function(t){var e=this,a=["attach"],i=["detach"],n=[{value:u.ebs.attach,id:"attach",fun:function(t){return e.attach(t)}},{value:u.ebs.detach,id:"detach",fun:function(t){return e.detach(t)}}];n.map(function(e){"mount"==t.state&&a.includes(e.id)&&(e.disabled=!0),"uninstall"==t.state&&i.includes(e.id)&&(e.disabled=!0),"mounting"==t.state&&(e.disabled=!0),"uninstalling"==t.state&&(e.disabled=!0),"系统盘"==t.type&&i.includes(e.id)&&(e.disabled=!0)&&(e.title="当前云硬盘为系统盘，不可执行该操作"),t.with_vm&&i.includes(e.id)&&(e.disabled=!0)&&(e.title="与云主机一起购买的云硬盘，不可卸载"),"creating"==t.state&&(e.disabled=!0),"error"==t.state&&(e.disabled=!0),t.expired&&(e.disabled=!0,e.title="当前云硬盘已过期，请续订后再执行操作")}),this.$set(t,"operation",n)},filterServers:function(t){var e=this;Array.isArray(t)?t.forEach(function(t){t.storagetype="shared"==t.storagetype?"是":"否",t.type="DATADISK"==t.type?"数据盘":"系统盘",t.chargeMode="M"==t.cycle_type?"按月":"按年",t.disk_types=t.disk_types?we(t.disk_types):t.volume_type?we(t.volume_type):"--",t.finishAt=t.expire_date?Ce(t.expire_date):"--",t.states=t.state,"ERROR"==t.state||"ERROR"==t.status?t.state="error":"Creating"==t.state||"Creating"==t.status?t.state="creating":t.state=t.virtualmachineid||t.attachments&&t.attachments.length?"mount":"uninstall","cs"==e.regionType&&(t.size=t.size/1024/1024/1024),e.regionType,t.expired=ke(t.finishAt),e.addOperation(t),t.jobid?e.autoRefresh(t.jobid)&&t.name==e.newEcmName&&e.startTimer(t,"clear"):t.id?"creating"==t.state&&e.autoRefreshTime(t.id,"create"):"creating"==t.state&&e.getStarting(t),t.jobid||t.no_time&&"1"==t.no_time&&e.noTimeList.push({id:t.id})}):(t.storagetype="shared"==t.storagetype?"是":"否",t.type="DATADISK"==t.type?"数据盘":"系统盘",t.chargeMode="M"==t.cycle_type?"按月":"按年",t.disk_types=t.disk_types?we(t.disk_types):t.volume_type?we(t.volume_type):"--",t.finishAt=t.expire_date?Ce(t.expire_date):"--",t.states=t.state,"ERROR"==t.state?t.state="error":"Creating"==t.state?t.state="creating":t.state=t.virtualmachineid||t.attachments&&t.attachments.length?"mount":"uninstall","cs"==e.regionType&&(t.size=t.size/1024/1024/1024),t.expired=ke(t.finishAt),e.addOperation(t))},getStarting:function(t,e){this.newEbsName||(this.num+=1,this.startTimer(t))},startTimer:function(t,e){var a=this,i=this;if(!this.ebsdetailRefresh&&this.num<2){if(e)return this.newEbsName="",this.refresh(),void(this.num=0);setTimeout(function(){i.refresh(),a.num=0,i.newEbsName||(i.newEbsName=t.name),i.newEbsName,i.startTimer()},6e4)}},search:function(t){console.log(t),"id"==t.name?(this.filter.status="",this.filter.name="",this.filter.id=t.value,this.filter.keyword=""):(this.filter.status="",this.filter.name="",this.filter.id="",this.filter.keyword=t.value),this.getEbsList()},clear:function(){this.filter.keyword="",this.filter.name="",this.filter.id=""},selectChange:function(t){console.log(t),this.filter.attached="ready"==t?0:"allocated"==t?1:"",this.filter.page=1,console.log(this.filter),this.getEbsList()},refresh:function(){this.filter.name="",this.filter.id="",this.GetRegionNums(),this.getEbsList()},pagingChange:function(t,e){"num"==t?this.filter.limit=e:"page"==t&&(this.filter.page=e),this.loading=!0,this.getEbsList()},GetRegionNums:function(){var t=this;Vt({resource:"volume",regionid:F()}).then(function(e){var a=e.data.results[0].Volume;console.log(a),a&&a.detail&&(t.regionData=a.detail)})}},computed:{regionType:function(){return this.$store.getters.regionType}},mounted:function(){this.getRegion()},beforeDestroy:function(){this.ebsdetailRefresh=!0}},$i={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"ebsmain"},[e("RegionList",{attrs:{name:this.name,regionData:this.regionData,buttonText:this.buttonText},on:{create:this.create,changeRegion:this.changeRegion}}),this._v(" "),e("div",{staticClass:"content"},[e("div",{staticClass:"content_top"},[e("ConsoleSearch",{attrs:{statusOnOff:!0,optionsValue:this.optionsValue,PublicOperation:this.ebsPublicOperation,disableData:this.changeTableData},on:{searchEvent:this.search,refreshEvent:this.refresh,clear:this.clear,PublicOperEvent:this.buttonClick}})],1),this._v(" "),e("div",[e("ConsoleTable",{ref:"childTable",attrs:{checkBox:!0,operationOrNot:!0,selectOrNot:!0,dragable:!0,tableData:this.ebsListData,tableOptions:this.tableOptions,OperationEvents:this.ebsOperation,loading:this.loading,Pagination:this.Pagination},on:{selectChange:this.selectChange,buttonClick:this.buttonClick,changeTable:this.changeTable,pagingEvent:this.pagingChange}})],1)])],1)},staticRenderFns:[]};var Ri=a("VU/8")(Ni,$i,!1,function(t){a("TO+z")},"data-v-7d0de9f8",null).exports,zi={props:{tabOption:[Array,Object]},data:function(){return{activeName:""}},methods:{handleClick:function(t,e){this.$emit("click",t)}},mounted:function(){this.activeName=this.tabOption[0].name}},Ai={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-tabs",{staticClass:"tab-detail-console",attrs:{type:"card"},on:{"tab-click":t.handleClick},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},t._l(t.tabOption,function(e){return a("el-tab-pane",{key:e.name,attrs:{label:e.label,name:e.name}},[t._t(e.name)],2)}))],1)},staticRenderFns:[]};var Mi=a("VU/8")(zi,Ai,!1,function(t){a("zV4Q")},null,null).exports,Vi={props:{serverId:[String],ecmId:[String],attachShow:[Boolean],ebsType:[Boolean],expired:[Boolean],ecmDataList:[Object,Array],ebsDetailData:[Object,Array]},components:{DetailBtn:Pa,ConsoleTable:Te,ConsoleAction:Qe,AttachAction:Pi},data:function(){return{checkBox:!0,selectOrNot:!0,expand:!1,attachDataList:[{name:"--",state:"--",id:"--",equipment:"--",addresses:"--",publicip:"--"}],tableOptions:[{prop:"name",label:u.common.name,temp:!0,detail:!0,path:"/ecm/ecmDetail"},{prop:"stateTxt",label:u.common.status,temp:!0,status:!0},{prop:"id",label:u.common.ID},{prop:"publicip",label:u.common.eip}]}},methods:{attach:function(){var t=this;if(console.log("调用挂载"),this.expired)this.$message({message:"当前云硬盘已过期，请续订后再执行操作！",type:"warning"});else{var e={data:{option:[{prop:"name",label:u.common.name,temp:!0,detail:!0},{prop:"status",label:u.common.status,temp:!0,status:!0},{prop:"templatedisplaytext",label:u.common.ims},{prop:"privateIp",label:u.common.privateIp}],title:"挂载磁盘",actionTip:"",data:"",selectOptions:[{value:"",label:u.common.allStatus},{value:"Running",label:u.common.active},{value:"Stopped",label:u.common.shutOff}],statusOnOff:!0,optionsValue:""},view:Pi,form:{}};this.$alertDialog(e).then(function(e){console.log(e),za(t.$route.params.serverId,e.data.id).then(function(e){console.log(e),t.$message({message:"命令下发成功",type:"success"}),setTimeout(function(){t.$emit("AttachRefresh","attach")},3e3)}).catch(function(t){console.log(t)})})}},detach:function(){var t=this;if(console.log("调用卸载"),console.log(this.attachDataList),this.attachDataList)if(this.expired)this.$message({message:"当前云硬盘已过期，请续订后再执行操作！",type:"warning"});else if(this.ebsType)this.$message({message:"系统盘不允许卸载！",type:"warning"});else if(this.ebsDetailData.with_vm)this.$message({message:"与云主机一起购买的云硬盘，不可卸载！",type:"warning"});else if("Stopped"==this.attachDataList[0].state){var e={data:{type:"warn",option:"",title:"卸载磁盘",actionTip:["确定要卸载磁盘: ",this.ebsDetailData.name],data:"",warn:!0},view:Qe,form:{}};this.$alertDialog(e).then(function(e){Ra(t.$route.params.serverId,t.attachDataList[0].id).then(function(e){console.log(e),t.$message({message:"命令下发成功",type:"success"}),setTimeout(function(){t.$emit("AttachRefresh","detach")},3e3)}).catch(function(t){console.log(t)})})}else this.$message({message:"该磁盘挂载的云服务器未处在关机状态,请先进行关机操作,再进行卸载操作。",type:"error"})}},computed:{renderDetail:function(){return this.attachDataList=this.ecmDataList,console.log(this.attachDataList),this.attachDataList}}},Bi={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticStyle:{background:"#ffffff","min-height":"330px"}},[e("div",{staticClass:"attach_content"},[e("ul",{staticClass:"ebs_operate"},[e("li",{staticClass:"left_title pull_left"}),this._v(" "),e("li",{staticClass:"pull_right"},[this.attachShow?e("span",{staticClass:"btns_basic",on:{click:this.attach}},[this._v("挂载")]):this._e(),this.attachShow?this._e():e("span",{staticClass:"btns_basic",on:{click:this.detach}},[this._v("卸载")])])])]),this._v(" "),e("ConsoleTable",{attrs:{operationOrNot:!1,checkBox:this.checkBox,expand:this.expand,selectOrNot:this.selectOrNot,tableData:this.renderDetail,tableOptions:this.tableOptions}})],1)},staticRenderFns:[]};var ji=a("VU/8")(Vi,Bi,!1,function(t){a("nj9Y")},"data-v-68b4cc1b",null).exports,qi={props:{serverId:[String],ecmId:[String]},components:{DetailBtn:Pa,ConsoleTable:Te},data:function(){return{checkBox:!0,selectOrNot:!0,expand:!1,bksData:[],tableOptions:[{prop:"name",label:u.common.name,temp:!0,detail:!0},{prop:"status",label:u.common.status,temp:!0,status:!0},{prop:"id",label:u.common.ID},{prop:"created",label:u.ebs.time}]}},methods:{getEbsDetailBackup:function(t){var e,a,i=this;(e=t,a={regionid:F(),volume_id:e},Ct({url:"console/ecm/bks/volumebackupdata/",method:"get",params:a})).then(function(t){console.log(t);var e=t.data.results;i.filterServers(e),console.log(e),i.bksData=e}).catch(function(t){console.log(t)})},filterServers:function(t){t.forEach(function(t){t.size=(t.size/1024/1024/1024).toFixed(2),t.status=_e(t.state)||t.state})}},created:function(){this.getEbsDetailBackup(this.serverId)},computed:{tableData:function(){return this.bksData}}},Ui={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticStyle:{background:"#ffffff","min-height":"330px"}},[this._m(0),this._v(" "),e("ConsoleTable",{attrs:{operationOrNot:!1,checkBox:this.checkBox,expand:this.expand,selectOrNot:this.selectOrNot,tableData:this.tableData,tableOptions:this.tableOptions}})],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"attach_content"},[e("ul",{staticClass:"ebs_operate"})])}]};var Hi=a("VU/8")(qi,Ui,!1,function(t){a("xgIu")},"data-v-d92b7ccc",null).exports,Wi={props:{serverId:[String],ecmId:[String]},components:{DetailBtn:Pa,ConsoleTable:Te},data:function(){return{checkBox:!0,selectOrNot:!0,operationOrNot:!0,tableData3:[{status:"可用",name:"王小虎",ID:"123213123123",equipment:"adsads",IPAddress:"172.18.143.236"}],tableOptions:[{prop:"name",label:u.ebs.type,width:"190px"},{prop:"status",label:u.ebs.description,width:"190px"},{prop:"ID",label:u.ebs.operactionPeople,width:"220px"}],ebsAttachPointOperation:[{value:u.ebs.monitorData,fun:"monitorData"}]}},methods:{attach:function(){console.log("调用挂载")},detach:function(){console.log("调用卸载")},buttonClick:function(t){switch(t){case"monitorData":this.monitorData()}}}},Gi={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[this._m(0),this._v(" "),e("ConsoleTable",{attrs:{operationOrNot:this.operationOrNot,checkBox:this.checkBox,selectOrNot:this.selectOrNot,tableData:this.tableData3,tableOptions:this.tableOptions,OperationEvents:this.ebsAttachPointOperation},on:{buttonClick:this.buttonClick}})],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"attach_content"},[e("ul",{staticClass:"ebs_operate"},[e("li",{staticClass:"left_title"},[this._v("备份")])])])}]};var Qi={components:{ConsoleTable:Te,ConsoleDetail:Ia,DetailTab:Mi,ebsDetailAttach:ji,ebsDetailBackup:Hi,ebsDetailLog:a("VU/8")(Wi,Gi,!1,function(t){a("mQjW")},"data-v-551a736e",null).exports,ecmRenew:fa},data:function(){var t=this;return{checkBox:!0,selectOrNot:!0,operationOrNot:!0,attachPoint:Y,attachShow:!0,ebsType:!1,expired:!1,detail_label:"云硬盘详情",detail_image:a("Rt4S"),currentView:"ebsDetailAttach",serverId:"",ecmId:"",ebsDetailData:[],ecmDataList:[],detailList:[{name:"name",label:u.common.name,intro:"--",change:!0},{name:"status",label:u.common.status,intro:"--"},{name:"ims",label:u.common.ims,intro:"--"},{name:"diskId",label:u.ebs.diskId,intro:"--"},{name:"ecmId",label:u.ebs.ecmId,intro:"--"},{name:"diskCapacityGB",label:u.ebs.diskCapacityGB,intro:"--"},{name:"storageType",label:u.ebs.storageType,intro:"--"},{name:"createAt",label:u.common.createAt,intro:"--"},{name:"type",label:u.ebs.diskModel,intro:"--"},{name:"finishAt",label:u.common.finishAt,intro:"--"}],btnMsg:[{value:u.common.renew,disabled:!1,title:"",btnCli:function(){return t.renew()}}],tabOption:[{label:"挂载点",name:"ebsDetailAttach",view:""}]}},methods:{changeEbsName:function(t,e,a){var i=this,n=this;if(t.intro.length>63||t.intro.length<2)this.$message({message:"名称长度为2-63字符",type:"warning"});else if(ia(t.intro))this.$message({message:"名称不能使用中文",type:"warning"});else{Na({status:"",page:1,name:t.intro,attached:""}).then(function(e){var s;if(e.data.results.length>0)i.$message({message:"云硬盘名称重复，请重新输入！",type:"warning"});else{var o={name:t.intro,volume_uuid:n.serverId};(s=o,s.regionid=F(),Ct({url:"console/ecm/ebs/volumes/",method:"put",data:s})).then(function(t){i.$message({message:"云硬盘名称修改成功！",type:"success"}),a(),n.refresh()}).catch(function(t){console.log(t),i.$message({message:"云硬盘名称修改失败，请稍后重试！",type:"warning"})})}}).catch(function(t){console.log(t),i.$message({message:"云硬盘名称查重失败，请稍后重试！",type:"warning"})})}},renew:function(){var t=this;if(console.log("调用续订"),console.log(this.ebsDetailData),this.ebsDetailData.with_vm)this.$message({message:"该云硬盘与云服务器一起购买,不支持单独续订",type:"success"});else{var e={data:{option:[{prop:"name",label:u.common.name,temp:!0,detail:!0},{prop:"diskCapacityGBs",label:u.ebs.capacityGB},{prop:"storageType",label:u.ebs.type},{prop:"created",label:u.common.createAt},{prop:"status",label:u.common.status,temp:!0,status:!0}],title:"续订磁盘",actionTip:["以下云硬盘将进行续订操作，续订将会产生续订订单，请于一日内支付订单，否则续订操作失败数据将被清空。"],data:[[this.ebsDetailData]]},view:fa,form:{}};this.$alertDialog(e).then(function(e){e.id=[t.ebsDetailData.id],Aa(e).then(function(e){console.log(e),t.$message({message:"命令下发成功",type:"success"}),setTimeout(function(){t.refresh()},3e3)}).catch(function(e){console.log(e),t.$message({message:"命令下发失败",type:"error"})})})}},refresh:function(t){this.getEbsDetail(this.$route.params.serverId,t)},attach:function(){console.log("调用挂载")},detach:function(){console.log("调用卸载")},deatilBtnClick:function(t){t()},handleClick:function(t,e){console.log(t,e)},handleSelectionChange:function(t){this.multipleSelection=t},swtichTab:function(t){this.currentView=t.name},getEbsDetail:function(t,e){var a=this,i=this.detailList;$a(t).then(function(t){var n=t.data.results[0];if(a.ecmId=n.virtualmachineid?n.virtualmachineid:n.attachments&&n.attachments.length?n.attachments[0].server_id:"","attach"!=e||a.ecmId)if("detach"==e&&a.ecmId)setTimeout(function(){a.refresh("detach")},3e3);else{a.ecmId?a.getecmDetailById(a.ecmId):(n.ims="--",a.ecmDataList=[]),n.name=n.name||"--",n.sharedStorage_or_not="shared"==n.storagetype?"是":"否",n.state=a.ecmId?"mount":"uninstall",n.status=_e(n.state),a.attachShow=!a.ecmId,n.diskId=n.id,a.ebsType="DATADISK"!=n.type,n.type="DATADISK"==n.type?"数据盘":"系统盘",n.ecmId=a.ecmId||"--",n.chargeType=n.chargeType||"--";var s=n.size;"cs"==a.regionType&&(s=n.size/1024/1024/1024),n.diskCapacityGB=s?s+"GB":"--",n.diskCapacityGBs=s||"--",n.orderDetails=n.orderDetails||"--",n.storageType=n.disk_types?we(n.disk_types):n.volume_type?we(n.volume_type):"--",n.createAt=n.created?Ce(n.created):n.created_at?Ce(n.created_at):"--",n.diskModel=n.diskModel||"--",n.finishAt=n.expire_date?Ce(n.expire_date):"--",a.expired=ke(n.finishAt),i.map(function(t){"ims"!=t.name&&(t.intro=n[t.name])}),a.detail_label=n.name,a.ebsDetailData=n,a.ebsDetailData.with_vm?("系统盘"==a.ebsDetailData.type?a.btnMsg[0].title="系统盘不可单独续订":a.btnMsg[0].title="与云主机一起购买的磁盘不可单独续订",a.btnMsg[0].disabled=!1):a.btnMsg[0].disabled=!0}else setTimeout(function(){a.refresh("attach")},3e3)}).catch(function(t){console.log(t)})},getecmDetailById:function(t){var e=this,a=this.detailList;jt(t).then(function(t){var i=t.data.results[0];if("os"==e.regionType){var n=i.metadata&&i.metadata.image_name||"--";i.templatedisplaytext=n}a.map(function(t){"ims"==t.name&&(t.intro=i.templatedisplaytext)}),i.jobid&&e.autoRefresh(i.jobid),e.ecmDataList=t.data.results}).catch(function(t){console.log(t)})},autoRefresh:function(t){var e=this;t&&("string"==typeof t?this.getJobDetail(t):Array.isArray(t)?t.map(function(t){console.log(t),t.jobid&&e.getJobDetail(t.jobid)}):console.log(t))},getJobDetail:function(t){var e=this,a=this;this.detroyAutoRefresh||kt(t).then(function(t){var i=t.data.results[0];if(1==i.jobstatus){var n=i.jobresult.virtualmachine;e.$set(e.ecmDataList,state,n.state),console.log(n)}else 2==i.jobstatus?(clearTimeout(timer),console.log("失败"),e.getEbsDetail(e.serverId)):setTimeout(function(){a.getJobDetail(i.jobid)},5e3)}).catch(function(t){console.log(t),e.getEbsDetail(e.serverId)})}},computed:{regionType:function(){return this.$store.getters.regionType}},created:function(){this.getEbsDetail(this.$route.params.serverId),this.serverId=this.$route.params.serverId}},Zi={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"box main"},[e("ConsoleDetail",{attrs:{detail_label:this.detail_label,detail_image:this.detail_image,detailList:this.detailList,btnMsg:this.btnMsg,changeName:this.changeEbsName},on:{deatilBtnClick:this.deatilBtnClick}}),this._v(" "),e("detail-tab",{attrs:{tabOption:this.tabOption},on:{click:this.swtichTab}},[e("div",{attrs:{slot:this.currentView},slot:this.currentView},[e(this.currentView,{tag:"component",attrs:{ebsType:this.ebsType,expired:this.expired,ebsDetailData:this.ebsDetailData,attachShow:this.attachShow,serverId:this.serverId,ecmId:this.ecmId,ecmDataList:this.ecmDataList},on:{AttachRefresh:this.refresh}})],1)])],1)},staticRenderFns:[]};var Ji=a("VU/8")(Qi,Zi,!1,function(t){a("o0y8"),a("1xYC")},"data-v-300d1b41",null).exports,Ki={props:{submitForm:[Function],system_type:[String],checked:[Boolean],switchPage:[Function],returnUrl:[String]},components:{},data:function(){return{active:0,current:0,step:"ConsoleConfigure",isCancel:!1}},methods:{monitor:function(){this.$emit("orderEvent")},next:function(){this.isCancel=!0,this.active++,this.current++,this.switchPage(this.active)},prev:function(){this.isCancel=!0,this.active--,this.current--,this.switchPage(this.active)},cancel:function(){this.$router.push({path:this.returnUrl})},create:function(){var t=this;this.submitForm(function(){t.active++,t.current++,t.switchPage(t.active)})}},beforeDestroy:function(){clearTimeout(this.timer)}},Yi={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"create_step"},[e("div",{staticClass:"stepBox"},[e("div",{staticClass:"step_title"},[this._v("创建"+this._s(this.system_type))]),this._v(" "),e("el-row",[e("el-col",{attrs:{span:8}},[e("div",{staticClass:"grid-content bg-purple steptitle_active"},[this._v(this._s(this.system_type))]),this._v(" "),e("i",{staticClass:"step_line step_active"})]),this._v(" "),e("el-col",{attrs:{span:8}},[e("div",{staticClass:"grid-content bg-purple",class:{steptitle_active:this.active>=1}},[this._v("确认信息")]),this._v(" "),e("i",{staticClass:"step_line",class:this.isCancel&&(this.active>=1?"step_active":"step-cancel")})]),this._v(" "),e("el-col",{attrs:{span:8}},[e("div",{staticClass:"grid-content bg-purple",class:{steptitle_active:this.active>=2}},[this._v("提交申请")]),this._v(" "),e("i",{staticClass:"step_line",class:{step_active:this.active>=2}})])],1)],1),this._v(" "),this._t("create_title"),this._v(" "),this._t("confirm_title"),this._v(" "),this._t("submit_title"),this._v(" "),e("div",{class:{buttons:this.active>=2}},[e("el-button",{directives:[{name:"show",rawName:"v-show",value:0==this.active,expression:"active==0"}],staticClass:"pre_step",staticStyle:{"margin-top":"12px"},on:{click:this.cancel}},[this._v("取消")]),this._v(" "),e("el-button",{directives:[{name:"show",rawName:"v-show",value:1==this.active,expression:"active==1"}],staticClass:"pre_step",staticStyle:{"margin-top":"12px"},on:{click:this.prev}},[this._v("上一步")]),this._v(" "),e("el-button",{directives:[{name:"show",rawName:"v-show",value:0==this.active,expression:"active==0"}],staticClass:"next_step",staticStyle:{"margin-top":"12px",color:"#fff"},on:{click:this.monitor}},[this._v("下一步")]),this._v(" "),e("el-button",{directives:[{name:"show",rawName:"v-show",value:1==this.active,expression:"active==1"}],staticClass:"orderBtn",staticStyle:{"margin-top":"12px",color:"#fff"},attrs:{type:"primary",disabled:this.checked},on:{click:this.create}},[this._v("确认下单")])],1)],2)},staticRenderFns:[]};var Xi=a("VU/8")(Ki,Yi,!1,function(t){a("jfWe"),a("XJHq")},"data-v-90da9682",null).exports;function tn(t){var e=void 0;return e=t.name?{limit:t.limit||10,regionid:F(),zoneid:P(),page:t.page||1,status:t.status,name:t.name}:t.id?{limit:t.limit||10,regionid:F(),zoneid:P(),page:t.page||1,status:t.status,id:t.id}:{limit:t.limit||10,regionid:F(),zoneid:P(),page:t.page||1,status:t.status,keyword:t.keyword},console.log(e),Ct({url:"console/ecm/bks/volumebackupdata/",method:"get",params:e})}var en={props:{tableData:[Object],loading:[Boolean],form:[Object,String]},components:{ConsoleTable:Te,ConsoleSearch:ge},data:function(){return{Pagination:{pagingData:[10,20,50],total:0,show:!1},btnClose:!0,filter:{satus:"",limit:10,page:1,name:"",id:"",attached:"",keyword:""},bksListData:[]}},methods:{search:function(t){console.log(t),this.filter.status="",this.filter.name="",this.filter.id="",this.filter.keyword=t.value,this.getBksList()},clear:function(){this.filter.keyword="",this.filter.name=""},selectChange:function(t){this.filter.attached="ready"==t?0:"allocated"==t?1:"",this.filter.page=1,this.filter.status="",this.getBksList()},refresh:function(){this.filter.status="",this.filter.keyword="",this.filter.name="",this.filter.id="",this.filter.attached="",this.getBksList()},radioChange:function(t){console.log(t),this.form.data=t,console.log(this.form)},getBksList:function(){var t=this;tn(this.filter).then(function(e){var a=e.data.results,i=e.data.total_count;t.filterServers(a),t.bksListData=a,t.totalCount=i,t.Pagination.total=i,i>t.Pagination.pagingData[0]&&(t.Pagination.show=!0)}).catch(function(t){console.log(t)})},filterServers:function(t){t.forEach(function(t){t.size=(t.size/1024/1024/1024).toFixed(2),t.statusDetail=_e(t.state)||t.state,t.selectCorrectAZ=t.zonename||"--",t.restartOrNot=t.zonename||"--",t.describe=t.describe||"--"})},pagingChange:function(t,e){"num"==t?this.filter.limit=e:"page"==t&&(this.filter.page=e),this.getBksList()}},computed:{fliterData:function(){return this.tableData}},mounted:function(){this.getBksList(this.filter)}},an={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{loading:this.loading}},[e("el-row",{staticClass:"action-table"},[e("el-col",{staticStyle:{"margin-bottom":"20px"},attrs:{span:24}},[e("ConsoleSearch",{attrs:{statusOnOff:this.tableData.statusOnOff,options:this.tableData.selectOptions,optionsValue:this.tableData.optionsValue,PublicOperation:this.tableData.ebsPublicOperation,disableData:this.tableData.changeTableData,btnClose:this.btnClose},on:{searchEvent:this.search,clear:this.clear,refreshEvent:this.refresh,selectChange:this.selectChange}})],1)],1),this._v(" "),e("el-row",{staticClass:"action-table"},[e("el-col",[e("console-table",{attrs:{tableData:this.bksListData,operationOrNot:!1,tableOptions:this.fliterData.option,noEffect:!0,height:380,bksradioShow:!0,Pagination:this.Pagination},on:{radioChange:this.radioChange,pagingEvent:this.pagingChange}})],1)],1)],1)},staticRenderFns:[]};var nn=a("VU/8")(en,an,!1,function(t){a("xpYR")},"data-v-b90682b0",null).exports,sn={components:{BksAttachAction:nn,slideScale:xi},data:function(){return{temp:14,scaleWidth:60,maxCreate:0,volumeSize_min:0,volumeSize_max:0,regionList:[],storageTypeList:[],ruleForm:{name:"",bksName:"",bksId:"",resourceType:"",regionName:"",uuid:"",bksCreate:!1,size:30,storageType:"普通IO",dataType:"",chargeType:"包年/包月",ebsNumber:1,broadband:6,broadbandMsg:"6个月",price:"0.00",cycleType:"Y",cycleCnt:1},createNumberInfo:{btnType:"primary",btnIcon:"",broadbandMin:1,broadbandMax:14,showInput:!0,num:2},rules:{name:[{required:!0,message:"请输入磁盘名称",trigger:"blur"},{min:1,max:63,message:"长度在 1 到 63 个字符",trigger:"blur"},{validator:function(t,e,a){e.length>63||e.length<2?a(new Error("长度为2-63字符")):ia(e)?a(new Error("不能使用中文")):Na({status:"",page:1,name:e,attached:""}).then(function(t){t.data.results.length>0?a(new Error("云硬盘名称重复，请重新输入！")):a()}).catch(function(t){console.log(t)})},trigger:"blur"}],resourceType:[{required:!0,message:"请选择地域",trigger:"change"}],type:[{type:"Boolean",required:!1,message:"请至少选择一个活动性质",trigger:"change"}],bksName:[{required:!0,message:"请输入备份源名称",trigger:"blur"},{min:3,max:255,message:"长度在 3 到 255 个字符",trigger:"blur"}],size:[{required:!0,message:"请选择可用区",trigger:"change"}],storageType:[{required:!0,message:"请选择可用区",trigger:"change"}],chargeType:[{required:!0,message:"请选择可用区",trigger:"change"}],ebsNumber:[{required:!0,message:"请选择可用区",trigger:"change"}]}}},methods:{regionChange:function(t){Ct.cancle("CancelToken"),console.log(t),this.storageTypeList=[],this.ruleForm.regionName=t.name,this.ruleForm.uuid=t.uuid,this.storageTypeList=t.details.storage_type,this.ruleForm.storageType=t.details.storage_type[0].name,this.ruleForm.dataType=t.details.storage_type[0].type,O(t.uuid),L(t.details.zoneId),$(t.details.hasVnc)},dian190:function(t){46!=(window.event?event.keyCode:event.which)||event.preventDefault()},getRegionList:function(){var t=this;this.regionList=this.$store.state.user.regionList,console.log(this.regionList),this.ruleForm.uuid=F(),this.ruleForm.resourceType=F(),this.regionList.forEach(function(e){e.uuid==t.ruleForm.uuid&&(t.ruleForm.regionName=e.name,t.storageTypeList=e.details.storage_type,t.ruleForm.storageType=e.details.storage_type[0].name,t.ruleForm.dataType=e.details.storage_type[0].type)})},ofterCallback:function(t){this.ruleForm.broadband=t,12==t?(this.ruleForm.broadbandMsg="1年",this.ruleForm.cycleCnt=1,this.ruleForm.cycleType="Y"):13==t?(this.ruleForm.cycleCnt=2,this.ruleForm.broadbandMsg="2年",this.ruleForm.cycleType="Y"):14==t?(this.ruleForm.broadbandMsg="3年",this.ruleForm.cycleCnt=3,this.ruleForm.cycleType="Y"):(this.ruleForm.cycleType="M",this.ruleForm.cycleCnt=this.ruleForm.broadband,this.ruleForm.broadbandMsg=this.ruleForm.broadband+"个月")},storageChange:function(t){var e=this.storageTypeList.filter(function(e){if(e.name==t)return!0});console.log(e),this.ruleForm.storageType=t,this.ruleForm.dataType=e[0].type},chargeChange:function(t){this.ruleForm.chargeType=t},numChange:function(t){this.ruleForm.ebsNumber=t},sizeChange:function(t){this.ruleForm.size=t},order:function(){var t=this;this.$refs.ruleForm.validate(function(e){e?(!0,t.$emit("orderResult",!0,t.ruleForm)):t.$emit("orderResult",!1,"")})},selectBks:function(t){t&&this.$route.query.id&&(this.ruleForm.bksName=this.$route.query.name+"("+this.$route.query.id+")",this.ruleForm.bksId=this.$route.query.id)},queryQuotas:function(){var t=this;He().then(function(e){console.log(e.data.results);var a=e.data.returnObj;t.maxCreate=a.volume_limit_each_time?a.volume_limit_each_time-0:"",t.volumeSize_min=a.volume_size_lower_limit?a.volume_size_lower_limit-0:"",t.volumeSize_max=a.volume_size_limit?a.volume_size_limit-0:""}).catch(function(t){console.log(t)})},chooseBks:function(){var t={data:{option:[{prop:"name",label:u.common.nameOrID,temp:!0,detail:!0},{prop:"status",label:u.common.status,temp:!0,status:!0},{prop:"size",label:u.ebs.capacityGB},{prop:"created",label:u.common.createAt}],title:"选择备份",actionTip:"",data:"",selectOptions:[{value:"",label:u.common.allStatus},{value:"allocated",label:u.ebs.allocated},{value:"ready",label:u.ebs.ready}],statusOnOff:!0,optionsValue:""},view:nn,form:{}},e=this;this.$alertDialog(t).then(function(t){console.log(t),e.ruleForm.bksName=t.data.name+"("+t.data.id+")",e.ruleForm.bksId=t.data.id})},openHelp:function(){open("http://www.ctyun.cn/help")}},mounted:function(){this.getRegionList(),this.$route.query.id&&(this.ruleForm.bksCreate=!0,this.ruleForm.bksName=this.$route.query.name+"("+this.$route.query.id+")",this.ruleForm.bksId=this.$route.query.id),this.ruleForm.name="ebs-"+xt();var t=this.$store.state.user.user.quotas;console.log(t),t.volume_limit_each_time&&t.volume_size_lower_limit&&t.volume_size_limit?(this.maxCreate=t.volume_limit_each_time-0,this.volumeSize_min=t.volume_size_lower_limit-0,this.volumeSize_max=t.volume_size_limit-0):this.queryQuotas()}},on={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"create_title"},[a("el-container",[a("el-main",{staticClass:"padding-left"},[a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:t.ruleForm,size:"small",rules:t.rules,"label-width":"100px","label-position":"left"}},[a("el-form-item",{attrs:{label:"地域：",prop:"resourceType",required:""}},[a("el-radio-group",{attrs:{size:"medium",fill:"#f9cc76"},model:{value:t.ruleForm.resourceType,callback:function(e){t.$set(t.ruleForm,"resourceType",e)},expression:"ruleForm.resourceType"}},t._l(t.regionList,function(e,i){return a("el-radio-button",{key:i,staticClass:"radio-group-btn",attrs:{label:e.uuid},nativeOn:{change:function(a){t.regionChange(e)}}},[t._v(t._s(e.name))])}))],1),t._v(" "),a("el-form-item",{attrs:{label:"磁盘名称：",prop:"name"}},[a("el-input",{staticStyle:{width:"180px"},model:{value:t.ruleForm.name,callback:function(e){t.$set(t.ruleForm,"name","string"==typeof e?e.trim():e)},expression:"ruleForm.name"}}),t._v(" "),a("el-tooltip",{attrs:{content:"不能使用中文,且长度为2-63字符",placement:"right"}},[a("i",{staticClass:"el-icon-question"})])],1),t._v(" "),a("el-form-item",{attrs:{label:"容量(GB)：",prop:"size"}},[a("el-input-number",{attrs:{"controls-position":"right",step:10,min:5,max:2048},on:{change:t.sizeChange},nativeOn:{keypress:function(e){t.dian190(e)}},model:{value:t.ruleForm.size,callback:function(e){t.$set(t.ruleForm,"size",e)},expression:"ruleForm.size"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"磁盘类型：",prop:"storageType"}},[a("el-radio-group",{attrs:{size:"medium",fill:"#f9cc76"},on:{change:t.storageChange},model:{value:t.ruleForm.storageType,callback:function(e){t.$set(t.ruleForm,"storageType",e)},expression:"ruleForm.storageType"}},t._l(t.storageTypeList,function(t,e){return a("el-radio-button",{key:e,staticClass:"radio-group-btn",attrs:{label:t.name}})}))],1),t._v(" "),a("el-form-item",{attrs:{label:"付费方式：",prop:"chargeType"}},[a("el-radio-group",{attrs:{size:"medium",fill:"#f9cc76"},on:{change:t.chargeChange},model:{value:t.ruleForm.chargeType,callback:function(e){t.$set(t.ruleForm,"chargeType",e)},expression:"ruleForm.chargeType"}},[a("el-radio-button",{staticClass:"radio-group-btn",attrs:{label:"包年/包月"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"数量：",prop:"ebsNumber"}},[a("el-input-number",{attrs:{"controls-position":"right",min:1,max:t.maxCreate},on:{change:t.numChange},nativeOn:{keypress:function(e){t.dian190(e)}},model:{value:t.ruleForm.ebsNumber,callback:function(e){t.$set(t.ruleForm,"ebsNumber",e)},expression:"ruleForm.ebsNumber"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"创建时长：",required:""}},[a("slideScale",{attrs:{cycleCnt:t.ruleForm.broadband},on:{ofterCallback:t.ofterCallback}})],1)],1)],1),t._v(" "),a("el-aside",{attrs:{width:"200px"}},[a("div",{staticClass:"currentInfo"},[a("h4",[t._v("当前配置")]),t._v(" "),a("div",{staticClass:"message"},[a("dl",[a("dt",[t._v("地域：")]),t._v(" "),a("dd",[t._v(t._s(t.ruleForm.regionName?t.ruleForm.regionName:"--"))])]),t._v(" "),a("dl",[a("dt",[t._v("磁盘名称：")]),t._v(" "),a("dd",[t._v(t._s(t.ruleForm.name?t.ruleForm.name:"--"))])]),t._v(" "),t.ruleForm.bksCreate?a("dl",[a("dt",[t._v("备份源：")]),t._v(" "),a("dd",[t._v(t._s(t.ruleForm.bksName?t.ruleForm.bksName:"--"))])]):t._e(),t._v(" "),a("dl",[a("dt",[t._v("容量：")]),t._v(" "),a("dd",[t._v(t._s(t.ruleForm.size))])]),t._v(" "),a("dl",[a("dt",[t._v("磁盘类型：")]),t._v(" "),a("dd",[t._v(t._s(t.ruleForm.storageType))])]),t._v(" "),a("dl",[a("dt",[t._v("付费方式：")]),t._v(" "),a("dd",[t._v(t._s(t.ruleForm.chargeType))])]),t._v(" "),a("dl",[a("dt",[t._v("数量：")]),t._v(" "),a("dd",[t._v(t._s(t.ruleForm.ebsNumber))])]),t._v(" "),a("dl",[a("dt",[t._v("创建时长：")]),t._v(" "),a("dd",[t._v(t._s(t.ruleForm.broadbandMsg))])])]),t._v(" "),a("el-button",{staticClass:"prepaid",attrs:{type:"warning",icon:"el-icon-check"}},[t._v("预付费")])],1)])],1)],1)},staticRenderFns:[]};var rn={components:{ConsoleCreate:Xi,ConsoleConfirm:fi,ConsoleSuccess:bi,EbsCreateFirst:a("VU/8")(sn,on,!1,function(t){a("D297"),a("Vvfu")},"data-v-9aabc076",null).exports},data:function(){return{page:0,checked:!1,name:"云硬盘",returnUrl:"/ebs/ebsList",order_number:"",tableData:{system_name:"",elseData:[{system_type:"云硬盘",length:"1",num:"1",confirmData:[]}],tableOptions:[{prop:"length",label:u.ebs.length},{prop:"num",label:u.ebs.Number}]},ruleFormData:""}},methods:{orderEvent:function(){this.$refs.createOrder.order()},goProtocol:function(){window.open("http://www.ctyun.cn/term/ecs")},orderResult:function(t,e){console.log(t),t&&(this.ruleFormData=e,console.log(this.ruleFormData),this.$refs.createProcess.next())},nextPage:function(t){console.log(t),this.page=t,1==t&&(this.ruleFormData.bksName?this.tableData.elseData=[{system_type:"云硬盘",length:this.ruleFormData.broadbandMsg,num:this.ruleFormData.ebsNumber,confirmData:[{label:u.common.resourceNodes,value:this.ruleFormData.regionName},{label:u.common.name,value:this.ruleFormData.name},{label:u.ebs.bks,value:this.ruleFormData.bksName},{label:u.ebs.storageType,value:this.ruleFormData.storageType},{label:u.ebs.capacity,value:this.ruleFormData.size}]}]:this.tableData.elseData=[{system_type:"云硬盘",length:this.ruleFormData.broadbandMsg,num:this.ruleFormData.ebsNumber,confirmData:[{label:u.common.resourceNodes,value:this.ruleFormData.regionName},{label:u.common.name,value:this.ruleFormData.name},{label:u.ebs.storageType,value:this.ruleFormData.storageType},{label:u.ebs.capacity,value:this.ruleFormData.size}]}],this.tableData.system_name=this.ruleFormData.name)},submitForm:function(t){var e=this,a=(F(),{});a=this.ruleFormData.bksId?{datahd:this.ruleFormData.size,dataType:this.ruleFormData.dataType,volumeName:this.ruleFormData.name,orderNum:this.ruleFormData.ebsNumber,cycleType:this.ruleFormData.cycleType,cycleCnt:this.ruleFormData.cycleCnt,backupId:this.ruleFormData.bksId,regionid:this.ruleFormData.uuid,zoneId:P()}:{datahd:this.ruleFormData.size,dataType:this.ruleFormData.dataType,volumeName:this.ruleFormData.name,orderNum:this.ruleFormData.ebsNumber,cycleType:this.ruleFormData.cycleType,cycleCnt:this.ruleFormData.cycleCnt,regionid:this.ruleFormData.uuid,zoneId:P()};var i,n=this.$loading({lock:!0,text:"拼命创建中",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});(i=a,Ct({url:"console/ecm/ecs/addvolume/",method:"post",data:i})).then(function(a){console.log(a),n.close(),e.order_number=a.data.returnObj.so_number,e.$message({message:"命令下发成功",type:"success"}),t()}).catch(function(t){n.close(),console.log(t)})}}},ln={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"createEbs"},[a("ConsoleCreate",{ref:"createProcess",attrs:{returnUrl:t.returnUrl,system_type:t.name,switchPage:t.nextPage,checked:!t.checked,submitForm:t.submitForm},on:{orderEvent:t.orderEvent}},[a("div",{directives:[{name:"show",rawName:"v-show",value:0==t.page,expression:"page==0"}],staticClass:"create_title",attrs:{slot:"create_title"},slot:"create_title"},[a("EbsCreateFirst",{ref:"createOrder",on:{orderResult:t.orderResult}})],1),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:1==t.page,expression:"page==1"}],staticClass:"confirm_title",attrs:{slot:"confirm_title"},slot:"confirm_title"},[a("div",{staticStyle:{padding:"20px 0","background-color":"#fff","font-size":"12px",color:"#333"}},[t._v("资源详情")]),t._v(" "),a("ConsoleConfirm",{attrs:{tableData:t.tableData}}),t._v(" "),a("div",{staticClass:"Agreement_component"},[a("p",[a("el-checkbox",{staticClass:"checkedTip",model:{value:t.checked,callback:function(e){t.checked=e},expression:"checked"}},[t._v("我已阅读并同意相关协议")]),t._v(" "),a("span",{staticClass:"agreement",on:{click:t.goProtocol}},[t._v("《 天翼云弹性云服务器服务等级协议 》")])],1)])],1),t._v(" "),2===t.page?a("div",{staticClass:"submit_title",attrs:{slot:"submit_title"},slot:"submit_title"},[a("ConsoleSuccess",{attrs:{return_url:t.returnUrl,order_number:t.order_number,system_type:t.name,system_name:t.tableData.system_name}})],1):t._e()])],1)},staticRenderFns:[]};var cn=a("VU/8")(rn,ln,!1,function(t){a("cYB5"),a("I0ix")},"data-v-d89e4f2e",null).exports,un={path:"ebs",name:"ecmEbs",component:Oi.default,redirect:"ebs/ebsList",children:[{path:"ebsList",name:"ecmEbsList",component:Ri},{path:"ebsDetail/:serverId",name:"ecmEbsDetail",component:Ji,meta:{dependOn:"ecmEbsSub"}},{path:"ebsCreate",name:"ecmEbsCreate",component:cn,meta:{dependOn:"ecmEbsSub",aisdeHide:!0}}]},dn=void 0,pn={components:{RegionList:me,ConsoleTable:Te,ConsoleSearch:ge,ConsoleAction:Qe},data:function(){var t=this;return{name:u.bks.backupList,buttonText:u.bks.createBackup,buttonTexts:"",loading:!1,detailRefresh:!1,bksListData:[],multipleSelection:[],Pagination:{pagingData:[10,15,20],total:0,show:!1},NameOptions:[{value:"name",label:u.common.disname},{value:"id",label:u.common.ID}],filter:{satus:"",limit:10,page:1,keyword:"",name:"",id:""},options:[{value:"",label:u.common.allStatus},{value:"BackedUp",label:u.bks.available},{value:"Error",label:u.common.errorStatus}],optionsValue:"",tableOptions:[{prop:"name",label:u.common.name,temp:!0,detail:!0},{prop:"status",label:u.common.status,temp:!0,status:!0},{prop:"volumename",label:u.bks.diskName},{prop:"size",label:u.bks.diskCapacityGB},{prop:"created",label:u.common.createAt}],detilOptions:[{prop:"name",label:u.common.name},{prop:"volumename",label:u.bks.diskName},{prop:"id",label:u.common.ID},{prop:"volumeid",label:u.ebs.diskId},{prop:"statusDetail",label:u.common.status},{prop:"size",label:u.bks.diskCapacityGB},{prop:"created",label:u.common.createAt},{prop:"describe",label:u.bks.describe}],ebsOperation:[{value:u.bks.restore,fun:function(e){return t.restore(e)}},{value:u.bks.deleter,fun:function(e){return t.deleter(e)}}]}},methods:{handleClick:function(){},create:function(){this.$router.push({path:"/ebs/bks/bksCreate"})},strategy:function(){console.log("备份策略")},clear:function(){this.filter.keyword="",this.filter.name=""},buttonClick:function(t,e){t(e)},restore:function(t){var e=this;console.log(t),console.log("调用恢复"),$a(t.volumeid).then(function(a){if(console.log(a),"Stopped"==a.data.results[0].vmstate){var i=[];i.push(t);var n={data:{option:[{prop:"name",label:u.common.name,temp:!0,detail:!0},{prop:"status",label:u.common.status,temp:!0,status:!0},{prop:"volumename",label:u.bks.diskName},{prop:"size",label:u.bks.diskCapacityGB},{prop:"created",label:u.common.createAt}],title:"恢复数据",type:"warn",actionTip:["确定要用一下备份恢复磁盘数据吗？","该操作将使用备份时间点数据覆盖磁盘数据，一旦执行无法取消！"],data:i},view:Qe,form:{}};e.$alertDialog(n).then(function(a){console.log("huifu");var i,n,s={volume_id:t.volumeid};(i=s,n=t.id,i.regionid=F(),Ct({url:"console/ecm/ebs/volumebackups/"+n+"/",method:"post",data:i})).then(function(t){console.log(t),e.$message({message:"命令下发成功",type:"success"})}).catch(function(t){e.$message({message:"命令下发失败",type:"error"})})})}else e.$message({message:"该磁盘挂载的云服务器未处在关机状态，请执行关机操作再进行恢复数据操作",type:"warning"})}).catch(function(t){e.$message({message:"请求云服务器状态失败，请稍后再试",type:"warning"})})},createDisk:function(t){console.log("调用创建"),console.log(t),this.$router.push({path:"/ebs/ebsCreate",query:{name:t.name,id:t.id}})},deleter:function(t){var e=this;console.log("调用删除");var a={data:{title:"删除",actionTip:["确认要删除备份"],warn:!0,data:t}};Array.isArray(t)&&(a.data.warn=!1);var i=this,n=t.id;this.$alertDialog(a).then(function(t){var a,s;console.log(t),(a=n,s={regionid:F()},Ct({url:"console/ecm/ebs/volumebackups/"+a+"/",method:"delete",data:s})).then(function(t){console.log(t),e.$message({message:"快照删除成功。",type:"warning"});for(var a=0,s=0;s<i.bksListData.length;s++)if(n==i.bksListData[s].id){a=s;break}i.bksListData.splice(a,1)}).catch(function(t){console.log(t)})})},addOperation:function(t){var e=this,a=["deleter"],i=["restore"],n=[{value:u.bks.restore,id:"restore",fun:function(t){return e.restore(t)}},{value:u.bks.deleter,id:"deleter",fun:function(t){return e.deleter(t)}}];n.map(function(e){"BackingUp"==t.state&&a.includes(e.id)&&(e.disabled=!0),"BackingUp"==t.state&&i.includes(e.id)&&(e.disabled=!0)}),this.$set(t,"operation",n)},changeRegion:function(t){this.regionId=t,this.getBksList()},getRegion:function(){var t=void 0;if(F())clearTimeout(t),this.changeRegion();else{var e=this;t=setTimeout(function(){e.getRegion()},300)}},autoRefresh:function(t){var e=this;t&&t.map(function(t){console.log(t),e.getJobDetail(t)})},getJobDetail:function(t){var e=this;if(!this.detailRefresh){var a=this;dn&&clearTimeout(dn);var i,n,s={regionid:F()};s.zoneId=P(),s.id=t,console.log(s),(i=s,n={regionid:F(),id:i.id,zoneid:i.zoneId},Ct({url:"console/ecm/bks/volumebackupdata/",method:"get",params:n})).then(function(e){var i=e.data.results[0];console.log(i),"BackingUp"!=i.state?(i.size=(i.size/1024/1024/1024).toFixed(2),i.statusDetail=_e(i.state)||i.state,i.selectCorrectAZ=i.zonename||"--",i.restartOrNot=i.zonename||"--",i.describe=i.description||"--",a.addOperation(i),a.bksListData.map(function(t,e){if(t.id==i.id)return console.log(i),a.$set(a.bksListData,e,i),console.log(e,server),!0})):dn=setTimeout(function(){a.getJobDetail(t)},5e3)}).catch(function(t){console.log("error",t),e.detailRefresh=!0,dn=setTimeout(function(){e.refresh()},5e3)})}},getBksList:function(){var t=this,e=this.filter;this.loading=!0,tn(e).then(function(e){console.log(e);var a=e.data.results,i=e.data.total_count;t.filterServers(a),t.bksListData=a,t.totalCount=i,t.Pagination.total=i,i>t.Pagination.pagingData[0]&&(t.Pagination.show=!0),t.loading=!1;var n=[];a.filter(function(t){if("BackingUp"!=t.state)return!1;n.push(t.id)}),n.length>0&&t.autoRefresh(n)}).catch(function(e){t.loading=!1,console.log(e)})},filterServers:function(t){var e=this;t.forEach(function(t){t.size=(t.size/1024/1024/1024).toFixed(2),t.statusDetail=_e(t.state)||t.state,t.selectCorrectAZ=t.zonename||"--",t.restartOrNot=t.zonename||"--",t.describe=t.description||"--",e.addOperation(t)})},detailClick:function(t){},search:function(t){console.log(t),"id"==t.name?(this.filter.status="",this.filter.name="",this.filter.id=t.value,this.filter.keyword=""):(this.filter.status="",this.filter.name="",this.filter.id="",this.filter.keyword=t.value),this.getBksList()},selectChange:function(t){this.filter.status=t,this.filter.page=1,this.getBksList()},refresh:function(){this.filter.status="",this.filter.keyword="",this.filter.name="",this.filter.id="",this.getBksList()},pagingChange:function(t,e){"num"==t?this.filter.limit=e:"page"==t&&(this.filter.page=e),this.getBksList()}},computed:{},mounted:function(){this.getRegion()},beforeDestroy:function(){this.detailRefresh=!0}},mn={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"main"},[e("RegionList",{attrs:{name:this.name,buttonText:this.buttonText,buttonTexts:this.buttonTexts,type:"os"},on:{create:this.create,strategy:this.strategy,changeRegion:this.changeRegion}}),this._v(" "),e("div",{staticClass:"content"},[e("div",{staticClass:"content_top"},[e("ConsoleSearch",{attrs:{statusOnOff:!0,options:this.options,NameOptions:this.NameOptions,optionsValue:this.optionsValue},on:{searchEvent:this.search,clear:this.clear,refreshEvent:this.refresh,selectChange:this.selectChange}})],1),this._v(" "),e("div",[e("ConsoleTable",{attrs:{checkBox:!0,expand:!0,operationOrNot:!0,selectOrNot:!0,tableData:this.bksListData,tableOptions:this.tableOptions,detilOptions:this.detilOptions,noEffect:!0,OperationEvents:this.ebsOperation,loading:this.loading,Pagination:this.Pagination},on:{buttonClick:this.buttonClick,detailClick:this.detailClick,pagingEvent:this.pagingChange}})],1)])],1)},staticRenderFns:[]};var hn=a("VU/8")(pn,mn,!1,function(t){a("2aZx"),a("y5Ea")},"data-v-9b62d052",null).exports,fn={props:{tableData:[Object],loading:[Boolean],form:[Object,String]},components:{ConsoleTable:Te,ConsoleSearch:ge},data:function(){return{Pagination:{pagingData:[10,20,50],total:0,show:!1},btnClose:!0,filter:{satus:"",limit:10,page:1,name:"",id:"",attached:"",keyword:""},ebsListData:[]}},methods:{clear:function(){this.filter.keyword="",this.filter.name=""},search:function(t){console.log(t),"id"==t.name?(this.filter.status="",this.filter.name="",this.filter.id=t.value,this.filter.keyword=""):(this.filter.status="",this.filter.name="",this.filter.id="",this.filter.keyword=t.value),this.getEbsList()},selectChange:function(t){this.filter.attached="ready"==t?0:"allocated"==t?1:"",this.filter.page=1,this.filter.status="",this.getEbsList()},refresh:function(){this.filter.status="",this.filter.keyword="",this.filter.name="",this.filter.id="",this.filter.attached="",this.getEbsList()},radioChange:function(t){console.log(t),this.form.data=t,console.log(this.form)},getEbsList:function(){var t=this;Na(this.filter).then(function(e){var a=e.data.results,i=e.data.total_count;t.filterServers(a),t.ebsListData=a,t.totalCount=i,t.Pagination.total=i,i>t.Pagination.pagingData[0]&&(t.Pagination.show=!0)}).catch(function(t){console.log(t)})},filterServers:function(t){t.forEach(function(t){t.storagetype="shared"==t.storagetype?"是":"否",t.type="DATADISK"==t.type?"数据盘":"系统盘",t.states=t.state,"Error"==t.state?t.state="error":t.state=t.virtualmachineid?"mount":"uninstall",t.size=t.size/1024/1024/1024})},pagingChange:function(t,e){"num"==t?this.filter.limit=e:"page"==t&&(this.filter.page=e),this.getEbsList()}},computed:{fliterData:function(){return this.tableData}},mounted:function(){this.getEbsList(this.filter)}},vn={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"action-bks",attrs:{loading:this.loading}},[e("el-row",{staticClass:"action-table"},[e("el-col",{staticStyle:{"margin-bottom":"20px"},attrs:{span:24}},[e("ConsoleSearch",{attrs:{statusOnOff:this.tableData.statusOnOff,options:this.tableData.selectOptions,optionsValue:this.tableData.optionsValue,PublicOperation:this.tableData.ebsPublicOperation,disableData:this.tableData.changeTableData,btnClose:this.btnClose},on:{searchEvent:this.search,refreshEvent:this.refresh,clear:this.clear,selectChange:this.selectChange}})],1)],1),this._v(" "),e("el-row",{staticClass:"action-table bksAction"},[e("el-col",[e("console-table",{attrs:{tableData:this.ebsListData,operationOrNot:!1,tableOptions:this.fliterData.option,noEffect:!0,radioShows:!0,height:280,Pagination:this.Pagination},on:{radioChange:this.radioChange,pagingEvent:this.pagingChange}})],1)],1)],1)},staticRenderFns:[]};var gn=a("VU/8")(fn,vn,!1,function(t){a("D9X+")},null,null).exports,bn={components:{AttachAction:gn},data:function(){return{ebsId:"",name:"",ruleForm:{name:"",diskName:"",desc:"",ebsId:""},rules:{name:[{required:!0,message:"请输入磁盘名称",trigger:"blur"},{min:3,max:16,message:"长度在 3 到 16 个字符",trigger:"blur"},{validator:function(t,e,a){tn({status:"",page:1,name:e,attached:""}).then(function(t){t.data.results.length>0?a(new Error("云硬盘快照名称重复，请重新输入！")):a()}).catch(function(t){console.log(t)})},trigger:"blur"}],diskName:[{required:!0,message:"请选择磁盘",trigger:"blur"}]}}},methods:{chooseDisk:function(){var t=this;console.log("选择磁盘");var e={data:{option:[{prop:"name",label:u.common.nameOrID,temp:!0,detail:!0},{prop:"status",label:u.common.status,temp:!0,status:!0},{prop:"size",label:u.ebs.capacityGB},{prop:"created",label:u.common.createAt}],title:"选择磁盘",actionTip:"",data:"",selectOptions:[{value:"",label:u.common.allStatus},{value:"allocated",label:u.ebs.allocated},{value:"ready",label:u.ebs.ready}],statusOnOff:!0,optionsValue:""},view:gn,form:{}};this.$alertDialog(e).then(function(e){console.log(e),t.ruleForm.diskName=e.data.name+"("+e.data.id+")",t.ruleForm.ebsId=e.data.id})},order:function(){var t=this;this.$refs.ruleForm.validate(function(e){e?(!0,t.$emit("orderResult",!0,t.ruleForm)):t.$emit("orderResult",!1,"")})},addEbs:function(t,e){this.ruleForm.diskName=e+"("+t+")",this.ruleForm.ebsId=t},openHelp:function(){open("http://www.ctyun.cn/help")}},created:function(){this.ebsId=this.$route.query.ebsId,this.name=this.$route.query.name,this.ebsId&&this.addEbs(this.ebsId,this.name),this.ruleForm.name="bks-"+xt()}},_n={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"create_title"},[a("el-container",[a("el-main",{staticClass:"padding-left"},[a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:t.ruleForm,rules:t.rules,"label-width":"100px","label-position":"left",size:"small"}},[a("el-form-item",{attrs:{label:"名称：",prop:"name"}},[a("el-input",{staticStyle:{width:"180px"},model:{value:t.ruleForm.name,callback:function(e){t.$set(t.ruleForm,"name","string"==typeof e?e.trim():e)},expression:"ruleForm.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"磁盘：",prop:"diskName"}},[a("el-input",{staticStyle:{width:"180px"},attrs:{disabled:"disabled"},model:{value:t.ruleForm.diskName,callback:function(e){t.$set(t.ruleForm,"diskName",e)},expression:"ruleForm.diskName"}}),t._v(" "),a("el-button",{attrs:{type:"warning"},on:{click:t.chooseDisk}},[t._v("选择磁盘")])],1),t._v(" "),a("el-form-item",{attrs:{label:"描述",prop:"desc"}},[a("el-input",{attrs:{type:"textarea"},model:{value:t.ruleForm.desc,callback:function(e){t.$set(t.ruleForm,"desc",e)},expression:"ruleForm.desc"}})],1)],1)],1),t._v(" "),a("el-aside",{attrs:{width:"200px"}},[a("div",{staticClass:"currentInfo"},[a("h4",[t._v("当前配置")]),t._v(" "),a("div",{staticClass:"message"},[a("dl",[a("dt",[t._v("名称：")]),t._v(" "),a("dd",[t._v(t._s(t.ruleForm.name?t.ruleForm.name:"--"))])]),t._v(" "),a("dl",[a("dt",[t._v("磁盘：")]),t._v(" "),a("dd",[t._v(t._s(t.ruleForm.diskName?t.ruleForm.diskName:"--"))])]),t._v(" "),a("dl",[a("dt",[t._v("描述：")]),t._v(" "),a("dd",[t._v(t._s(t.ruleForm.desc?t.ruleForm.desc:"--"))])])]),t._v(" "),a("a",{staticClass:"link",on:{click:t.openHelp}},[t._v("了解云硬盘快照功能")])])])],1)],1)},staticRenderFns:[]};var yn={components:{ConsoleCreate:Xi,ConsoleConfirm:fi,ConsoleSuccess:bi,BksCreateFirst:a("VU/8")(bn,_n,!1,function(t){a("/ysT"),a("WSHa")},"data-v-450fcf50",null).exports},data:function(){return{page:0,checked:!1,name:"云硬盘快照",return_url:"/ebs/bks/bksList",ebsID:"",Agreement:{url:"http://www.baidu.com",name:"<<服务协议>>"},tableData:{system_name:"",elseData:[{system_type:"快照",num:"1",confirmData:[]}],tableOptions:[{prop:"num",label:u.ebs.Number}]},ruleFormData:""}},methods:{orderEvent:function(){this.$refs.createOrder.order()},goProtocol:function(){window.open("http://www.ctyun.cn/term/vbs")},orderResult:function(t,e){console.log(t),t&&(this.ruleFormData=e,console.log(this.ruleFormData),this.$refs.createProcess.next())},nextPage:function(t){console.log(t),this.page=t,1==t&&(this.tableData.elseData=[{system_type:"备份",num:"1",confirmData:[{label:u.common.name,value:this.ruleFormData.name},{label:u.ebs.disk,value:this.ruleFormData.diskName},{label:u.bks.describe,value:this.ruleFormData.desc}]}],this.tableData.system_name=this.ruleFormData.name)},submitForm:function(t){var e=this;this.ebsID=this.ruleFormData.ebsId;var a,i={name:this.ruleFormData.name,description:this.ruleFormData.desc,volume_id:this.ebsID};(a=i,a.regionid=F(),Ct({url:"console/ecm/ebs/volumebackups/",method:"post",data:a})).then(function(a){console.log(a),200==a.data.code?(e.$message({message:"命令下发成功",type:"success"}),t()):e.$message({showClose:!0,message:a.data.reason||a.data.msg,type:"error"})}).catch(function(t){console.log(t),e.$message({message:"命令下发失败",type:"error"})})}}},wn={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("ConsoleCreate",{ref:"createProcess",attrs:{system_type:t.name,switchPage:t.nextPage,checked:!t.checked,submitForm:t.submitForm},on:{orderEvent:t.orderEvent}},[a("div",{directives:[{name:"show",rawName:"v-show",value:0==t.page,expression:"page==0"}],staticClass:"create_title",attrs:{slot:"create_title"},slot:"create_title"},[a("BksCreateFirst",{ref:"createOrder",on:{orderResult:t.orderResult}})],1),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:1==t.page,expression:"page==1"}],staticClass:"confirm_title",attrs:{slot:"confirm_title"},slot:"confirm_title"},[a("div",{staticStyle:{padding:"20px 0","background-color":"#fff"}},[t._v("资源详情")]),t._v(" "),a("ConsoleConfirm",{attrs:{tableData:t.tableData}}),t._v(" "),a("div",{staticClass:"Agreement_component"},[a("p",[a("el-checkbox",{model:{value:t.checked,callback:function(e){t.checked=e},expression:"checked"}},[t._v("我已阅读并同意相关协议")]),t._v(" "),a("span",{staticClass:"agreement",on:{click:t.goProtocol}},[t._v("《 云硬盘备份服务协议 》")])],1)])],1),t._v(" "),2===t.page?a("div",{staticClass:"submit_title",attrs:{slot:"submit_title"},slot:"submit_title"},[a("ConsoleSuccess",{attrs:{return_url:t.return_url,orderWay:!0,system_type:t.name,system_name:t.tableData.system_name}})],1):t._e()])],1)},staticRenderFns:[]};var Cn=a("VU/8")(yn,wn,!1,function(t){a("A4gB"),a("s1/E")},"data-v-2142cc9e",null).exports,kn={path:"bks",name:"ecmEks",component:Oi.default,redirect:"bks/bksList",children:[{path:"bksList",name:"ecmEksList",component:hn},{path:"bksCreate",name:"ecmEksCreate",component:Cn}]},xn={props:{form:[Object],tableData:[Object]},data:function(){var t=this;return{name:{name:"",desc:""},rules:{name:[{required:!0,message:"请输入名称",trigger:"blur"},{validator:function(e,a,i){if(a.length>63||a.length<2)i(new Error("长度为2-63字符"));else if(ia(a))i(new Error("不能使用中文"));else{var n=!1;if(t.tableData.desc){var s=t.tableData.rowData;s.description!=t.name.desc&&s.name==t.name.name&&(n=!0)}n?i():t.tableData.data.find(function(t){return t.name==a})?i(new Error("名字有重复，请重新输入")):i()}},trigger:"blur"}]}}},computed:{labelName:function(){return this.tableData.labelName||"名称"}},methods:{validateForm:function(){return this.form.name=this.name.name,this.tableData.desc&&(this.form.desc=this.name.desc),this.$refs.actionForm.validate()}},mounted:function(){this.tableData.path&&(this.name.name=this.tableData.path+"-"+xt()),this.tableData.desc&&(this.name.name=this.tableData.rowData.name,this.name.desc=this.tableData.rowData.description)}},Dn={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"nameCreate"},[a("el-form",{ref:"actionForm",attrs:{model:t.name,"label-width":"20%",size:"mini",rules:t.rules}},[a("el-form-item",{attrs:{label:t.labelName+" :",prop:"name"}},[a("el-input",{staticStyle:{width:"200px"},model:{value:t.name.name,callback:function(e){t.$set(t.name,"name","string"==typeof e?e.trim():e)},expression:"name.name"}}),t._v(" "),a("el-tooltip",{attrs:{"popper-class":"editSnapTip",content:"不能使用中文,且长度为2-63字符",placement:"bottom"}},[a("i",{staticClass:"el-icon-question"})])],1),t._v(" "),t.tableData.desc?a("el-form-item",{attrs:{label:"描述 :"}},[a("el-input",{staticStyle:{width:"200px"},model:{value:t.name.desc,callback:function(e){t.$set(t.name,"desc","string"==typeof e?e.trim():e)},expression:"name.desc"}})],1):t._e()],1)],1)},staticRenderFns:[]};var Tn=a("VU/8")(xn,Dn,!1,function(t){a("MBVZ"),a("VZZ8")},"data-v-db409360",null).exports,In={components:{RegionList:me,ConsoleSearch:ge,ConsoleTable:Te},data:function(){var t=this;return{name:"镜像",loading:!1,quotaShow:!1,regionData:[],buttonText:[{label:"创建私有镜像",id:"createPrivateIms",fun:function(){return t.createPrivateIms()}}],imsTypeList:[{label:"公共镜像",value:1},{label:"私有镜像",value:0}],optionsValue:"",NameOptions:[{value:"name",label:u.common.name}],PublicOperation:[{value:u.common.delete,fun:function(e){t.deleteKey(e)}}],changeTableData:[],filter:{page:1,limit:10,id:"",name:"",visibility:1},imsList:[],Pagination:{pagingData:[10,20,50],total:0,show:!1}}},methods:{changeRegion:function(){Ct.cancle("CancelToken"),this.getEcmImsList(),this.getRegionNums()},refresh:function(){this.filter.name="",this.filter.id="",this.getEcmImsList(),this.getRegionNums()},createPrivateIms:function(){window.open("/#/ecm/ims/createPrivateIms")},createEbs:function(t){console.log("申请云服务器"),console.log(t);var e=window.open();e.opener=null,e.location.href="/#/ecm/ecmCreate?imageid="+t.id+"&visibility="+this.filter.visibility},changIms:function(){this.quotaShow=!this.filter.visibility,this.getEcmImsList()},create:function(t){t()},editIms:function(t){var e=this,a={data:{title:"修改镜像",path:"KeyPair",data:this.imsList,rowData:t,desc:!0},form:{},view:Tn};this.$alertDialog(a).then(function(a){if(t.name!=a.name||(t.description?t.description!=a.desc:""!=a.desc)){a.id=t.id,console.log(a);var i,n=e.$loading({lock:!0,text:"正在下发命令，请稍后……",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});(i=a,i.regionid=F(),Ct({url:"console/ecm/ecs/images/",method:"put",data:i})).then(function(t){n.close(),e.$message({message:"镜像修改成功！",type:"success"}),e.refresh()}).catch(function(t){n.close(),console.log(t)})}})},deleteIms:function(t){var e=this,a={data:{title:u.common.delete,actionTip:["确认删除镜像"+t.name+"吗？"],warn:!0}};this.$alertDialog(a).then(function(a){var i=e.$loading({lock:!0,text:"正在下发命令，请稍后……",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});Gt(t.id).then(function(t){i.close(),e.$message({message:"镜像删除成功！",type:"success"}),e.refresh()}).catch(function(t){i.close(),console.log(t)})})},search:function(t){this.filter[t.name]=t.value,this.getEcmImsList()},aciton:function(t,e){var a=this,i=[{prop:"name",label:u.common.name,temp:!0,linkProp:!0},{prop:"system",label:u.ecm.systemName},{prop:"disk_size",label:u.ebs.systemDiskSize},{prop:"created_at",label:u.common.createAt}],n={data:{title:u.common.delete,type:"warn",data:[this.changeTableData,[]],actionTip:["确定要删除一下镜像吗？","此镜像删除之后不可恢复，也不能用于共享和创建云主机"],option:i}},s=[];this.changeTableData.map(function(t){s.push(t.id)}),this.$alertDialog(n).then(function(t){var e=a.$loading({lock:!0,text:"正在下发命令，请稍后……",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});Gt(s).then(function(t){e.close(),a.$message({message:"镜像删除成功！",type:"success"}),a.refresh()}).catch(function(t){e.close(),console.log(t)})})},changeTable:function(t){this.changeTableData=t},handleClick:function(t,e){t(e)},getEcmImsList:function(){var t=this;this.loading=!0,Wt(this.filter).then(function(e){var a=e.data.results,i=e.data.total_count;t.Pagination.total=i,i>t.Pagination.pagingData[0]&&(t.Pagination.show=!0),t.filterIms(a),t.imsList=a,t.loading=!1}).catch(function(e){"CancelToken"==e.message||(t.loading=!1),console.log(e)})},getRegionNums:function(){var t=this;Vt({resource:"image",regionid:F()}).then(function(e){var a=e.data.results[0].IMAGE;console.log(a),a&&a.detail&&(t.regionData=a.detail)})},filterIms:function(t){var e={active:"正常",queed:"创建中"};Array.isArray(t)&&t.map(function(t){t.size=t.size/1024/1024/1024,t.stateTxts=t.status?e[t.status]:"--",t.system=t.os_type?1==t.os_type?"Linux":"Windows":"--",t.source=t.instance_uuid?'云服务器(<a class="linkTag" href="/#/ecm/ecmDetail/'+t.instance_uuid+'">'+t.instance_name+"</a>)":"云服务器",t.showNum=2})},pagingChange:function(t,e){"num"==t?this.filter.limit=e:"page"==t&&(this.filter.page=e),this.loading=!0,this.refresh()}},computed:{options:function(){var t=this,e={tableOptions:[],detailOptions:[],operation:[]},a=[{prop:"name",label:u.common.name,temp:!0,linkProp:!0},{prop:"stateTxts",label:u.common.status},{prop:"system",label:u.ecm.systemName},{prop:"disk_size",label:u.ebs.systemDiskSize}],i=[{prop:"name",label:u.common.name},{prop:"id",label:u.ecm.imsUuid},{prop:"disk_size",label:u.ebs.systemDiskSize},{prop:"system",label:u.ecm.systemName},{prop:"created_at",label:u.common.createAt},{prop:"description",label:u.vpc.displaytext}],n=[{value:"申请云服务",fun:function(e){return t.createEbs(e)}}],s=[{value:"修改",fun:function(e){return t.editIms(e)}},{value:"删除",fun:function(e){return t.deleteIms(e)}}],o={prop:"created_at",label:u.common.createAt},r=[{prop:"size",label:u.ecm.imsSize},{prop:"source",html:!0,label:u.ecm.imsSourece}];return 0==this.filter.visibility&&(a.push(o),n=n.concat(s),r.unshift(4,0),Array.prototype.splice.apply(i,r)),e.tableOptions=a,e.detailOptions=i,e.operation=n,e},btnText:function(){var t=void 0;return 1==this.filter.visibility&&(t="公共镜像说明<a href='#'>定价说明</a>"),t}},mounted:function(){0==this.$route.query.visibility&&(this.filter.visibility=this.$route.query.visibility),this.changeRegion()}},Sn={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("RegionList",{attrs:{name:t.name,buttonText:t.buttonText,regionData:t.regionData,type:"os"},on:{create:t.create,changeRegion:t.changeRegion}}),t._v(" "),a("div",{staticClass:"content"},[a("div",{staticClass:"content_tab"},[a("el-radio-group",{attrs:{size:"medium"},on:{change:t.changIms},model:{value:t.filter.visibility,callback:function(e){t.$set(t.filter,"visibility",e)},expression:"filter.visibility"}},t._l(t.imsTypeList,function(e){return a("el-radio-button",{key:e.value,attrs:{label:e.value}},[t._v(t._s(e.label))])}))],1),t._v(" "),a("div",{staticClass:"content_top"},[a("ConsoleSearch",{attrs:{optionsValue:t.optionsValue,statusOnOff:!1,PublicOperation:t.PublicOperation,disableData:t.changeTableData,NameOptions:t.NameOptions,btnText:t.btnText},on:{searchEvent:t.search,PublicOperEvent:t.aciton,refreshEvent:t.refresh}})],1),t._v(" "),t.quotaShow?a("div",{staticClass:"content-quota"},[t._v("\n\t\t\t你还可以创建0个镜像\n\t\t")]):t._e(),t._v(" "),a("div",[a("ConsoleTable",{attrs:{checkBox:!t.filter.visibility,expand:!0,operationOrNot:!0,selectOrNot:!0,tableData:t.imsList,tableOptions:t.options.tableOptions,detilOptions:t.options.detailOptions,noEffect:!0,OperationEvents:t.options.operation,loading:t.loading,Pagination:t.Pagination},on:{changeTable:t.changeTable,buttonClick:t.handleClick,pagingEvent:t.pagingChange}})],1)])],1)},staticRenderFns:[]};var En=a("VU/8")(In,Sn,!1,function(t){a("yObd"),a("cjmN")},"data-v-2f832d9a",null).exports,On={components:{ConsoleTable:Te},props:{actionTip:[Array],form:[Object]},data:function(){return{loading:!1,ecmListData:[],filter:{status:"",limit:10,page:1,keyword:"",id:""},Pagination:{pagingData:[10,20,50],total:0,show:!1},option:[{prop:"name",label:"名称",temp:!0,linkProp:!0},{prop:"stateTxt",label:"状态",temp:!0,status:!0},{prop:"templatedisplaytext",label:"镜像"},{prop:"privateIp",label:"私有IP地址"}],unOperationShow:!1}},methods:{OpenData:function(){this.unOperationShow=!this.unOperationShow},radioChange:function(t){console.log(t),this.form.rowData=t},filterServers:function(t){t.map(function(t){var e=t.addresses[t.metadata.vpcname],a=_.find(e,{"OS-EXT-IPS:type":"fixed"});t.privateIp=a?a.addr:"--",t.templatedisplaytext=t.metadata&&t.metadata.image_name||"--"})},getEcmList:function(){var t=this,e=this.filter;this.loading=!0,Bt(e).then(function(e){var a=ue()(e.data.results),i=e.data.total_count;t.filterServers(a),t.ecmListData=a,t.Pagination.total=t.totalCount,i>t.Pagination.pagingData[0]&&(t.Pagination.show=!0),t.loading=!1}).catch(function(e){"CancelToken"==e.message||(t.loading=!1),console.log(e)})},pagingChange:function(t,e){"num"==t?this.filter.limit=e:"page"==t&&(this.filter.page=e),this.loading=!0,this.getEcmList()},validateForm:function(){var t=this;return new rt.a(function(e,a){t.form.rowData?e(t.form):(t.$message({message:"请选择一台云服务器",type:"error"}),a())})}},computed:{filterData:function(){return this.ecmListData.filter(function(t){return"shutoff"==t.status.toLowerCase()})},unOperationData:function(){return this.ecmListData.filter(function(t){return"shutoff"!==t.status.toLowerCase()})}},mounted:function(){this.getEcmList()}},Fn={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"action-ims"},[e("el-row",{staticClass:"action-tip bg"},[e("el-row",{staticClass:"action-tip-title",domProps:{innerHTML:this._s(this.actionTip[0])}})],1),this._v(" "),e("el-row",[e("console-table",{attrs:{tableData:this.filterData,loading:this.loading,operationOrNot:!1,tableOptions:this.option,noEffect:!0,radioShow:!0,Pagination:this.Pagination},on:{radioChange:this.radioChange,pagingEvent:this.pagingChange}}),this._v(" "),this.unOperationData.length>0?e("p",{staticClass:"unOperationTip"},[this._v("\n\t\t\t\t以下云服务器不可"+this._s(this.actionTip[2])+",\n\t\t\t\t"),this.unOperationShow?this._e():e("span",{on:{click:this.OpenData}},[this._v("点击查看")]),this._v(" "),this.unOperationShow?e("span",{on:{click:this.OpenData}},[this._v("点击关闭")]):this._e()]):this._e(),this._v(" "),this.unOperationShow?e("console-table",{staticClass:"unOperationTable",attrs:{tableData:this.unOperationData,operationOrNot:!1,tableOptions:this.option,noEffect:!0}}):this._e()],1)],1)},staticRenderFns:[]};var Ln=a("VU/8")(On,Fn,!1,function(t){a("fLke")},"data-v-407edeb2",null).exports,Pn={components:{ConsoleSuccess:bi},data:function(){return{successTip:{system_type:"私有镜像",returnUrl:"/ecm/ims/imsList",params:{visibility:0},system_name:""},success:!1,ims:{sourceType:"ecm",sourceTypes:[{value:"ecm",label:"云服务器"}],image_name:"",ecm:"",desc:""},rules:{sourceType:[{required:!0,message:"请选择源",trigger:"blur,change"}],ecm:[{required:!0,message:"请选择云服务器",trigger:"blur,change"}],image_name:[{required:!0,message:"请填写镜像名称",trigger:"blur,change"}]}}},methods:{validateForm:function(){return this.$refs.imsForm.validate()},chooseEcm:function(){var t=this,e={data:{title:"选择云服务器",actionTip:['1.当前关机状态的云主机才可以用来创建私有镜像，如果选择的云主机状态是"运行中",请先关机。请勿在创建镜像过程中对选择的云主机及相关联资源进行其他操作。<br/>2.如需使用一键式密码重置功能，需要安装密码重置插件。',"","用来创建私有镜像"]},view:Ln,form:{}};this.$alertDialog(e).then(function(e){console.log(e),t.ims.ecm=e.rowData,t.getebsDetailById(e.rowData.id)})},getebsDetailById:function(t){var e=this;qt(t).then(function(t){var a=t.data.results,i=(t.data.total_count,a.find(function(t){return"DATADISK"!==t.type})),n=i?i.size+" GB":"--";e.$set(e.ims.ecm,"rootSize",n)}).catch(function(t){console.log(t)})},getEcmDetailById:function(t){var e=this;jt(t).then(function(t){var a=t.data.results[0];a.templatedisplaytext=a.metadata&&a.metadata.image_name,e.ims.ecm=a})},createPrivate:function(){var t=this;this.validateForm().then(function(e){var a,i={instance_uuid:t.ims.ecm.id,image_name:t.ims.image_name,desc:t.ims.desc},n=t.$loading({lock:!0,text:"正在下发命令，请稍后……",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});(a=i,a.regionid=F(),Ct({url:"console/ecm/ecs/images/",method:"post",data:a})).then(function(e){n.close(),t.success=!0,t.successTip.system_name=t.ims.image_name}).catch(function(t){console.log(t),n.close()})}).catch(function(t){console.log(t)})},cancel:function(){this.$router.push({path:"/ecm/ims/imsList",query:{visibility:0}})}},computed:{},mounted:function(){var t=this.$route.query.instance_uuid;t&&(this.getEcmDetailById(t),this.getebsDetailById(t))}},Nn={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"create-private"},[t.success?t._e():a("div",{staticClass:"createfirst"},[a("el-row",{staticClass:"create-title"},[a("span",[t._v("创建镜像")])]),t._v(" "),a("el-row",{staticClass:"create-form"},[a("el-form",{ref:"imsForm",staticClass:"imsForm",attrs:{model:t.ims,"label-width":"80px",size:"mini",rules:t.rules,"label-position":"left"}},[a("el-form-item",{attrs:{label:"源 :",prop:"sourceType"}},t._l(t.ims.sourceTypes,function(e){return a("el-radio",{key:e.value,attrs:{label:e.value},model:{value:t.ims.sourceType,callback:function(e){t.$set(t.ims,"sourceType",e)},expression:"ims.sourceType"}},[t._v(t._s(e.label))])})),t._v(" "),a("el-form-item",{staticClass:"imsForm-item",attrs:{label:"云主机 :",prop:"ecm"}},[a("el-input",{attrs:{disabled:""},nativeOn:{click:function(e){t.chooseEcm(e)}},model:{value:t.ims.ecm.name,callback:function(e){t.$set(t.ims.ecm,"name",e)},expression:"ims.ecm.name"}}),t._v(" "),a("el-button",{staticClass:"chooseBtn",attrs:{size:"mini"},nativeOn:{click:function(e){t.chooseEcm(e)}}},[t._v("选择云服务器")])],1),t._v(" "),t.ims.ecm.name?a("el-form-item",{staticClass:"imsForm-item"},[a("el-row",{staticClass:"ecm-detail"},[a("el-col",[t._v("云主机详情")]),t._v(" "),a("el-col",[t._v("名称："+t._s(t.ims.ecm.name||"--"))]),t._v(" "),a("el-col",[t._v("操作系统："+t._s(t.ims.ecm.templatedisplaytext||"--"))]),t._v(" "),a("el-col",[t._v("系统盘："+t._s(t.ims.ecm.rootSize||"--"))])],1)],1):t._e(),t._v(" "),a("el-form-item",{staticClass:"imsForm-item",attrs:{label:"名称 :",prop:"image_name"}},[a("el-input",{model:{value:t.ims.image_name,callback:function(e){t.$set(t.ims,"image_name",e)},expression:"ims.image_name"}})],1),t._v(" "),a("el-form-item",{staticClass:"content-required",attrs:{label:"描述 :"}},[a("el-input",{attrs:{type:"textarea",rows:4,resize:"none"},model:{value:t.ims.desc,callback:function(e){t.$set(t.ims,"desc",e)},expression:"ims.desc"}})],1)],1)],1),t._v(" "),a("el-row",{staticClass:"create-btn"},[a("el-button",{attrs:{size:"medium"},on:{click:t.cancel}},[t._v("取消")]),t._v(" "),a("el-button",{staticClass:"iscreate",attrs:{size:"medium"},on:{click:t.createPrivate}},[t._v("立即创建")])],1)],1),t._v(" "),t.success?a("div",{staticClass:"createSecond submit_title"},[a("ConsoleSuccess",{attrs:{system_type:t.successTip.system_type,return_url:t.successTip.returnUrl,system_name:t.successTip.system_name,params:t.successTip.params,orderWay:!0}})],1):t._e()])},staticRenderFns:[]};var $n=a("VU/8")(Pn,Nn,!1,function(t){a("QODl"),a("XLTo")},"data-v-f622282a",null).exports,Rn={path:"ims",name:"ims",component:Oi.default,redirect:"ims/imsList",children:[{path:"imsList",name:"imsList",component:En},{path:"createPrivateIms",name:"createPrivateIms",component:$n,meta:{dependOn:"ecmImsSub",aisdeHide:!0}}]},zn=zn||"undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob&&navigator.msSaveOrOpenBlob.bind(navigator)||function(t){if("undefined"==typeof navigator||!/MSIE [1-9]\./.test(navigator.userAgent)){var e=t.document,a=function(){return t.URL||t.webkitURL||t},i=e.createElementNS("http://www.w3.org/1999/xhtml","a"),n=!t.externalHost&&"download"in i,s=t.webkitRequestFileSystem,o=t.requestFileSystem||s||t.mozRequestFileSystem,r=function(e){(t.setImmediate||t.setTimeout)(function(){throw e},0)},l="application/octet-stream",c=0,u=[],d=function(){for(var t,e=u.length;e--;)"string"==typeof(t=u[e])?a().revokeObjectURL(t):t.remove();u.length=0},p=function(t,e,a){var i,n;for(i=(e=[].concat(e)).length;i--;)if("function"==typeof(n=t["on"+e[i]]))try{n.call(t,a||t)}catch(t){r(t)}},m=function(r,d){var m,h,f,v,g,b=this,_=r.type,y=!1,w=function(){var t=a().createObjectURL(r);return u.push(t),t},C=function(){p(b,"writestart progress write writeend".split(" "))},k=function(){if(!y&&m||(m=w()),h)h.location.href=m;else{var t=window.open(m,"_blank");t.opener=null,t.location=m}b.readyState=b.DONE,C()},x=function(t){return function(){if(b.readyState!==b.DONE)return t.apply(this,arguments)}},D={create:!0,exclusive:!1};if(b.readyState=b.INIT,d||(d="download"),n)return m=w(),i.href=m,i.download=d,v=i,(g=e.createEvent("MouseEvents")).initMouseEvent("click",!0,!1,t,0,0,0,0,0,!1,!1,!1,!1,0,null),v.dispatchEvent(g),b.readyState=b.DONE,void C();t.chrome&&_&&_!==l&&(f=r.slice||r.webkitSlice,r=f.call(r,0,r.size,l),y=!0),s&&"download"!==d&&(d+=".download"),(_===l||s)&&(h=t),o?(c+=r.size,o(t.TEMPORARY,c,x(function(t){t.root.getDirectory("saved",D,x(function(t){var e=function(){t.getFile(d,D,x(function(t){t.createWriter(x(function(e){e.onwriteend=function(e){h.location.href=t.toURL(),u.push(t),b.readyState=b.DONE,p(b,"writeend",e)},e.onerror=function(){var t=e.error;t.code!==t.ABORT_ERR&&k()},"writestart progress write abort".split(" ").forEach(function(t){e["on"+t]=b["on"+t]}),e.write(r),b.abort=function(){e.abort(),b.readyState=b.DONE},b.readyState=b.WRITING}),k)}),k)};t.getFile(d,{create:!1},x(function(t){t.remove(),e()}),x(function(t){t.code===t.NOT_FOUND_ERR?e():k()}))}),k)}),k)):k()},h=m.prototype,f=function(t,e){return new m(t,e)};return h.abort=function(){this.readyState=this.DONE,p(this,"abort")},h.readyState=h.INIT=0,h.WRITING=1,h.DONE=2,h.error=h.onwritestart=h.onprogress=h.onwrite=h.onabort=h.onerror=h.onwriteend=null,t.addEventListener("unload",d,!1),f.unload=function(){d(),t.removeEventListener("unload",d,!1)},f}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content);String.prototype.endsWithAny=function(){var t,e=Array.prototype.slice.call(arguments),a=this.toLowerCase().toString();for(t=0;t<e.length;t++)if(-1!==a.indexOf(e[t],a.length-e[t].length))return!0;return!1};var An={props:{form:[Object],tableData:[Object]},data:function(){var t=this;return{keyForm:{filename:"",text:"",name:""},rules:{filename:[{required:!0,trigger:"blur,change",message:"请输入密钥对名称"},{validator:function(e,a,i){t.tableData.data.find(function(t){return t.name==a})?i(new Error("名称重复，请重新输入")):i()},trigger:"blur,change"}],text:[{required:!0,trigger:"blur,change",message:"请输入密钥"},{min:1,max:1024,trigger:"blur,change",message:"长度在1到1024个字符"},{validator:function(e,a,i){t.tableData.data.find(function(t){var e=t.public_key;return(e=e.substr(0,e.length-" Generated-by-Nova\n".length))==a})?i(new Error("密钥已存在，请重新导入")):i()},trigger:"blur,change"}]}}},methods:{validateForm:function(){return this.form.name=this.keyForm.filename,this.form.public_key=this.keyForm.text,this.$refs.keyForm.validate()},changeFile:function(t){this.keyForm=function(t){var e,a,i,n,s,o,r,l,c={text:"",name:"",filename:""};if((e=t.target).files)return(r=e.files[0])?(c.name=r.name.substring(0,r.name.indexOf(".")),c.filename=r.name.substring(0,r.name.indexOf(".")),r&&((l=new FileReader).onload=function(t){var e=t.target.result;c.text=e},l.readAsText(r,"UTF-8")),c):(c.name="",void(c.filename="未选择任何文件"));if(a=e.value){i=a.lastIndexOf("\\")||a.lastIndexOf("/"),n=a.substring(i+1),c.name=n.substring(0,r.name.indexOf(".")),c.filename=n.substring(0,r.name.indexOf(".")),s="";try{s=(o=new ActiveXObject("Scripting.FileSystemObject").OpenTextFile(a,1)).ReadAll(),o.Close()}catch(t){return void console.log("未启动插件")}c.text=s}else c.name="",c.filename="未选择任何文件"}(t)}},computed:{fileDisplayname:function(){return this.keyForm.name||"未选择任何文件"}},mounted:function(){this.tableData.path&&(this.keyForm.filename=this.tableData.path+"-"+xt())}},Mn={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"importKey-content"},[a("el-row",{staticClass:"key-words"},[a("el-col",{staticClass:"key-type"},[t._v("\n\t\t\t导入公钥有两种方式："),a("br"),t._v("\n\t\t\t1、选择文件导入，导入成功后，可以修改公钥名称。"),a("br"),t._v("\n\t\t\t2、复制内容到“公钥内容”文本框，手动输入公钥名称。\n\t\t")]),t._v(" "),a("el-col",{staticClass:"key-desc",attrs:{span:2}},[t._v("说明：")]),t._v(" "),a("el-col",{staticClass:"key-desc",attrs:{span:21}},[t._v("\n\t\t\t1、最多支持1024字符长度（包括1024字符）的公钥导入；"),a("br"),t._v("\n\t\t\t2、仅支持RSA类型的密钥。\n\t\t")])],1),t._v(" "),a("el-form",{ref:"keyForm",attrs:{"label-width":"90px",model:t.keyForm,rules:t.rules,size:"mini"}},[a("el-form-item",{attrs:{label:"文件 :"}},[a("div",{staticClass:"fileContent"},[a("span",{staticClass:"file-name"},[t._v(t._s(t.fileDisplayname))]),t._v(" "),a("span",{staticClass:"file-btn"},[t._v("选择文件")]),t._v(" "),a("input",{attrs:{type:"file"},on:{change:function(e){t.changeFile(e)}}})])]),t._v(" "),a("el-form-item",{attrs:{label:"名称 :",prop:"filename"}},[a("el-input",{model:{value:t.keyForm.filename,callback:function(e){t.$set(t.keyForm,"filename",e)},expression:"keyForm.filename"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"公钥内容 :",prop:"text"}},[a("el-input",{staticClass:"areaWidth",attrs:{type:"textarea",autosize:{minRows:2,maxRows:6},resize:"none",rows:6},model:{value:t.keyForm.text,callback:function(e){t.$set(t.keyForm,"text",e)},expression:"keyForm.text"}})],1)],1)],1)},staticRenderFns:[]};var Vn=a("VU/8")(An,Mn,!1,function(t){a("sich"),a("4Tlq")},"data-v-16e4f13f",null).exports,Bn={components:{RegionList:me,ConsoleSearch:ge,ConsoleTable:Te},data:function(){var t=this;return{name:"密钥对",loading:!1,regionData:[],buttonText:[{label:"创建秘钥对",id:"createKey",fun:function(){return t.createKey()}},{label:"导入秘钥对",id:"importKey",fun:function(){return t.importKey()}}],optionsValue:"",NameOptions:[{value:"name",label:u.common.name}],PublicOperation:[{value:u.common.delete,fun:function(e){t.deleteKey(e)}}],changeTableData:[],filter:{page:1,limit:10,id:"",name:""},tableOptions:[{prop:"name",label:u.common.name,temp:!0,linkProp:!0},{prop:"fingerprint",label:"指纹"}],keyPairList:[],Pagination:{pagingData:[10,20,50],total:0,show:!1}}},methods:{changeRegion:function(){Ct.cancle("CancelToken"),this.getEcmKeypairList(),this.getRegionNums()},refresh:function(){this.filter.name="",this.filter.id="",this.getEcmKeypairList(),this.getRegionNums()},createKey:function(){var t=this,e={data:{title:"创建密钥对",path:"KeyPair",data:this.keyPairList},form:{},view:Tn};this.$alertDialog(e).then(function(e){var a=t.$loading({lock:!0,text:"正在下发命令，请稍后……",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});Jt(e).then(function(i){var n,s,o,r,l,c,u,d=i.data.results[0].private_key;if(a.close(),n=d,s=e.name+".pem",o="ISO-8859-1",s=s||"download.txt",o=o||"utf-8",n=(n||"").replace(/\r?\n/g,"\r\n"),zn&&Blob?(r=new Blob([n],{type:"text/plain;charset="+o}),zn(r,s),1):(l=window.frames.saveTxtWindow)||((l=document.createElement("iframe")).id="saveTxtWindow",l.style.display="none",document.body.insertBefore(l,null),(l=window.frames.saveTxtWindow)||((l=window.open("","_temp","width=100,height=100")).opener=null,l))?((c=l.document).open("text/plain","replace"),c.charset=o,s.endsWithAny(".htm",".html")?(c.close(),c.body.innerHTML="\r\n"+n+"\r\n"):(s.endsWithAny(".txt")||(s+=".txt"),c.write(n),c.close()),u=c.execCommand("SaveAs",null,s),l.close(),u):(window.alert("Sorry, download file could not be created."),0)){t.$alertDialog({data:{title:"提示",type:"warn",actionTip:["创建密钥对成功，请确认密钥已成功下载到本地。为保证云主机安全，私钥只能下载一次，请妥善保管"]},showCancelButton:!1}).then(function(e){console.log(e),t.refresh()})}}).catch(function(t){a.close(),console.log(t)})})},importKey:function(){var t=this,e={data:{title:"导入密钥对",data:this.keyPairList,path:"KeyPair"},view:Vn,form:{name:"",public_key:""}};this.$alertDialog(e).then(function(e){var a=t.$loading({lock:!0,text:"正在下发命令，请稍后……",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});Jt(e).then(function(e){a.close(),t.$message({type:"sucess",message:"密钥对导入成功"}),t.refresh()}).catch(function(t){a.close(),console.log(t)})})},create:function(t){t()},deleteKey:function(t){var e=this,a={data:{title:u.common.delete,actionTip:["确认删除密钥对吗？"],warn:!0}};this.$alertDialog(a).then(function(a){var i=e.$loading({lock:!0,text:"正在下发命令，请稍后……",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});Kt(t.name).then(function(t){i.close(),e.$message({message:"密钥对删除成功！",type:"success"}),e.refresh()}).catch(function(t){i.close(),console.log(t)})})},search:function(t){this.filter[t.name]=t.value,this.getEcmKeypairList()},selectChange:function(){},aciton:function(t,e){var a=this,i={data:{title:u.common.delete,type:"warn",data:[this.changeTableData,[]],actionTip:["确定要删除以下密钥对吗"],option:this.tableOptions}},n=[];this.changeTableData.map(function(t){n.push(t.name)}),this.$alertDialog(i).then(function(t){var e=a.$loading({lock:!0,text:"正在下发命令，请稍后……",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});Kt(n).then(function(t){e.close(),a.$message({message:"密钥对！",type:"success"}),a.refresh()}).catch(function(t){e.close(),console.log(t)})})},changeTable:function(t){this.changeTableData=t},handleClick:function(t,e){t(e)},getEcmKeypairList:function(){var t=this;this.loading=!0,Zt(this.filter).then(function(e){var a=e.data.results,i=e.data.total_count;t.Pagination.total=i,i>t.Pagination.pagingData[0]&&(t.Pagination.show=!0),t.keyPairList=a,t.loading=!1}).catch(function(e){"CancelToken"==e.message||(t.loading=!1),console.log(e)})},filterKeys:function(t){var e=this;u.common.delete},pagingChange:function(t,e){"num"==t?this.filter.limit=e:"page"==t&&(this.filter.page=e),this.loading=!0,this.refresh()},getRegionNums:function(){var t=this;Vt({resource:"keypair",regionid:F()}).then(function(e){var a=e.data.results[0].KEYPAIR;console.log(a),a&&a.detail&&(t.regionData=a.detail)})}},mounted:function(){this.changeRegion()}},jn={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("RegionList",{attrs:{name:this.name,buttonText:this.buttonText,regionData:this.regionData,type:"os"},on:{create:this.create,changeRegion:this.changeRegion}}),this._v(" "),e("div",{staticClass:"content"},[e("div",{staticClass:"content_top"},[e("ConsoleSearch",{attrs:{optionsValue:this.optionsValue,statusOnOff:!1,PublicOperation:this.PublicOperation,disableData:this.changeTableData,NameOptions:this.NameOptions},on:{searchEvent:this.search,selectChange:this.selectChange,PublicOperEvent:this.aciton,refreshEvent:this.refresh}})],1),this._v(" "),e("div",[e("ConsoleTable",{attrs:{tableData:this.keyPairList,tableOptions:this.tableOptions,checkBox:!0,operationOrNot:!0,OperationEvents:this.PublicOperation,loading:this.loading,dragable:!0,Pagination:this.Pagination},on:{buttonClick:this.handleClick,changeTable:this.changeTable,pagingEvent:this.pagingChange}})],1)])],1)},staticRenderFns:[]};var qn=a("VU/8")(Bn,jn,!1,function(t){a("nUy3")},"data-v-348b0e16",null).exports,Un={path:"keypair",name:"keypair",component:Oi.default,redirect:"keypair/keypairList",children:[{path:"keypairList",name:"keypairList",component:qn}]},Hn={props:{type:[String],warn:[Boolean],attachOperation:[Boolean],tableData:[Array,Object],actionTip:[Array],action:[String],form:[Object]},components:{ConsoleTable:Te,ConsoleSearch:ge},data:function(){return{i18n:u,btnClose:!0,optionsValue:"",tableData1:{data:[],option:[{prop:"name",label:u.common.name,temp:!0,linkProp:!0},{prop:"status",label:u.common.status,temp:!0,status:!0},{prop:"expire_date",label:u.common.finishAt}]},snapshot:{name:""},filter:{status:"",limit:10,page:1,keyword:"",id:""},Pagination:{pagingData:[10,20,50],total:0,show:!1},rules:{name:[{required:!0,message:u.ecm.snapshotNameTip,trigger:"blur"},{validator:function(t,e,a){e.length>63||e.length<2?a(new Error("长度为2-63字符")):ia(e)?a(new Error("不能使用中文")):ie({name:e}).then(function(t){t.data.results.length?a(new Error("名字有重复，请重新输入")):a()}).catch(function(t){console.log(t)})},trigger:"blur"}]}}},methods:{search:function(t){this.filter.status="",this.filter.keyword="",this.filter.id="","name"==t.name&&(t.name="keyword"),console.log(t),this.filter[t.name]=t.value,this.getEcmList()},refresh:function(){this.filter.keyword="",this.filter.id="",this.getEcmList()},clear:function(){this.filter.keyword="",this.filter.name=""},changeForm:function(){this.form.name=this.snapshot.name},getEcmList:function(){var t=this;this.loading=!0,Bt(this.filter).then(function(e){var a=e.data,i=a.results;console.log("aaa"),t.tableData1.data=t.filterServer(i),t.Pagination.total=a.total_count,t.Pagination.total>t.Pagination.pagingData[0]&&(t.Pagination.show=!0),t.loading=!1}).catch(function(e){t.loading=!1,console.log(e)})},filterServer:function(t){var e=t.filter(function(t){return"Stopped"==t.state||"Running"==t.state});return console.log(e),e},radioChange:function(t){this.form.rowData=t},pagingChange:function(t,e){"num"==t?this.filter.limit=e:"page"==t&&(this.filter.page=e),this.getEcmList()},validateForm:function(){return this.form.rowData?this.$refs.actionForm.validate():(this.$message({message:"请选择一个云服务器",type:"error"}),new rt.a(function(t,e){e()}))}},computed:{typeCom:function(){return this.type||"warn"},fliterData:function(){var t=(new Date).getTime();return this.$set(this.tableData1,"date",t),this.tableData1}},created:function(){this.getEcmList()}},Wn={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"action-content"},[t.warn?t._e():a("el-row",{staticClass:"action-tip"},["info"==t.typeCom?a("el-row",{staticClass:"action-tip-title"},[t._v("\n\t\t\t"+t._s(t.actionTip[0])+"\n\t\t")]):t._e(),t._v(" "),"warn"==t.typeCom?a("el-row",{staticClass:"action-tip-waring"},[a("el-col",{staticClass:"action-img",attrs:{span:2}},[a("svg-icon",{attrs:{"icon-class":"warn"}})],1),t._v(" "),a("el-col",{staticClass:"action-tip-title",attrs:{span:21}},[a("p",[t._v("\n\t\t\t\t\t"+t._s(t.actionTip[0])+"\n\t\t\t\t")])])],1):t._e()],1),t._v(" "),t.warn?a("el-row",{staticClass:"action-tip",attrs:{id:"warnStyle"}},[a("el-row",{staticClass:"action-tip-waring"},[a("el-col",{staticClass:"action-img"},[a("svg-icon",{attrs:{"icon-class":"warn"}})],1),t._v(" "),a("el-col",{staticClass:"action-tip-title"},[a("span",[t._v("\n\t\t\t\t\t"+t._s(t.actionTip[0])+"\n\t\t\t\t")])])],1)],1):t._e(),t._v(" "),a("el-row",[a("p",{staticClass:"action-tip-subtip"},[t._v("\n\t\t\t\t\t"+t._s(t.actionTip[1])+"\n\t\t\t\t")])]),t._v(" "),a("el-row",{staticClass:"CreateSnaSearch"},[a("el-col",{attrs:{span:24}},[a("ConsoleSearch",{attrs:{statusOnOff:!0,optionsValue:t.optionsValue,btnClose:t.btnClose},on:{searchEvent:t.search,refreshEvent:t.refresh,clear:t.clear}})],1)],1),t._v(" "),a("el-row",{staticClass:"action-table"},[a("el-col",[a("console-table",{key:t.fliterData.date,attrs:{tableData:t.fliterData.data,operationOrNot:!1,tableOptions:t.fliterData.option,noEffect:!0,radioShow:!0,loading:t.loading,Pagination:t.Pagination,height:280},on:{radioChange:t.radioChange,pagingEvent:t.pagingChange}})],1)],1),t._v(" "),a("el-row",{staticClass:"action-select"},[a("el-form",{ref:"actionForm",attrs:{model:t.snapshot,"label-width":"100px",size:"mini",rules:t.rules}},[a("el-form-item",{attrs:{label:t.i18n.ecm.snapshotName+"：",prop:"name"}},[a("el-input",{staticStyle:{width:"200px"},on:{change:t.changeForm},model:{value:t.snapshot.name,callback:function(e){t.$set(t.snapshot,"name","string"==typeof e?e.trim():e)},expression:"snapshot.name"}}),t._v(" "),a("el-tooltip",{attrs:{content:"不能使用中文,且长度为2-63字符",placement:"right"}},[a("i",{staticClass:"el-icon-question"})])],1)],1)],1)],1)},staticRenderFns:[]};var Gn=a("VU/8")(Hn,Wn,!1,function(t){a("PuhB"),a("E1gw")},"data-v-148dd62f",null).exports,Qn={components:{RegionList:me,ConsoleSearch:ge,ConsoleTable:Te},data:function(){var t=this;return{detroyAutoRefresh:!1,loading:!0,buttonText:u.ecm.makeSnapshot,name:u.ecm.snapshot,optionsValue:"",newSnapName:"",snapshotTotalCount:0,snapshotRemainCounts:0,snapshotLimitQuota:0,filter:{limit:10,page:1,name:"",id:"",keyword:""},Pagination:{pagingData:[10,20,50],total:0,show:!1},snapshot:{tableData:[],option:[{prop:"displayname",label:u.ecm.snapshotName,temp:!0,detail:!0,noEffect:!0},{prop:"id",label:u.ecm.snapshotId,width:"300px",temp:!0,detail:!0,noEffect:!0},{prop:"vm_displayname",label:u.ecm.ecmName},{prop:"status",label:u.common.status,temp:!0,status:!0},{prop:"created",label:u.common.createAt}],operationEvent:[{value:u.common.delete,fun:function(e){return t.deleteSnapshot(e)}},{value:u.ecm.reback,fun:function(e){return t.reback(e)}}]},changeTableData:[],regionData:[],PublicOperation:[{value:"删除",fun:"delete"}]}},methods:{create:function(){var t=this;if(this.snapRemainCount>0){var e={data:{title:u.ecm.makeSnapshot,actionTip:[u.ecm.makeSnapshotTip,u.ecm.makeSnapshotTip2],type:"warn"},view:Gn,form:{}};this.$alertDialog(e).then(function(e){console.log(e),ne(e.rowData.id,e.name).then(function(e){t.$message({message:"正在创建快照，请稍后……",type:"warning"});var a=e.data.results;t.refresh(),t.autoRefresh(a)}).catch(function(t){console.log(t)})})}else this.$message({message:"快照配额不足!",type:"warning"})},changeRegion:function(){Ct.cancle("CancelToken"),this.refresh()},aciton:function(t){"delete"==t&&this.deleteSnapshot(this.changeTableData)},handleClick:function(t,e){t(e)},changeTable:function(t){this.changeTableData=t},getSnapshotList:function(){var t=this;this.loading=!0,ie(this.filter).then(function(e){var a=e.data,i=a.results;t.filterSnapshot(i),t.snapshot.tableData=i,t.Pagination.total=a.total_count,t.Pagination.total>t.Pagination.pagingData[0]&&(t.Pagination.show=!0),t.loading=!1}).catch(function(e){"CancelToken"==e.message||(t.loading=!1),console.log(e)})},getSnapshotListById:function(t){var e=this;ie({id:t.id}).then(function(a){var i=a.data.results[0];if("Creating"!==i.state&&t.state!==i.state)e.$message({message:"快照 "+t.displayname+" 创建成功",type:"success"}),e.filterSnapshot(i),e.snapshot.tableData.map(function(a,n){a.id==t.id&&e.$set(e.snapshot.tableData,n,i)});else{var n=e;if("Creating"!==i.state||e.detroyAutoRefresh)return;setTimeout(function(){n.getSnapshotListById(t)},5e3)}}).catch(function(t){e.refresh(),console.log(t)})},filterSnapshot:function(t){var e=this,a=["creating","error"];Array.isArray(t)?t.map(function(t){a.includes(t.state.toLowerCase())&&(t.operation=[{value:u.common.delete,disabled:!0,fun:function(t){return e.deleteSnapshot(t)}},{value:u.ecm.reback,disabled:!0,fun:function(t){return e.reback(t)}}]),"creating"==t.state.toLowerCase()&&(t.id?e.getSnapshotListById(t)&&e.getStarting(t,"clear"):e.getStarting(t)),"error"==t.state.toLowerCase()&&(t.operation=[{value:u.common.delete,fun:function(t){return e.deleteSnapshot(t)}},{value:u.ecm.reback,disabled:!0,fun:function(t){return e.reback(t)}}])}):a.includes(t.state.toLowerCase())&&(t.operation=[{value:u.common.delete,disabled:!0,fun:function(t){return e.deleteSnapshot(t)}},{value:u.ecm.reback,disabled:!0,fun:function(t){return e.reback(t)}}])},getStarting:function(t,e){this.newSnapName||this.startTimer(t)},startTimer:function(t,e){var a=this;if(!this.detroyAutoRefresh){if(a.newSnapName||(a.newSnapName=t.name),e)return this.newSnapName="",void this.refresh();setTimeout(function(){a.refresh()},6e3)}},deleteSnapshot:function(t){var e=this,a={data:{title:u.common.delete,actionTip:[u.ecm.deleteSnapshotTip],warn:!0,data:t}};Array.isArray(t)&&(a.data.warn=!1),this.$alertDialog(a).then(function(a){console.log(a);var i,n,s=e.$loading({lock:!0,text:"正在下发命令，请稍后……",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});(i=t.id,n={regionid:F()},Ct({url:"console/ecm/snapshots/vmsnapshot/"+i+"/",method:"delete",data:n})).then(function(t){s.close(),e.$message({message:"删除快照命令下发成功！",type:"success"}),e.refresh();var a=t.data.results;e.autoRefresh(a)}).catch(function(t){s.close(),console.log(t)})})},reback:function(t){var e=this,a={data:{title:u.ecm.reback,actionTip:[u.ecm.rebackTip,u.ecm.rebackTip2],warn:!0,data:t}};Array.isArray(t)&&(a.data.warn=!1),jt(t.virtualmachineid).then(function(i){var n=i.data.results;if(n&&n.length){if("Stopped"!==n[0].state)return void e.$message({type:"error",message:"快照所对应的云服务器关机后才能进行此操作"});e.$alertDialog(a).then(function(a){console.log(a);var i,n,s=e.$loading({lock:!0,text:"正在下发命令，请稍后……",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});(i=t.id,n={regionid:F()},Ct({url:"console/ecm/snapshots/vmsnapshot/"+i+"/",method:"post",data:n})).then(function(t){s.close(),e.$message({message:"命令下发成功，开始回滚快照……",type:"warning"});var a=t.data.results;e.refresh(),e.autoRefresh(a)}).catch(function(t){s.close(),console.log(t)})})}}).catch(function(t){console.log(t)})},search:function(t){console.log(t),this.filter.name="",this.filter.id="","name"==t.name&&(t.name="keyword"),this.filter[t.name]=t.value,this.getSnapshotList()},refresh:function(){this.filter.id="",this.GetRegionNums(),this.getSnapshotList()},clear:function(){this.filter.keyword="",this.filter.name="",this.filter.id=""},pagingChange:function(t,e){"num"==t?this.filter.limit=e:"page"==t&&(this.filter.page=e),this.loading=!0,this.getSnapshotList()},autoRefresh:function(t){var e=this;t&&("string"==typeof t?this.getJobDetail(t):Array.isArray(t)?t.map(function(t){t.jobid&&e.getJobDetail(t.jobid)}):console.log(t))},getJobDetail:function(t){var e=this,a=this,i=void 0;this.detroyAutoRefresh||kt(t).then(function(t){var n=t.data.results[0];if(1==n.jobstatus){var s=n.jobresult.vmsnapshot;s?e.snapshot.tableData.map(function(t,a){t.id==s.id&&(e.filterSnapshot(s),e.$set(e.snapshot.tableData[a],"state",s.state),e.$set(e.snapshot.tableData[a],"operation",s.operation))}):e.refresh(),s&&(e.$message({message:"操作成功",type:"success"}),e.refresh())}else 2==n.jobstatus?(clearTimeout(i),console.log("失败"),e.$message({message:"操作失败"+n.jobresult.errortext,type:"error"}),e.refresh()):i=setTimeout(function(){a.getJobDetail(n.jobid)},5e3)}).catch(function(t){console.log(t),e.refresh()})},GetRegionNums:function(){var t=this;Vt({resource:"snapshot",regionid:F()}).then(function(e){var a=e.data.results[0].SNAPSHOT;console.log(a),a&&a.detail&&(t.regionData=a.detail,t.snapshotLimitQuota=a.total_count)})},queryQuotas:function(){var t=this;He().then(function(e){console.log(e.data.results);var a=e.data.returnObj;t.snapshotTotalCount=a.snapshot_limit?a.snapshot_limit-0:""}).catch(function(t){console.log(t)})}},computed:{snapRemainCount:function(){return this.snapshotRemainCounts=this.snapshotTotalCount-this.snapshotLimitQuota,this.snapshotRemainCounts>0?this.snapshotRemainCounts:(this.snapshotRemainCounts=0,this.snapshotRemainCounts)}},mounted:function(){this.changeRegion();var t=this.$store.state.user.user.quotas;t.snapshot_limit?this.snapshotTotalCount=t.snapshot_limit-0:this.queryQuotas()},beforeDestroy:function(){this.detroyAutoRefresh=!0}},Zn={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"main snapshotList"},[e("RegionList",{attrs:{name:this.name,regionData:this.regionData,buttonText:this.buttonText},on:{create:this.create,changeRegion:this.changeRegion}}),this._v(" "),e("div",{staticClass:"content"},[e("div",{staticClass:"content_top"},[e("div",{staticClass:"snap_mark"},[this._v("您还可以创建"+this._s(this.snapRemainCount)+"个快照")]),this._v(" "),e("ConsoleSearch",{attrs:{optionsValue:this.optionsValue,btnClose:!0,disableData:this.changeTableData},on:{searchEvent:this.search,clear:this.clear,refreshEvent:this.refresh}})],1),this._v(" "),e("div",[e("ConsoleTable",{attrs:{tableData:this.snapshot.tableData,tableOptions:this.snapshot.option,checkBox:!0,operationOrNot:!0,OperationEvents:this.snapshot.operationEvent,loading:this.loading,dragable:!0,noEffect:!0,Pagination:this.Pagination},on:{buttonClick:this.handleClick,changeTable:this.changeTable,pagingEvent:this.pagingChange}})],1)])],1)},staticRenderFns:[]};var Jn=a("VU/8")(Qn,Zn,!1,function(t){a("tC3l")},"data-v-8d4faa0a",null).exports,Kn={path:"snapshot",name:"snapshot",component:Jn,redirect:"snapshot/snapShotList",children:[{path:"snapShotList",name:"snapShotList",component:Jn}]},Yn={props:{actionTip:[Array],form:[Object],tableData:[Object]},components:{slideScale:xi},data:function(){return{temp2:30,warnTip:!1,bandwidth:this.tableData.data[0].bandwidthNum,eipData:{bandwidth:this.tableData.data[0].bandwidthNum,broadbandMax:300,showInput:!0}}},methods:{bbCallback:function(t){t<this.tableData.data[0].bandwidthNum?(this.warnTip=!0,this.eipData.bandwidth=this.tableData.data[0].bandwidthNum):(this.warnTip=!1,this.form.data=t)},openHelp:function(){open("http://www.ctyun.cn/help")}},computed:{}},Xn={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"eipAction-content"},[e("el-row",{staticClass:"action-tip"},[e("el-row",{staticClass:"action-tip-title"},[this._v("\n\t\t\t"+this._s(this.actionTip[0])+"\n\t\t")])],1),this._v(" "),e("el-row",{staticClass:"action-select"},[e("el-form",{attrs:{model:this.eipData,"label-width":"100px"}},[e("el-form-item",{attrs:{label:"带宽：",required:"",prop:"bandwidth"}},[e("slideScale",{attrs:{bandwidths:this.bandwidth,isOften:!1},on:{ofterCallback:this.bbCallback}})],1)],1)],1),this._v(" "),e("el-row",{directives:[{name:"show",rawName:"v-show",value:this.warnTip,expression:"warnTip"}]},[e("div",{staticStyle:{color:"red"}},[this._v("弹性公网IP不支持降级操作！")])])],1)},staticRenderFns:[]};var ts=a("VU/8")(Yn,Xn,!1,function(t){a("1ogP"),a("end4")},"data-v-29579c40",null).exports,es={props:{tableData:[Object],form:[Object]},data:function(){return{current:""}},methods:{change:function(t,e){this.current=t,this.form.data=e}}},as={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"EipBindChoose"},[a("ul",t._l(t.tableData.data,function(e,i){return a("li",{class:{active:i===t.current},on:{click:function(a){t.change(i,e)}}},[a("div",[a("div",{staticClass:"svg_bg"},[a("svg-icon",{attrs:{"icon-class":e.svg}})],1),t._v(" "),a("div",{staticClass:"title"},[t._v(t._s(e.title))]),t._v(" "),a("div",{staticClass:"msg"},[t._v(t._s(e.msg))])])])}))])},staticRenderFns:[]};var is=a("VU/8")(es,as,!1,function(t){a("p64U")},null,null).exports,ns={props:{actionTip:[String],form:[Object],tableData:[Object]},components:{ConsoleTable:Te},data:function(){var t=this,e=function(t,e,a){ei()(e)?e<1?a(new Error("端口范围在 1 到 65535 之间")):e>65535?a(new Error("端口范围在 1 到 65535 之间")):a():a(new Error("端口值必须为数字值"))};return{ruleForm:{EcmName:"",publicport:"",publicendport:"",privateport:"",privateendport:"",protocol:"TCP"},elbForm:{elbName:"",subnet:""},rules:{publicport:[{required:!0,message:"请输入端口范围",trigger:"blur"},{validator:e,trigger:"blur"}],publicendport:[{required:!0,message:"请输入端口范围",trigger:"blur"},{validator:e,trigger:"blur"},{validator:function(e,a,i){t.ruleForm.publicport&&(a<t.ruleForm.publicport?i(new Error("端口下限应小于等于端口上限")):i())},trigger:"blur"}],privateport:[{required:!0,message:"请输入端口范围",trigger:"blur"},{validator:e,trigger:"blur"}],privateendport:[{required:!0,message:"请输入端口范围",trigger:"blur"},{validator:e,trigger:"blur"},{validator:function(e,a,i){t.ruleForm.privateport&&(a<t.ruleForm.privateport?i(new Error("端口下限应小于等于端口上限")):i())},trigger:"blur"}]},elbRules:{elbName:[{required:!0,message:"请输入负载均衡名称",trigger:"blur"},{min:1,max:65,message:"长度范围在 1 到 65之间",trigger:"blur"}],subnet:[{required:!0,message:"请输入子网信息",trigger:"blur"},{min:1,max:65,message:"端口范围在 1 到 65 之间",trigger:"blur"}]},agree:[{num:"TCP"},{num:"UDP"}],Pagination:{pagingData:[10,20,50],total:0,show:!1},filter:{satus:"",limit:10,page:1,name:"",id:""},ecmListData:[]}},methods:{radioChange:function(t){console.log(t),this.form.data=t},getEcmList:function(){var t,e,a,i=this,n=this.filter,s=this.tableData.vpcid;(t=n,e=s,a={limit:t.limit||10,regionid:F(),zoneid:P(),page:t.page||1,status:t.status,id:t.id,displayname:t.displayname,vpcid:e},Ct({url:"console/ecm/ecs/servers/",method:"get",params:a})).then(function(t){var e=ue()(t.data.results),a=t.data.total_count;e=i.filterServers(e),i.ecmListData=e,i.Pagination.total=a,a>i.Pagination.pagingData[0]&&(i.Pagination.show=!0)}).catch(function(t){console.log(t)})},filterServers:function(t){var e=this;return t=t.filter(function(t){if("Starting"==t.state)return!1;var a=t.nic?t.nic.length&&t.nic[0].ipaddress:t.addresses?t.metadata&&e._.find(t.addresses[t.metadata.vpcname],{"OS-EXT-IPS:type":"fixed"}).addr:"--";return t.privateIp=a||"--",!0})},pagingChange:function(t,e){"num"==t?this.filter.limit=e:"page"==t&&(this.filter.page=e),this.getEcmList()},validateForm:function(){return this.tableData.vpcName?(this.form.rule=this.ruleForm,this.$refs.ruleForm.validate()):this.form.data?this.tableData.port?(this.form.rule=this.ruleForm,this.$refs.ruleForm.validate()):this.tableData.elb?(this.form.data=this.ruleForm,this.$refs.elbForm.validate()):new rt.a(function(t,e){t()}):(this.$message({message:"请选择一台要绑定的云服务器",type:"error"}),new rt.a(function(t,e){e()}))}},computed:{fliterData:function(){return this.tableData}},mounted:function(){this.tableData.elb||this.tableData.table||this.getEcmList(this.filter),this.tableData.vpcName&&(this.ruleForm.EcmName=this.tableData.vpcName)}},ss={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"EipBind"},[t.fliterData.elb?t._e():a("el-row",{staticClass:"action-tip"},[t._v("\n\t\t\t"+t._s(t.actionTip)+"\n\t\t")]),t._v(" "),t.fliterData.elb||t.fliterData.table?t._e():a("el-row",[a("el-col",[a("console-table",{key:t.fliterData.date,attrs:{tableData:t.ecmListData,operationOrNot:!1,tableOptions:t.fliterData.option,noEffect:!0,height:380,eipRadioShow:!0,Pagination:t.Pagination},on:{radioChange:t.radioChange,pagingEvent:t.pagingChange}})],1)],1),t._v(" "),t.fliterData.port?a("el-row",[a("el-row",[a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:t.ruleForm,rules:t.rules,"label-width":"100px",size:"small"}},[a("el-row",[t.fliterData.table?a("el-form-item",{attrs:{label:"云服务器：",prop:"EcmName",required:""}},[a("el-input",{staticStyle:{width:"180px"},attrs:{disabled:"disabled"},model:{value:t.ruleForm.EcmName,callback:function(e){t.$set(t.ruleForm,"EcmName",e)},expression:"ruleForm.EcmName"}})],1):t._e(),t._v(" "),a("el-form-item",{staticClass:"port",attrs:{label:"公网端口",required:""}},[a("el-col",{attrs:{span:4}},[a("el-form-item",{attrs:{prop:"publicport"}},[a("el-input",{model:{value:t.ruleForm.publicport,callback:function(e){t.$set(t.ruleForm,"publicport",t._n(e))},expression:"ruleForm.publicport"}})],1)],1),t._v(" "),a("el-col",{staticClass:"line",attrs:{span:2}},[t._v("-")]),t._v(" "),a("el-col",{attrs:{span:11}},[a("el-form-item",{attrs:{prop:"publicendport"}},[a("el-input",{model:{value:t.ruleForm.publicendport,callback:function(e){t.$set(t.ruleForm,"publicendport",t._n(e))},expression:"ruleForm.publicendport"}})],1)],1)],1)],1),t._v(" "),a("el-row",[a("el-form-item",{staticClass:"port",attrs:{label:"私网端口",required:""}},[a("el-col",{attrs:{span:4}},[a("el-form-item",{attrs:{prop:"privateport"}},[a("el-input",{model:{value:t.ruleForm.privateport,callback:function(e){t.$set(t.ruleForm,"privateport",t._n(e))},expression:"ruleForm.privateport"}})],1)],1),t._v(" "),a("el-col",{staticClass:"line",attrs:{span:2}},[t._v("-")]),t._v(" "),a("el-col",{attrs:{span:11}},[a("el-form-item",{attrs:{prop:"privateendport"}},[a("el-input",{model:{value:t.ruleForm.privateendport,callback:function(e){t.$set(t.ruleForm,"privateendport",t._n(e))},expression:"ruleForm.privateendport"}})],1)],1)],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"协议 :",prop:"agreement"}},[a("el-select",{model:{value:t.ruleForm.protocol,callback:function(e){t.$set(t.ruleForm,"protocol",e)},expression:"ruleForm.protocol"}},t._l(t.agree,function(t){return a("el-option",{key:t.num,attrs:{label:t.num,value:t.num}})}))],1)],1)],1)],1):t._e(),t._v(" "),t.fliterData.elb?a("el-row",[a("el-form",{ref:"elbForm",staticClass:"elb-ruleForm",attrs:{model:t.elbForm,rules:t.elbRules,"label-width":"140px",size:"small"}},[a("el-form-item",{attrs:{label:"负载均衡名称：",prop:"elbName"}},[a("el-input",{attrs:{placeholder:"请输入负载均衡名称"},model:{value:t.elbForm.elbName,callback:function(e){t.$set(t.elbForm,"elbName",e)},expression:"elbForm.elbName"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"子网信息：",prop:"subnet"}},[a("el-input",{attrs:{placeholder:"子网1/负载均衡子网"},model:{value:t.elbForm.subnet,callback:function(e){t.$set(t.elbForm,"subnet",e)},expression:"elbForm.subnet"}})],1)],1)],1):t._e()],1)},staticRenderFns:[]};var os=a("VU/8")(ns,ss,!1,function(t){a("ywDs")},null,null).exports,rs={components:{RegionList:me,ConsoleTable:Te,ConsoleSearch:ge,ecmRenew:fa,ConsoleAction:Qe,EipUpGrade:ts,EipBindChoose:is,EipBind:os},data:function(){var t,e=this;return t={name:u.vpc.Eip,buttonText:u.vpc.createEip,loading:!1,detroyAutoRefresh:!1,unRenewList:[],noTimeList:[],regionData:[],SearchNameOptions:[{value:"name",label:u.common.eip},{value:"id",label:u.common.ID}],SearchNameValue:"name",optionsValue:u.common.allStatus,eipListData:[],changeTableData:[],Pagination:{pagingData:[10,20,50],total:0,show:!1},filter:{satus:"",limit:10,page:1,keyword:"",id:"",attached:"",resource_type:""}},bt()(t,"optionsValue",""),bt()(t,"tableOptions",[{prop:"ipaddress",label:u.vpc.Eip,temp:!0,routerIp:!0,path:"/vpc/eip/eipDetail"},{prop:"stateTxt",label:u.common.status,width:"150px",temp:!0,filter:!0,status:!0,selectOptions:[{value:"INSTANCE",text:u.vpc.instance},{value:"ready",text:u.vpc.allocatin}]},{prop:"instanceName",label:u.vpc.instanceName},{prop:"bandwidthNum",label:u.vpc.bandwidth},{prop:"finishAt",label:u.common.finishAt}]),bt()(t,"eipOperation",[{value:u.vpc.binding,fun:function(t){return e.binding(t)}},{value:u.vpc.unbunding,fun:function(t){return e.unbunding(t)}},{value:u.vpc.upgrade,fun:function(t){return e.upgrade(t)}}]),bt()(t,"eipPublicOperation",[{value:u.common.renew,disable:!1,title:"请选择弹性IP",fun:function(t){return e.renew(t)}}]),t},methods:{create:function(){window.open("","_blank").location="/#/vpc/eip/eipCreate"},addOperation:function(t){var e=this,a=["binding","up"],i=["unbunding","down"],n=["upgrade"],s=[{value:u.vpc.binding,id:"binding",fun:function(t){return e.binding(t)}},{value:u.vpc.unbunding,id:"unbunding",fun:function(t){return e.unbunding(t)}},{value:u.vpc.upgrade,id:"upgrade",fun:function(t){return e.upgrade(t)}}];s.map(function(e){("INSTANCE"==t.state||"PORTFORWARDING"==t.state||"LOADBALANCER"==t.state||"UP"==t.state)&&a.includes(e.id)&&(e.disabled=!0),("unbinding"==t.state||"DOWN"==t.state)&&i.includes(e.id)&&(e.disabled=!0),t.expired&&a.includes(e.id)&&(e.disabled=!0)&&(e.title="当前弹性公网IP已过期，请续订后再执行操作"),t.expired&&i.includes(e.id)&&(e.disabled=!0)&&(e.title="当前弹性公网IP已过期，请续订后再执行操作"),t.expired&&n.includes(e.id)&&(e.disabled=!0)&&(e.title="当前弹性公网IP已过期，请续订后再执行操作"),t.with_vm&&i.includes(e.id)&&(e.disabled=!0)&&(e.title="与云主机一起购买的弹性公网IP，不可卸载"),"bindings"!=t.state&&"unbundings"!=t.state||(e.disabled=!0)}),this.$set(t,"operation",s)},refreshDetail:function(t){var e=this;je(t).then(function(t){var a=t.data.results[0];a.createAt=a.created_at?Ce(a.created_at):"--",a.finishAt=a.expire_date?Ce(a.expire_date):"--",a.expired=ke(a.finishAt),a.resource_type?"LOADBALANCER"==a.resource_type?(a.instanceName="--",a.instanceType="--"):(a.instanceName=a.virtualmachinedisplayname?a.virtualmachinedisplayname:a.virtualmachinename,a.instanceType="云服务器"):(a.instanceName="--",a.instanceType="--"),a.bandwidthNum=parseInt(a.networkrate),a.state=a.resource_type?a.resource_type:"unbinding";e.eipListData.map(function(t,i){if(0,t.id==a.id)return e.$set(e.eipListData,i,a),!0}),e.addOperation(a)}).catch(function(t){console.log(t)})},renew:function(t){var e=this,a={data:{option:[{prop:"ipaddress",label:u.vpc.Eip,temp:!0,EipIp:!0},{prop:"bandwidthNum",label:u.vpc.bandwidth},{prop:"createAt",label:u.common.createAt},{prop:"finishAt",label:u.common.finishAt}],title:"续订弹性公网IP",actionTip:["以下弹性公网IP将进行续订操作，续订将会产生续订订单，请于一日内支付订单，否则续订操作失败数据将被清空。","弹性公网IP"],data:[this.filterData(this.changeTableData,"renew"),this.unRenewList]},view:fa,form:{}};a.data.data.length<1?this.$message({message:"您选择的弹性公网IP都不符合续订条件！",type:"warning"}):this.$alertDialog(a).then(function(t){var i,n;t.id=[],a.data.data[0].map(function(e){t.id.push(e.id)}),(i=t,n={regionid:F()},Ct({url:"console/ecm/ecs/renew/",method:"post",params:n,data:i})).then(function(t){console.log(t),e.$message({message:"命令下发成功",type:"success"}),setTimeout(function(){e.refresh()},4e3)}).catch(function(t){console.log(t)})})},buttonClick:function(t,e){t(e)},binding:function(t){var e=this;console.log("绑定");var a=this,i={data:{option:[{prop:"name",label:u.common.name,detail:!0,noEffect:!0},{prop:"stateTxt",label:u.common.status,temp:!0,status:!0},{prop:"privateIp",label:u.common.privateIp},{prop:"publicip",label:u.common.eip}],title:"一对一映射",actionTip:u.vpc.bindingTip,data:"",vpcid:t.vpcid},view:os,form:{}};this.$alertDialog(i).then(function(i){console.log(i.data),e.loading=!0;var n=i.data,s=n.id,o=n.nic?n.nic.length&&n.nic[0].ipaddress:n.addresses?n.metadata&&e._.find(n.addresses[n.metadata.vpcname],{"OS-EXT-IPS:type":"fixed"}).addr:"";qe(s,t.id,o).then(function(i){console.log(i),e.loading=!1,e.$message({message:"命令下发成功",type:"success"}),t.state="bindings",a.addOperation(t),setTimeout(function(){e.refreshDetail(t.id)},4e3)}).catch(function(t){e.loading=!1,console.log(t)})})},clear:function(){this.filter.keyword="",this.filter.id=""},unbunding:function(t){var e=this;console.log("解绑");var a={data:{type:"warn",option:"",title:"解绑",actionTip:["INSTANCE"==t.resource_type?"确定要解绑这个IP的静态NAT":"PORTFORWARDING"==t.resource_type?"确定要解绑这个IP绑定的所有端口映射规则吗？":"LOADBALANCER"==t.rsroure_type?"解除负载均衡IP将会删除负载均衡？":"确定要解绑该弹性公网IP吗？"],data:"",warn:!0},view:Qe,form:{}},i=this;this.$alertDialog(a).then(function(a){e.loading=!0,console.log(a),Ue(t.id).then(function(a){console.log(a),e.loading=!1,e.$message({message:"弹性公网IP解绑成功",type:"success"}),t.state="unbundings",i.addOperation(t),setTimeout(function(){e.refreshDetail(t.id)},4e3)}).catch(function(t){e.loading=!1,console.log(t)})})},upgrade:function(t){var e=this;console.log("升级");var a=[t];console.log(a);var i={data:{option:"",title:"升级",actionTip:["弹性公网IP不支持降级操作，升级时请谨慎操作。"],data:a},view:ts,form:{}};this.$alertDialog(i).then(function(a){a.data||(a.data=t.bandwidthNum);var i,n,s,o=void 0,r=e;a.data!=t.bandwidthNum&&(o=a.data,(i=o,n=t.id,s={regionid:F(),bandwidth:i},Ct({url:"console/network/eip/eipextend/"+n+"/",method:"post",data:s})).then(function(i){console.log(i),e.$message({message:"命令下发成功",type:"success"});t.bandwidthNum=a.data,r.eipListData.map(function(e,a){if(0,e.id==t.id)return r.$set(r.eipListData,a,t),console.log(a,t),!0})}).catch(function(t){console.log(t)}))})},ubsubscribe:function(t){var e=this;console.log("tuiding");var a={data:{type:"warn",option:[{prop:"ipaddress",label:u.vpc.Eip,temp:!0,EipIp:!0},{prop:"status",label:u.common.status,temp:!0,status:!0}],title:"退订弹性公网IP",actionTip:["确定要对以下弹性公网IP进行退订操作吗？","退订公网IP不可恢复，且关联网站备案信息将一并清除，请谨慎操作。"],data:[t]},view:Qe,form:{}};this.$alertDialog(a).then(function(a){console.log(a);var i,n,s=t.id;(i=s,n={regionid:F()},Ct({url:"console/refundorder/"+i+"/",method:"post",data:n})).then(function(t){console.log(t),e.$message({message:"命令下发成功",type:"success"}),e.refresh()}).catch(function(t){console.log(t)})})},changeRegion:function(t){Ct.cancle("CancelToken"),this.regionId=t,this.refresh()},getRegion:function(){var t=void 0;if(F())clearTimeout(t),this.changeRegion();else{var e=this;t=setTimeout(function(){e.getRegion()},300)}},filterData:function(t,e){var a=this;return a.unRenewList=[],t=t.filter(function(t){switch(e){case"renew":return t.with_vm?(a.unRenewList.push(t),!1):t.state=t.resource_type?t.resource_type:"unbinding";case"unsubscribe":return!t.with_vm&&(t.state=t.resource_type?t.resource_type:"unbinding");default:return!t.with_vm}})},changeTable:function(t){console.log(t),this.changeTableData=t;this._.find(this.changeTableData,{state:"Running"});var e=0;this.changeTableData.length>0?(this.changeTableData.filter(function(t){"ERROR"==t.state&&e++}),e==this.changeTableData.length?this.eipPublicOperation[0].disable=!1:this.eipPublicOperation[0].disable=!0,this.eipPublicOperation[0].title=""):(this.eipPublicOperation[0].disable=!1,this.eipPublicOperation[0].title="请选择弹性IP")},pagingChange:function(t,e){"num"==t?this.filter.limit=e:"page"==t&&(this.filter.page=e),this.loading=!0,this.getEipList()},getDetail:function(t){var e=this,a=this;this.detroyAutoRefresh||je(t).then(function(t){var i=t.data.results,n=i.length&&i[0]||item;n.createAt=n.created_at?Ce(n.created_at):"--",n.finishAt=n.expire_date?Ce(n.expire_date):"--",n.expired=ke(n.finishAt),n.resource_type?"LOADBALANCER"==n.resource_type?(n.instanceName="--",n.instanceType="--"):(n.instanceName=n.virtualmachinedisplayname?n.virtualmachinedisplayname:n.virtualmachinename,n.instanceType="云服务器"):(n.instanceName="--",n.instanceType="--"),n.bandwidthNum=parseInt(n.networkrate),n.state=n.resource_type?n.resource_type:"unbinding";e.eipListData.map(function(t,a){if(0,t.id==n.id)return e.$set(e.eipListData,a,n),!0}),e.addOperation(n),n.no_time&&"1"==n.no_time?setTimeout(function(){a.getDetail(n.id)},5e3):e._.remove(e.noTimeList,function(t){return t.id==n.id})}).catch(function(t){console.log(t)})},autoRefresh:function(t){var e=this;t&&("string"==typeof jobIds?this.getDetail(jobIds):Array.isArray(t)?t.map(function(t){console.log(t),t.id&&e.getDetail(t.id)}):console.log(jobIds))},getEipList:function(){var t=this,e=this.filter;this.loading=!0,this.noTimeList=[],Re(e).then(function(e){var a=e.data.results.filter(function(t){return!t.issourcenat}),i=e.data.total_count;t.filterServers(a),t.eipListData=a,t.noTimeList.length>0&&t.autoRefresh(t.noTimeList),t.totalCount=i,t.Pagination.total=i,i>t.Pagination.pagingData[0]&&(t.Pagination.show=!0),t.loading=!1}).catch(function(e){"CancelToken"==e.message||(t.loading=!1),console.log(e)})},filterServers:function(t){var e=this;t.forEach(function(t,a){t.createAt=t.created_at?Ce(t.created_at):"--",t.finishAt=t.expire_date?Ce(t.expire_date):"--",t.resource_type?"LOADBALANCER"==t.resource_type?(t.instanceName="--",t.instanceType="--"):(t.instanceName=t.virtualmachinedisplayname?t.virtualmachinedisplayname:t.virtualmachinename,t.instanceType="云服务器"):(t.instanceName="--",t.instanceType="--"),t.chargeMode="M"==t.cycle_type?"按月":"按年",t.expired=ke(t.finishAt),t.no_time&&"1"==t.no_time&&e.noTimeList.push({id:t.id}),t.bandwidthNum=parseInt(t.networkrate),t.state=t.resource_type?t.resource_type:t.status?"ACTIVE"==t.status?"UP":"DOWN":"unbinding",e.addOperation(t)})},search:function(t){console.log(t),this.filter.resource_type="",this.filter.status="","id"==t.name?(this.filter.name="",this.filter.id=t.value,this.filter.keyword=""):(this.filter.id="",this.filter.keyword=t.value),this.getEipList()},selectChange:function(t){console.log(t),this.filter.status="",this.filter.keyword="",this.filter.id="","ready"==t?(this.filter.attached=0,this.filter.resource_type=""):"INSTANCE"==t?(this.filter.resource_type="INSTANCE",this.filter.attached=""):"PORTFORWARDING"==t?(this.filter.resource_type="PORTFORWARDING",this.filter.attached=""):"LOADBALANCER"==t?(this.filter.resource_type="LOADBALANCER",this.filter.attached=""):(this.filter.attached="",this.filter.resource_type=""),this.filter.page=1,console.log(this.filter),this.getEipList()},refresh:function(){this.noTimeList=[],this.filter.id="",this.GetRegionNums(),this.getEipList()},queryQuotas:function(){var t=this;He().then(function(e){console.log(e.data.results);var a=e.data.results[0];t.eipTotalCount=a.iplimit,t.eipExistCount=a.iptotal,t.eipRemainCount=a.ipavailable}).catch(function(t){console.log(t)})},GetRegionNums:function(){var t=this;Vt({resource:"floating",regionid:F()}).then(function(e){var a=e.data.results[0].Public_IP;console.log(a),a&&a.detail&&(t.regionData=a.detail)})}},mounted:function(){this.getRegion()},beforeDestroy:function(){console.log("detroy"),this.detroyAutoRefresh=!0}},ls={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"eipContent"},[e("RegionList",{attrs:{name:this.name,regionData:this.regionData,buttonText:this.buttonText},on:{create:this.create,changeRegion:this.changeRegion}}),this._v(" "),e("div",{staticClass:"content"},[e("div",{staticClass:"content_top"},[e("ConsoleSearch",{staticClass:"eip_search",attrs:{statusOnOff:!0,optionsValue:this.optionsValue,disableData:this.changeTableData,PublicOperation:this.eipPublicOperation,SearchNameOptions:this.SearchNameOptions,SearchNameValue:this.SearchNameValue},on:{searchEvent:this.search,clear:this.clear,refreshEvent:this.refresh,PublicOperEvent:this.buttonClick}})],1),this._v(" "),e("div",[e("ConsoleTable",{attrs:{checkBox:!0,eipStatus:!0,operationOrNot:!0,selectOrNot:!0,dragable:!0,tableData:this.eipListData,tableOptions:this.tableOptions,OperationEvents:this.eipOperation,loading:this.loading,Pagination:this.Pagination},on:{selectChange:this.selectChange,buttonClick:this.buttonClick,changeTable:this.changeTable,pagingEvent:this.pagingChange}})],1)])],1)},staticRenderFns:[]};var cs=a("VU/8")(rs,ls,!1,function(t){a("TqZv")},"data-v-a56007d4",null).exports,us={components:{AttachAction:gn,slideScale:xi},data:function(){return{temp:14,scaleWidth:60,broadbandStep:10,maxCreate:0,temp2:30,seleceCheck:!0,regionList:[],vpclist:[],ruleForm:{eipNumber:1,storageType:"",resourceType:"",regionName:"",uuid:"",vpcid:"",vpcName:"",broadbandMax:300,showInput:!0,bandwidth:100,broadband:6,broadbandMsg:"6个月",cycleType:"M",cycleCnt:6},createNumberInfo:{btnType:"primary",btnIcon:"",broadbandMin:1,broadbandMax:14,showInput:!0,num:2},rules:{resourceType:[],vpcid:[{required:!0,message:"所选VPC不能为空",trigger:"blur,change"}]}}},methods:{regionChange:function(t){console.log(t),Ct.cancle("CancelToken"),this.vpclist=[],this.ruleForm.regionName=t.name,this.ruleForm.uuid=t.uuid;var e=t.regionType;O(t.uuid),L(t.details.zoneId),$(t.details.hasVnc),R(e),this.$store.dispatch("changeRegionType",z()),"cs"==e&&this.getVpcList(t.uuid)},dian190:function(t){46!=(window.event?event.keyCode:event.which)||event.preventDefault()},ofterCallback:function(t){this.ruleForm.broadband=t,12==t?(this.ruleForm.broadbandMsg="1年",this.ruleForm.cycleCnt=1,this.ruleForm.cycleType="Y"):13==t?(this.ruleForm.cycleCnt=2,this.ruleForm.broadbandMsg="2年",this.ruleForm.cycleType="Y"):14==t?(this.ruleForm.broadbandMsg="3年",this.ruleForm.cycleCnt=3,this.ruleForm.cycleType="Y"):(this.ruleForm.cycleType="M",this.ruleForm.cycleCnt=this.ruleForm.broadband,this.ruleForm.broadbandMsg=this.ruleForm.broadband+"个月")},bbCallback:function(t){this.ruleForm.bandwidth=t},bandwidthChange:function(t){console.log(t)},sizeChange:function(t){console.log(t)},sliderFormatTooltip:function(t){return 12==t?(this.cycleType="Y","1年"):13==t?(this.cycleType="Y","2年"):14==t?(this.cycleType="Y","3年"):(this.cycleType="M",t+"月")},order:function(){var t=this;this.$refs.ruleForm.validate(function(e){e?(!0,t.$emit("orderResult",!0,t.ruleForm)):t.$emit("orderResult",!1,"")})},getRegionList:function(){var t=this;this.regionList=this.$store.state.user.regionList,console.log(this.regionList),this.ruleForm.uuid=F(),this.ruleForm.resourceType=F(),this.regionList.forEach(function(e){e.regionType=1==e.type?"cs":2==e.type&&"os",e.uuid==t.ruleForm.uuid&&(t.ruleForm.regionName=e.name)}),this.getVpcList(this.ruleForm.uuid)},getVpcList:function(t){var e=this,a={regionid:t},i=this;console.log(123,a);var n,s,o,r={regionid:t,create:"create"};i.seleceCheck=!0,(n=r,s=P(),o={limit:n.limit||100,regionid:n.regionid,zoneid:s,page:n.page||1},Ct({url:"console/network/vpcs/",method:"get",params:o})).then(function(t){console.log(t);var a=t.data.results,n=e.filterFakeVpc(a);n.length>0?(i.vpclist=n,i.seleceCheck=!1,console.log(n),i.ruleForm.vpcid=a[0].id,i.ruleForm.vpcName=a[0].name):(i.vpclist=[],i.seleceCheck=!1,i.ruleForm.vpcid="",i.ruleForm.vpcName="",i.$message({message:"该节点下没有虚拟私有云",type:"warning"}))}).catch(function(t){i.seleceCheck=!1,i.vpclist=[],i.ruleForm.vpcid="",i.ruleForm.vpcName="",console.log(t)})},filterFakeVpc:function(t){return t.filter(function(t){return!(t.fake_vpc&&1==t.fake_vpc)})},openHelp:function(){open("http://www.ctyun.cn/help")},queryQuotas:function(){var t=this;He().then(function(e){console.log(e.data.results);var a=e.data.returnObj;t.maxCreate=a.public_ip_limit_each_time?a.public_ip_limit_each_time-0:""}).catch(function(t){console.log(t)})}},computed:{vpcChange:function(){return this.vpclist.length>0?(this.ruleForm.vpcName=this._.find(this.vpclist,{id:this.ruleForm.vpcid}).name,this.ruleForm.vpcName):"--"},regionType:function(){return this.$store.getters.regionType}},mounted:function(){this.getRegionList();var t=this.$store.state.user.user.quotas;console.log(t),t.public_ip_limit_each_time?this.maxCreate=t.public_ip_limit_each_time-0:this.queryQuotas()}},ds={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"create_Eip"},[a("el-container",[a("el-main",{staticClass:"padding-left"},[a("div",[a("p",{staticClass:"title"},[t._v("基本信息")])]),t._v(" "),a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:t.ruleForm,"label-position":"left",rules:t.rules,"label-width":"100px",size:"small"}},[a("el-form-item",{attrs:{label:"地域：",prop:"resourceType",required:""}},[a("el-radio-group",{attrs:{size:"medium",fill:"#f9cc76"},model:{value:t.ruleForm.resourceType,callback:function(e){t.$set(t.ruleForm,"resourceType",e)},expression:"ruleForm.resourceType"}},t._l(t.regionList,function(e,i){return a("el-radio-button",{key:i,attrs:{label:e.uuid},nativeOn:{change:function(a){t.regionChange(e)}}},[t._v(t._s(e.name))])}))],1),t._v(" "),"cs"==t.regionType?a("el-form-item",{staticClass:"vpc",attrs:{label:"VPC :",prop:"vpcid",required:""}},[a("el-select",{attrs:{disabled:t.seleceCheck},model:{value:t.ruleForm.vpcid,callback:function(e){t.$set(t.ruleForm,"vpcid",e)},expression:"ruleForm.vpcid"}},t._l(t.vpclist,function(t,e){return a("el-option",{key:e,attrs:{label:t.name,value:t.id}})}))],1):t._e(),t._v(" "),a("el-form-item",{attrs:{label:"带宽：",required:""}},[a("slideScale",{attrs:{isOften:!1},on:{ofterCallback:t.bbCallback}})],1),t._v(" "),a("div",{staticClass:"title"},[t._v("购买量")]),t._v(" "),a("el-form-item",{staticClass:"eipNumber",attrs:{label:"购买数量：",prop:"eipNumber",required:""}},[a("el-input-number",{attrs:{"controls-position":"right",min:1,max:t.maxCreate},on:{change:t.sizeChange},nativeOn:{keypress:function(e){t.dian190(e)}},model:{value:t.ruleForm.eipNumber,callback:function(e){t.$set(t.ruleForm,"eipNumber",e)},expression:"ruleForm.eipNumber"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"创建时长：",required:""}},[a("slideScale",{attrs:{cycleCnt:t.ruleForm.broadband},on:{ofterCallback:t.ofterCallback}})],1)],1)],1),t._v(" "),a("el-aside",{attrs:{width:"200px"}},[a("div",{staticClass:"currentInfo"},[a("h4",[t._v("当前配置")]),t._v(" "),a("div",{staticClass:"message"},[a("dl",[a("dt",[t._v("地域：")]),t._v(" "),a("dd",[t._v(t._s(t.ruleForm.regionName?t.ruleForm.regionName:"--"))])]),t._v(" "),a("dl",[a("dt",[t._v("VPC：")]),t._v(" "),a("dd",[t._v(t._s(t.vpcChange))])]),t._v(" "),a("dl",[a("dt",[t._v("带宽：")]),t._v(" "),a("dd",[t._v(t._s(t.ruleForm.bandwidth?t.ruleForm.bandwidth:"--")+"Mbit/s")])]),t._v(" "),a("dl",[a("dt",[t._v("购买数量：")]),t._v(" "),a("dd",[t._v(t._s(t.ruleForm.eipNumber?t.ruleForm.eipNumber:"--")+"个")])]),t._v(" "),a("dl",[a("dt",[t._v("购买时长：")]),t._v(" "),a("dd",[t._v(t._s(t.ruleForm.broadbandMsg?t.ruleForm.broadbandMsg:"--"))])])]),t._v(" "),a("el-button",{staticClass:"prepaid",attrs:{type:"warning",icon:"el-icon-check"}},[t._v("预付费")])],1)])],1)],1)},staticRenderFns:[]};var ps={components:{ConsoleCreate:Xi,ConsoleConfirm:fi,ConsoleSuccess:bi,EipCreateFirst:a("VU/8")(us,ds,!1,function(t){a("BXWN"),a("H554")},"data-v-7d7581f1",null).exports},data:function(){return{page:0,checked:!1,name:"弹性公网IP",returnUrl:"/vpc/eip/eipList",order_number:"",ebsID:"",Agreement:{url:"http://www.baidu.com",name:"<<服务协议>>"},tableData:{system_name:"",tableOptions:[{prop:"num",label:u.ebs.Number}],elseData:[{system_type:"VPC",num:"1",confirmData:[{label:u.vpc.specifications,value:"--"}]},{system_type:"弹性公网IP",num:"1",confirmData:[{label:u.vpc.time,value:"--"}]},{system_type:"带宽",num:"",confirmData:[{label:u.vpc.bandwidthNum,value:""}]}]},ruleFormData:""}},methods:{orderEvent:function(){this.$refs.createOrder.order()},goProtocol:function(){window.open("http://www.ctyun.cn/term/vpc")},orderResult:function(t,e){console.log(t),t&&(this.ruleFormData=e,console.log(this.ruleFormData),this.$refs.createProcess.next())},nextPage:function(t){if(this.page=t,1==t){var e={system_type:"VPC",num:"1",confirmData:[{label:u.vpc.name,value:this.ruleFormData?this.ruleFormData.vpcName:"--"}]};this.tableData.elseData=[{system_type:"弹性公网IP",num:"1",confirmData:[{label:u.vpc.time,value:this.ruleFormData.broadbandMsg}]},{system_type:"带宽",num:this.ruleFormData?this.ruleFormData.eipNumber:"",confirmData:[{label:u.vpc.bandwidthNum,value:this.ruleFormData?this.ruleFormData.bandwidth+"Mbit/s":""}]}],"cs"==this.regionType&&this.tableData.elseData.unshift(e)}},submitForm:function(t){var e,a=this,i=(F(),{bandwidth:this.ruleFormData.bandwidth,cycleType:this.ruleFormData.cycleType,cycleCnt:this.ruleFormData.cycleCnt,orderNum:this.ruleFormData.eipNumber,regionid:this.ruleFormData.uuid,networkId:this.ruleFormData.vpcid,zoneId:P()}),n=this.$loading({lock:!0,text:"拼命创建中",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});(e=i,e.platformId=F(),Ct({url:"console/network/eip/buyeip/",method:"post",data:e})).then(function(e){console.log(e),n.close(),a.order_number=e.data.returnObj.so_number,a.$message({message:"命令下发成功",type:"success"}),t()}).catch(function(t){n.close(),console.log(t)})}},computed:{regionType:function(){return this.$store.getters.regionType}}},ms={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"createEip"},[a("ConsoleCreate",{ref:"createProcess",attrs:{returnUrl:t.returnUrl,system_type:t.name,switchPage:t.nextPage,checked:!t.checked,submitForm:t.submitForm},on:{orderEvent:t.orderEvent}},[a("div",{directives:[{name:"show",rawName:"v-show",value:0==t.page,expression:"page==0"}],staticClass:"create_title",attrs:{slot:"create_title"},slot:"create_title"},[a("EipCreateFirst",{ref:"createOrder",on:{orderResult:t.orderResult}})],1),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:1==t.page,expression:"page==1"}],staticClass:"confirm_title",attrs:{slot:"confirm_title"},slot:"confirm_title"},[a("div",{staticStyle:{padding:"20px 0","font-size":"12px","background-color":"#fff"}},[t._v("资源详情")]),t._v(" "),a("ConsoleConfirm",{attrs:{tableData:t.tableData}}),t._v(" "),a("div",{staticClass:"Agreement_component"},[a("p",[a("el-checkbox",{staticClass:"checkedTip",model:{value:t.checked,callback:function(e){t.checked=e},expression:"checked"}},[t._v("我已阅读并同意相关协议")]),t._v(" "),a("span",{staticClass:"agreement",on:{click:t.goProtocol}},[t._v("《 虚拟私有云服务协议 》")])],1)])],1),t._v(" "),2===t.page?a("div",{staticClass:"submit_title",attrs:{slot:"submit_title"},slot:"submit_title"},[a("ConsoleSuccess",{attrs:{return_url:t.returnUrl,creataWay:!0,order_number:t.order_number,system_type:t.name,system_name:t.tableData.system_name}})],1):t._e()])],1)},staticRenderFns:[]};var hs=a("VU/8")(ps,ms,!1,function(t){a("a7FZ"),a("wc+t")},"data-v-a7f9c40c",null).exports,fs={path:"eip",name:"ecmEip",component:Oi.default,redirect:"eip/eipList",children:[{path:"eipList",name:"ecmEipList",component:cs},{path:"eipCreate",name:"ecmEipCreate",component:hs}]};Ei.children.push(un,kn,Rn,Un,Kn,fs);var vs=Ei,gs={path:"/ebs",name:"ebs",component:j,redirect:"/ebs/ebsList",children:[{path:"ebsList",name:"ebsList",component:Ri},{path:"ebsDetail/:serverId",name:"ebsDetail",component:Ji,meta:{dependOn:"ebsSub"}},{path:"ebsCreate",name:"ebsCreate",component:cn,meta:{dependOn:"ebsSub",aisdeHide:!0}}]},bs={path:"bks",name:"bks",component:a("jR4E").default,redirect:"bks/bksList",children:[{path:"bksList",name:"bksList",component:hn},{path:"bksCreate",name:"bksCreate",component:Cn,meta:{dependOn:"ebsBksSub"}}]};gs.children.push(bs);var _s=gs,ys={props:{tableData:[Object],form:[Object]},data:function(){return{current:"0"}},methods:{change:function(t,e){"0"==t&&(console.log(this),this.current=t,this.form.data=e,this.$parent.doClose(),setTimeout(function(){window.open("","_blank").location="/#/vpc/creatVpc"},300))}},mounted:function(){this.form.data=this.tableData.data[0]}},ws={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"vpcBindChoose",attrs:{id:"vpcBindChoose"}},[a("ul",t._l(t.tableData.data,function(e,i){return a("li",{class:{active:i==t.current},on:{click:function(a){t.change(i,e)}}},[a("div",[a("div",{staticClass:"svg_bg"},[a("svg-icon",{attrs:{"icon-class":e.svg}})],1),t._v(" "),a("div",{staticClass:"title"},[t._v(t._s(e.title))]),t._v(" "),a("div",{staticClass:"msg"},[t._v(t._s(e.msg))])])])}))])},staticRenderFns:[]};var Cs=a("VU/8")(ys,ws,!1,function(t){a("dtKi")},null,null).exports,ks={props:{type:[String],actionTip:[Array],tableData:[Object],action:[String],loading:[Boolean],name:[String],form:[Object,String]},components:{ConsoleTable:Te},data:function(){var t=this,e=this;return{dataform:{name:this.form.name,displaytext:this.form.displaytext},rules:{name:[{validator:function(a,i,n){if(i.length>63||i.length<2)n(new Error("长度为2-63字符"));else if(ia(i))n(new Error("不能使用中文"));else{var s={status:"",id:"",name:i};t.dataform.name==i?t.form.displaytext==t.dataform.displaytext?(e.form.edited=!1,n()):(console.log("fasong"),e.form.edited=!0,n()):Se(s).then(function(t){t.data.results.length>0?n(new Error("VPC名称不能重复")):(e.form.edited=!0,n())}).catch(function(t){e.form.edited=!0,console.log(t)})}},trigger:"blur"},{required:!0,message:"名称不能为空",trigger:"blur"}]}}},methods:{validateForm:function(){return"edit"==this.type?this.$refs.dataform.validate():new rt.a(function(t,e){t()})}},computed:{typeCom:function(){return this.type||"warn"},actionCom:function(){if("start"==this.action||"stop"==this.action||"reboot"==this.action||"delete"==this.action)return"action"},fliterData:function(){var t=(new Date).getTime();return this.$set(this.tableData,"date",t),this.tableData}},created:function(){},beforeDestroyd:function(){}},xs={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"vpc-action-content",attrs:{loading:t.loading}},["delete"===t.type?a("div",[a("svg-icon",{staticClass:"vpcDelete",attrs:{"icon-class":"warn"}}),t._v(" "),a("div",{staticClass:"content"},[t._v("确定要删除"+t._s(t.form.name)+"吗？")])],1):t._e(),t._v(" "),"edit"===t.type?a("el-form",{ref:"dataform",staticClass:"demo-ruleForm",attrs:{model:t.form,rules:t.rules,"label-width":"100px"}},[a("el-form-item",{staticClass:"name",attrs:{label:"名称：",prop:"name"}},[a("el-input",{attrs:{type:"age","auto-complete":"off"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name","string"==typeof e?e.trim():e)},expression:"form.name"}}),t._v(" "),a("el-tooltip",{attrs:{"popper-class":"editVpcTip",content:"不能使用中文,且长度为2-63字符",placement:"bottom"}},[a("i",{staticClass:"el-icon-question"})])],1),t._v(" "),a("el-form-item",{attrs:{label:"描述：",prop:"displaytext"}},[a("el-input",{attrs:{type:"age","auto-complete":"off"},model:{value:t.form.displaytext,callback:function(e){t.$set(t.form,"displaytext","string"==typeof e?e.trim():e)},expression:"form.displaytext"}})],1)],1):t._e()],1)},staticRenderFns:[]};var Ds=a("VU/8")(ks,xs,!1,function(t){a("0Bly"),a("5uQl")},"data-v-24c5d67a",null).exports,Ts=void 0,Is={props:{name:[String],buttonText:[String]},components:{RegionList:me,ConsoleSearch:ge,ConsoleTable:Te,VpcCreateChoose:Cs,vpcDilogView:Ds},data:function(){var t=this;return{regionId:"",checkBox:!0,statusOnOff:!0,detailRefresh:!1,loading:!1,totalCount:0,vpcTotalCount:0,vpcRemainCounts:0,vpcLimitQuota:0,Pagination:{pagingData:[10,20,50],total:0,show:!1},vpclist:[],multipleSelection:[],changeTableData:[],regionData:[],filter:{status:"",limit:10,page:1,name:"",id:""},options:[{value:u.common.allStatus,label:u.common.allStatus},{value:u.vpc.Enabled,label:u.vpc.Enabled},{value:u.vpc.Disabled,label:u.vpc.Disabled}],optionsValue:u.common.allStatus,tableOptions:[{prop:"name",label:u.vpc.name,width:"172px",temp:!0,detail:!0,path:"/vpc/vpcDetail"},{prop:"displaytext",label:u.vpc.displaytext},{prop:"stateTxt",label:u.vpc.state,temp:!0,status:!0},{prop:"vpc_type",label:u.vpc.vpc_type},{prop:"cidr",label:u.vpc.cidr},{prop:"net_num",label:u.vpc.net_num}],vpcOperation:[{value:u.vpc.delete,fun:function(e){return t.delete(e)}},{value:u.vpc.edit,fun:function(e){return t.edit(e)}}]}},methods:{selectChange:function(t){this.filter.name="",this.filter.id="",this.filter.status="启用"===t?"Enabled":"Disable",console.log(this.filter),this.getVpcList()},clear:function(){this.filter.keyword="",this.filter.name="",this.filter.id=""},search:function(t){"id"==t.name?(this.filter.status="",this.filter.name="",this.filter.id=t.value,this.filter.keyword=""):(this.filter.status="",this.filter.name="",this.filter.id="",this.filter.keyword=t.value),this.getVpcList()},changeTable:function(t){this.changeTableData=t},handleSelectionChange:function(t){this.multipleSelection=t},delete:function(t){var e=this,a=this.$message;if(t.subnet_creating)a({message:"该VPC下有正在创建的子网,不允许删除！请等待子网创建成功后再重试。",type:"error"});else{var i=Ds,n={};n.type="delete",n.title="删除虚拟私有云";var s={data:n,view:i,form:{name:t.name}},o=t.id;this.$alertDialog(s).then(function(t){var i,n;e.loading=!0,(i=o,n={regionid:F()},Ct({url:"console/network/vpcs/"+i+"/",method:"delete",params:n})).then(function(t){e.loading=!1,a("VPC刪除成功"),console.log(t),e.refresh()}).catch(function(t){e.loading=!1,console.log(t),e.refresh()})}),console.log("delete")}},autoRefreshJob:function(t){var e=this;t&&("string"==typeof t?this.getJobDetail(t,data):Array.isArray(t)?t.map(function(t){console.log(t),t.jobid&&e.getJobDetail(t.jobid)}):console.log(t))},getJobDetail:function(t){var e=this;if(!this.detailRefresh){var a=void 0,i=this;Ie(t).then(function(t){console.log(t);var n=t.data.results[0];1==n.jobstatus?(console.log(n.jobresult.vpc),e.getVpcDetail(n.jobresult.vpc.id)):2==n.jobstatus?(clearTimeout(a),e.refresh()):a=setTimeout(function(){i.getJobDetail(n.jobid)},5e3)}).catch(function(t){e.detailRefresh=!0,setTimeout(function(){e.refresh()},3e3)})}},edit:function(t){this.$message,this.refresh;var e=Ds,a={},i=this;a.type="edit",a.title="修改虚拟私有云";var n={data:a,view:e,form:{name:t.name,displaytext:"--"==t.displaytext?"":t.displaytext}},s=t.id;this.$alertDialog(n).then(function(t){if(console.log(t),t.edited){var e={name:t.name,desc:t.displaytext||""};Le(s,e).then(function(t){t.data.results[0].jobid;i.detailRefresh=!1,i.autoRefreshJob(t.data.results),console.log(t)}).catch(function(t){console.log(t)})}})},buttonClick:function(t,e){t(e)},create:function(){if(this.vpcRemainCount>0){var t={data:{option:"",title:"创建虚拟私有云",actionTip:"",data:[{svg:"privateVPC",title:"创建虚拟网络VPC",msg:""},{svg:"physicalVPC",title:"创建物理网络VPC",msg:"在线创建物理VPC功能暂未开通，如需开通物理网络VPC，请联系您的客户经理。"}]},view:Cs,form:{},ref:!0};this.$alertDialog(t).then(function(t){if(t.data&&"privateVPC"==t.data.svg){var e=document.getElementById("vpcBindChoose");setTimeout(function(){console.log(e),e.style.display="none"},1e3),t.win.location="/#/vpc/creatVpc"}else t.win.close()})}else this.$message({message:"虚拟私有云配额不足!",type:"warning"})},changeRegion:function(t){Ct.cancle("CancelToken"),this.regionId=t,this.refresh()},getRegion:function(){var t=void 0;if(F())clearTimeout(t),this.changeRegion();else{var e=this;t=setTimeout(function(){e.getRegion()},300)}},autoRefresh:function(t){var e=this;t&&t.map(function(t){console.log(t),e.getVpcDetail(t)})},getVpcDetail:function(t){var e=this,a=this;this.detailRefresh||(Ts&&clearTimeout(Ts),Ee(t).then(function(e){var i=e.data.results[0];console.log(i),i.subnet_creating?Ts=setTimeout(function(){a.getVpcDetail(t)},5e3):(i.net_num=i.network.length,i.status=i.state?_e(i.state):"--",i.displaytext=i.displaytext?i.displaytext:"--",i.vpc_type="虚拟网络VPC",i.fake_vpc&&1==i.fake_vpc&&a.addOperation(i),a.vpclist.map(function(t,e){if(t.id==i.id)return console.log(i),a.$set(a.vpclist,e,i),!0}))}).catch(function(t){console.log(t),e.detailRefresh=!0,Ts=setTimeout(function(){a.refresh()},3e3)}))},getVpcList:function(t){var e=this,a=this.filter;"os"==this.regionType&&(a.detail=1),this.loading=!0,Se(a).then(function(t){var a=t.data.results;e.filterServers(a),e.vpclist=a;var i=t.data.total_count;e.totalCount=i,e.Pagination.total=e.totalCount,e.vpcLimitQuota=t.data.real_vpc_count,i>e.Pagination.pagingData[0]&&(e.Pagination.show=!0);var n=[];a.filter(function(t){if(!t.subnet_creating)return!1;n.push(t.id)}),n.length>0&&(e.detailRefresh=!1,e.autoRefresh(n)),e.loading=!1}).catch(function(t){"CancelToken"==t.message||(e.loading=!1),console.log(t)})},addOperation:function(t){var e=this,a=[{value:u.vpc.delete,disabled:!0,fun:function(t){return e.delete(t)}},{value:u.vpc.edit,disabled:!0,fun:function(t){return e.edit(t)}}],i="fake_vpc"==t.name?"默认网络":t.name;this.$set(t,"name",i),this.$set(t,"cidr","--"),this.$set(t,"vpc_type","物理网络VPC"),this.$set(t,"operation",a)},filterServers:function(t){var e=this;t.filter(function(t,a){if("os"==e.regionType){t.net_num=t.subnet_list.length,t.displaytext=t.description,t.status=_e({ACTIVE:"Enabled"}[t.status])}return"cs"==e.regionType&&(t.net_num=t.network.length,t.displaytext=t.displaytext?t.displaytext:"--",t.status=t.state?_e(t.state):"--"),t.vpc_type="虚拟网络VPC",t.fake_vpc&&1==t.fake_vpc&&e.addOperation(t),!0})},refresh:function(){this.filter.status="",this.filter.id="",this.GetRegionNums(),this.getVpcList()},pagingChange:function(t,e){"num"==t?this.filter.limit=e:"page"==t&&(this.filter.page=e),this.loading=!0,this.getVpcList()},queryQuotas:function(){var t=this;He().then(function(e){console.log(e.data.results);var a=e.data.returnObj;t.vpcTotalCount=a.vpc_limit?a.vpc_limit-0:""}).catch(function(t){console.log(t)})},GetRegionNums:function(){var t=this;Vt({resource:"vpc",regionid:F()}).then(function(e){var a=e.data.results[0].VPC;console.log(a),a&&a.detail&&(t.regionData=a.detail)})}},computed:{changeRowSty:function(t,e){return{background:"#f0f2f7"}},changethSty:function(t,e){return{background:"#f0f2f7",color:"#333333","font-size":"12px","font-weight":"600"}},vpcRemainCount:function(){return this.vpcRemainCounts=this.vpcTotalCount-this.vpcLimitQuota,this.vpcRemainCounts>0?this.vpcRemainCounts:(this.vpcRemainCounts=0,this.vpcRemainCounts)},regionType:function(){return this.$store.getters.regionType}},mounted:function(){this.getRegion();var t=this.$store.state.user.user.quotas;t.vpc_limit?this.vpcTotalCount=t.vpc_limit-0:this.queryQuotas()},beforeDestroy:function(){this.detailRefresh=!0}},Ss={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"main"},[e("RegionList",{attrs:{name:this.name,regionData:this.regionData,buttonText:this.buttonText},on:{create:this.create,changeRegion:this.changeRegion}}),this._v(" "),e("div",{staticClass:"content"},[e("div",{staticClass:"content_top"},[e("div",{staticClass:"vpc_mark"},[this._v("您还可以创建"+this._s(this.vpcRemainCount)+"个虚拟网络VPC")]),this._v(" "),e("ConsoleSearch",{staticClass:"vpc_search",attrs:{options:this.options,optionsValue:this.optionsValue,btnClose:!0,disableData:this.changeTableData},on:{searchEvent:this.search,clear:this.clear,selectChange:this.selectChange,refreshEvent:this.refresh}})],1),this._v(" "),e("div",[e("ConsoleTable",{staticClass:"vpclist",attrs:{tableData:this.vpclist,tableOptions:this.tableOptions,selectOrNot:!0,dragable:!0,loading:this.loading,operationOrNot:!0,OperationEvents:this.vpcOperation,Pagination:this.Pagination},on:{buttonClick:this.buttonClick,changeTable:this.changeTable,pagingEvent:this.pagingChange}})],1)])],1)},staticRenderFns:[]};var Es=a("VU/8")(Is,Ss,!1,function(t){a("aSFG")},"data-v-74512ffa",null).exports,Os=a("jwfv"),Fs=a("ufP2"),Ls=a("9BW/"),Ps=a("3Q1+"),Ns={name:"ElFormItem",componentName:"ElFormItem",mixins:[Fs.a],provide:function(){return{elFormItem:this}},inject:["elForm"],props:{label:String,labelWidth:String,prop:String,required:{type:Boolean,default:void 0},rules:[Object,Array],error:String,validateStatus:String,for:String,inlineMessage:{type:[String,Boolean],default:""},showMessage:{type:Boolean,default:!0},size:String},watch:{error:{immediate:!0,handler:function(t){this.validateMessage=t,this.validateState=t?"error":""}},validateStatus:function(t){this.validateState=t}},computed:{labelFor:function(){return this.for||this.prop},labelStyle:function(){var t={};if("top"===this.form.labelPosition)return t;var e=this.labelWidth||this.form.labelWidth;return e&&(t.width=e),t},contentStyle:function(){var t={},e=this.label;if("top"===this.form.labelPosition||this.form.inline)return t;if(!e&&!this.labelWidth&&this.isNested)return t;var a=this.labelWidth||this.form.labelWidth;return a&&(t.marginLeft=a),t},form:function(){for(var t=this.$parent,e=t.$options.componentName;"ElForm"!==e;)"ElFormItem"===e&&(this.isNested=!0),e=(t=t.$parent).$options.componentName;return t},fieldValue:{cache:!1,get:function(){var t=this.form.model;if(t&&this.prop){var e=this.prop;return-1!==e.indexOf(":")&&(e=e.replace(/:/,".")),Object(Ps.a)(t,e,!0).v}}},isRequired:function(){var t=this.getRules(),e=!1;return t&&t.length&&t.every(function(t){return!t.required||(e=!0,!1)}),e},_formSize:function(){return this.elForm.size},elFormItemSize:function(){return this.size||this._formSize},sizeClass:function(){return(this.$ELEMENT||{}).size||this.elFormItemSize}},data:function(){return{validateState:"",validateMessage:"",validateDisabled:!1,validator:{},isNested:!1}},methods:{validate:function(t){var e=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ps.b;this.validateDisabled=!1;var i=this.getFilteredRule(t);if((!i||0===i.length)&&void 0===this.required)return a(),!0;this.validateState="validating";var n={};i&&i.length>0&&i.forEach(function(t){delete t.trigger}),n[this.prop]=i;var s=new Os.default(n),o={};o[this.prop]=this.fieldValue,s.validate(o,{firstFields:!0},function(t,i){e.validateState=t?"error":"success",e.validateMessage=t?t[0].message:"",a(e.validateMessage)})},clearValidate:function(){this.validateState="",this.validateMessage="",this.validateDisabled=!1},resetField:function(){this.validateState="",this.validateMessage="";var t=this.form.model,e=this.fieldValue,a=this.prop;-1!==a.indexOf(":")&&(a=a.replace(/:/,"."));var i=Object(Ps.a)(t,a,!0);Array.isArray(e)?(this.validateDisabled=!0,i.o[i.k]=[].concat(this.initialValue)):(this.validateDisabled=!0,i.o[i.k]=this.initialValue)},getRules:function(){var t=this.form.rules,e=this.rules,a=void 0!==this.required?{required:!!this.required}:[];return t=t?Object(Ps.a)(t,this.prop||"").o[this.prop||""]:[],[].concat(e||t||[]).concat(a)},getFilteredRule:function(t){return this.getRules().filter(function(e){return!e.trigger||-1!==e.trigger.indexOf(t)}).map(function(t){return Object(Ls.a)({},t)})},onFieldBlur:function(){this.validate("blur")},onFieldChange:function(){this.validateDisabled?this.validateDisabled=!1:this.validate("change")}},mounted:function(){if(this.prop){this.dispatch("ElForm","el.form.addField",[this]);var t=this.fieldValue;Array.isArray(t)&&(t=[].concat(t)),Object.defineProperty(this,"initialValue",{value:t}),(this.getRules().length||void 0!==this.required)&&(this.$on("el.form.blur",this.onFieldBlur),this.$on("el.form.change",this.onFieldChange))}},beforeDestroy:function(){this.dispatch("ElForm","el.form.removeField",[this])}},$s={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"el-form-item",class:[{"el-form-item--feedback":this.elForm&&this.elForm.statusIcon,"is-error":"error"===this.validateState,"is-validating":"validating"===this.validateState,"is-success":"success"===this.validateState,"is-required":this.isRequired||this.required},this.sizeClass?"el-form-item--"+this.sizeClass:""]},[this.label||this.$slots.label?e("label",{staticClass:"el-form-item__label",style:this.labelStyle,attrs:{for:this.labelFor}},[this._t("label",[this._v(this._s(this.label+this.form.labelSuffix))])],2):this._e(),this._v(" "),e("div",{staticClass:"el-form-item__content",style:this.contentStyle},[this._t("default"),this._v(" "),e("transition",{attrs:{name:"el-zoom-in-top"}},["error"===this.validateState&&this.showMessage&&this.form.showMessage?e("div",{staticClass:"el-form-item__error",class:{"el-form-item__error--inline":"boolean"==typeof this.inlineMessage?this.inlineMessage:this.elForm&&this.elForm.inlineMessage||!1}},[this._v("\n        "+this._s(this.validateMessage)+"\n      ")]):this._e()])],2)])},staticRenderFns:[]},Rs=a("VU/8")(Ns,$s,!1,null,null,null).exports,zs=a("IHkg"),As=a("Doj+"),Ms={name:"ElInput",componentName:"ElInput",mixins:[Fs.a,zs.a],inject:{elForm:{default:""},elFormItem:{default:""}},data:function(){return{currentValue:this.value,textareaCalcStyle:{},prefixOffset:null,suffixOffset:null,hovering:!1,focused:!1}},props:{value:[String,Number],placeholder:String,size:String,resize:String,name:String,form:String,id:String,maxlength:Number,minlength:Number,readonly:Boolean,autofocus:Boolean,disabled:Boolean,type:{type:String,default:"text"},autosize:{type:[Boolean,Object],default:!1},rows:{type:Number,default:2},autoComplete:{type:String,default:"off"},max:{},min:{},step:{},validateEvent:{type:Boolean,default:!0},suffixIcon:String,prefixIcon:String,label:String,clearable:{type:Boolean,default:!1}},computed:{_elFormItemSize:function(){return(this.elFormItem||{}).elFormItemSize},validateState:function(){return this.elFormItem?this.elFormItem.validateState:""},needStatusIcon:function(){return!!this.elForm&&this.elForm.statusIcon},validateIcon:function(){return{validating:"el-icon-loading",success:"el-icon-circle-check",error:"el-icon-circle-close"}[this.validateState]},textareaStyle:function(){return Object(Ls.a)({},this.textareaCalcStyle,{resize:this.resize})},inputSize:function(){return this.size||this._elFormItemSize||(this.$ELEMENT||{}).size},isGroup:function(){return this.$slots.prepend||this.$slots.append},showClear:function(){return this.clearable&&""!==this.currentValue&&(this.focused||this.hovering)}},watch:{value:function(t,e){this.setCurrentValue(t)}},methods:{focus:function(){(this.$refs.input||this.$refs.textarea).focus()},getMigratingConfig:function(){return{props:{icon:"icon is removed, use suffix-icon / prefix-icon instead.","on-icon-click":"on-icon-click is removed."},events:{click:"click is removed."}}},handleBlur:function(t){this.focused=!1,this.$emit("blur",t),this.validateEvent&&this.dispatch("ElFormItem","el.form.blur",[this.currentValue])},inputSelect:function(){(this.$refs.input||this.$refs.textarea).select()},resizeTextarea:function(){if(!this.$isServer){var t=this.autosize;if("textarea"===this.type)if(t){var e=t.minRows,a=t.maxRows;this.textareaCalcStyle=Object(As.a)(this.$refs.textarea,e,a)}else this.textareaCalcStyle={minHeight:Object(As.a)(this.$refs.textarea).minHeight}}},handleFocus:function(t){this.focused=!0,this.$emit("focus",t)},handleInput:function(t){var e=t.target.value;this.$emit("input",e),this.setCurrentValue(e)},handleChange:function(t){this.$emit("change",t.target.value)},setCurrentValue:function(t){var e=this;t!==this.currentValue&&(this.$nextTick(function(t){e.resizeTextarea()}),this.currentValue=t,this.validateEvent&&this.dispatch("ElFormItem","el.form.change",[t]))},calcIconOffset:function(t){var e={suf:"append",pre:"prepend"}[t];if(this.$slots[e])return{transform:"translateX("+("suf"===t?"-":"")+this.$el.querySelector(".el-input-group__"+e).offsetWidth+"px)"}},clear:function(){this.$emit("input",""),this.$emit("change",""),this.setCurrentValue(""),this.focus()}},created:function(){this.$on("inputSelect",this.inputSelect)},mounted:function(){this.resizeTextarea(),this.isGroup&&(this.prefixOffset=this.calcIconOffset("pre"),this.suffixOffset=this.calcIconOffset("suf"))}},Vs={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{class:["textarea"===t.type?"el-textarea":"el-input",t.inputSize?"el-input--"+t.inputSize:"",{"is-disabled":t.disabled,"el-input-group":t.$slots.prepend||t.$slots.append,"el-input-group--append":t.$slots.append,"el-input-group--prepend":t.$slots.prepend,"el-input--prefix":t.$slots.prefix||t.prefixIcon,"el-input--suffix":t.$slots.suffix||t.suffixIcon}],on:{mouseenter:function(e){t.hovering=!0},mouseleave:function(e){t.hovering=!1}}},["textarea"!==t.type?[t.$slots.prepend?a("div",{staticClass:"el-input-group__prepend",attrs:{tabindex:"0"}},[t._t("prepend")],2):t._e(),t._v(" "),"textarea"!==t.type?a("input",t._b({ref:"input",staticClass:"el-input__inner",attrs:{autocomplete:t.autoComplete,"aria-label":t.label},domProps:{value:t.currentValue},on:{input:t.handleInput,focus:t.handleFocus,blur:t.handleBlur,change:t.handleChange}},"input",t.$props,!1)):t._e(),t._v(" "),t.$slots.prefix||t.prefixIcon?a("span",{staticClass:"el-input__prefix",style:t.prefixOffset},[t._t("prefix"),t._v(" "),t.prefixIcon?a("i",{staticClass:"el-input__icon",class:t.prefixIcon}):t._e()],2):t._e(),t._v(" "),t.$slots.suffix||t.suffixIcon||t.showClear||t.validateState&&t.needStatusIcon?a("span",{staticClass:"el-input__suffix",style:t.suffixOffset},[a("span",{staticClass:"el-input__suffix-inner"},[t.showClear?a("i",{staticClass:"el-input__icon el-icon-circle-close el-input__clear",on:{click:t.clear}}):[t._t("suffix"),t._v(" "),t.suffixIcon?a("i",{staticClass:"el-input__icon",class:t.suffixIcon}):t._e()]],2),t._v(" "),t.validateState?a("i",{staticClass:"el-input__icon",class:["el-input__validateIcon",t.validateIcon]}):t._e()]):t._e(),t._v(" "),t.$slots.append?a("div",{staticClass:"el-input-group__append"},[t._t("append")],2):t._e()]:a("textarea",t._b({ref:"textarea",staticClass:"el-textarea__inner",style:t.textareaStyle,attrs:{"aria-label":t.label},domProps:{value:t.currentValue},on:{input:t.handleInput,focus:t.handleFocus,blur:t.handleBlur,change:t.handleChange}},"textarea",t.$props,!1))],2)},staticRenderFns:[]},Bs=a("VU/8")(Ms,Vs,!1,null,null,null).exports,js={name:"ElForm",componentName:"ElForm",provide:function(){return{elForm:this}},props:{model:Object,rules:Object,labelPosition:String,labelWidth:String,labelSuffix:{type:String,default:""},inline:Boolean,inlineMessage:Boolean,statusIcon:Boolean,showMessage:{type:Boolean,default:!0},size:String},watch:{rules:function(){this.validate()}},data:function(){return{fields:[]}},created:function(){var t=this;this.$on("el.form.addField",function(e){e&&t.fields.push(e)}),this.$on("el.form.removeField",function(e){e.prop&&t.fields.splice(t.fields.indexOf(e),1)})},methods:{resetFields:function(){this.model&&this.fields.forEach(function(t){t.resetField()})},clearValidate:function(){this.fields.forEach(function(t){t.clearValidate()})},validate:function(t){var e=this;if(this.model){var a=void 0;"function"!=typeof t&&window.Promise&&(a=new window.Promise(function(e,a){t=function(t){t?e(t):a(t)}}));var i=!0,n=0;return 0===this.fields.length&&t&&t(!0),this.fields.forEach(function(a,s){a.validate("",function(a){a&&(i=!1),"function"==typeof t&&++n===e.fields.length&&t(i)})}),a||void 0}console.warn("[Element Warn][Form]model is required for validate to work!")},validateField:function(t,e){var a=this.fields.filter(function(e){return e.prop===t})[0];if(!a)throw new Error("must call validateField with valid prop string!");a.validate("",e)}}},qs={render:function(){var t=this.$createElement;return(this._self._c||t)("form",{staticClass:"el-form",class:[this.labelPosition?"el-form--label-"+this.labelPosition:"",{"el-form--inline":this.inline}]},[this._t("default")],2)},staticRenderFns:[]},Us=a("VU/8")(js,qs,!1,null,null,null).exports,Hs={props:{type:[String],regionId:[String],actionTip:[Array],tableData:[Object],action:[String],loading:[Boolean],form:[Object,String]},components:{ElInput:Bs,ElForm:Us,ElFormItem:Rs,ConsoleTable:Te},data:function(){var t=this,e=this,a=0,i=function(t,e,a){/^\d+$/g.test(e)?e<1?a(new Error("端口范围在 1 到 65535 之间")):e>65535?a(new Error("端口范围在 1 到 65535 之间")):a():a(new Error("端口值必须为数字值"))};return{name:"",desc:"",aclId:"",seleceCheck:!0,dataform:{name:"",desc:"",protocol:"tcp",traffictype:"ingress",type:"allow",icmptype:"-1",icmpcode:"-1",net:{name:"sub_cidr",first:0,second:0,third:0,four:0,last:0},protocolList:[{label:"TCP",protocol:"tcp"},{label:"UDP",protocol:"udp"},{label:"ICMP",protocol:"icmp"},{label:"ALL",protocol:"all"}],vpclist:[],vpcid:""},rules:{name:[{required:!0,message:"名称不能为空",trigger:"blur"},{min:3,max:16,message:"长度在 3 到 16 个字符",trigger:"blur"},{validator:function(t,e,a){e.length>63||e.length<2?a(new Error("长度为2-63字符")):ia(e)?a(new Error("不能使用中文")):Fe({id:"",name:e}).then(function(t){t.data.results.length>0?a(new Error("ACL名称不能重复!")):a()}).catch(function(t){console.log(t)})},trigger:"blur"}],net:[{validator:function(t,i,n){console.log(i);var s=i.first+"."+i.second+"."+i.third+"."+i.four;if(Je(s))if("cidr"==i.name&&function(t){var e=void 0,i=void 0,n=void 0;try{return 4===(e=t.split(".")).length&&(i=parseInt(e[0],10),n=parseInt(e[1],10),10===i?(a=8,!0):172===i&&n>15&&n<32?(a=12,!0):192===i&&168===n&&(a=16,!0))}catch(t){return!1}}(s)||"sub_cidr"==i.name){var o=parseInt(i.last);if("sub_cidr"==i.name&&(o>256||o<parseInt(a,10)))n(new Error("端口值不合法"));else{if("sub_cidr"==i.name){var r=e.dataform.net,l=parseInt(r.last);parseInt(l)>parseInt(o)&&n(new Error("子网IP地址不在可用网段内。")),Xe(Ke(l),s,r.first+"."+r.second+"."+r.third+"."+r.four)?n():n(new Error("网段IP地址与掩码不匹配。"))}"cidr"==i.name&&(Ye(Ke(parseInt(i.last)),s)?(e.cidrOk=!0,n()):n(new Error("网段IP地址与掩码不匹配。")))}}else n(new Error("不能使用此网段。"));else n(new Error("IP地址不合法"))},trigger:"blur"}],vpcid:[{required:!0,message:"VPC选择不能为空",trigger:"blur"}],minport:[{required:!0,message:"请输入端口范围",trigger:"blur"},{validator:i,trigger:"blur"},{validator:function(e,a,i){t.dataform.maxport&&(parseInt(a)>parseInt(t.dataform.maxport)?i(new Error("端口下限应小于等于端口上限")):i())},trigger:"blur"}],maxport:[{required:!0,message:"请输入端口范围",trigger:"blur"},{validator:i,trigger:"blur"},{validator:function(e,a,i){t.dataform.minport&&(parseInt(a)<parseInt(t.dataform.minport)?i(new Error("端口下限应小于等于端口上限")):i())},trigger:"blur"}],icmptype:[{required:!0,message:"请输入icmp类型",trigger:"blur"}],icmpcode:[{required:!0,message:"请输入icmp代码",trigger:"blur"}]}}},methods:{changeProtocaol:function(t){this.dataform.protocol=t,console.log(t)},onkeydowns:function(t,e,a){var i=window.event||t,n=document.getElementById(a).getElementsByTagName("input"),s=i.target.value.length,o=(i.target.value,i.keyCode||i.which||i.charCode);if(o>=48&&o<=57||o>=96&&o<=105){if(s>=3){if("0"==n[e].selectionStart&&s==n[e].selectionEnd&&n[e].value)return!0;e<3&&n[e+1].focus()}return!0}if(39==o||190==o){var r=-1;if(n[e].value||"0"==n[e].value)if(n[e].selectionStart||"0"==n[e].selectionStart)r=n[e].selectionStart;else{var l=document.selection.createRange();l.moveStart("character",-n[e].value.length),r=l.text.length}else r=0;if(console.log(n[e].selectionStart),r==n[e].value.length&&e<3){var c=n[e+1].value.length;if(n[e+1].setSelectionRange)n[e+1].focus(),n[e+1].setSelectionRange(0,0);else if(n[e+1].createTextRange){var u=obj.createTextRange();u.collapse(!0),u.moveEnd("character",c),u.moveStart("character",c),u.select()}}190==o&&t.preventDefault()}else if(37==o){var d=-1;if(n[e].value||"0"==n[e].value)if(n[e].selectionStart||"0"==n[e].selectionStart)d=n[e].selectionEnd;else{var p=document.selection.createRange();p.moveStart("character",-n[e].value.length),d=p.text.length}else d=0;if(console.log(d,n[e].selectionEnd),"0"==d&&e>0){var m=n[e-1],h=m.value.length;m.setSelectionRange?setTimeout(function(){m.focus(),m.selectionStart=h,m.selectionEnd=h,m.setSelectionRange(h,h)},10):m.createTextRange&&setTimeout(function(){var t=obj.createTextRange();t.collapse(!0),t.moveEnd("character",h),t.moveStart("character",h),t.select()},10)}}else{if(8==o){var f=-1,v=n[e].value.length;if(n[e].value||"0"==n[e].value)if(n[e].selectionStart||"0"==n[e].selectionStart)f=n[e].selectionStart;else{var g=document.selection.createRange();g.moveStart("character",-s),f=g.text.length}else f=0;if(0==f){if("0"==n[e].selectionStart&&v==n[e].selectionEnd&&n[e].value)return!0;e>0&&(n[e-1].selectionStart=n[e-1].value.length,n[e-1].focus())}return!0}if(9==o)return!0;t.preventDefault()}},replaceNum:function(t){var e=window.event?t.keyCode:t.which;if(!window.event){if([8,9,110,37,39,0].includes(e))return}if(46==e){var a=t.target.parentElement.nextElementSibling?t.target.parentElement.nextElementSibling.nextElementSibling.firstElementChild:"";a&&a.focus(),a&&a.setSelectionRange(0,3)}e>=48&&e<=57||t.preventDefault()},setname:function(){this.dataform.name="acl-"+xt()},validateForm:function(){return"delete"!==this.type?this.$refs.dataform.validate():new rt.a(function(t,e){t()})},filterFakeVpc:function(t){return t.filter(function(t){return!(t.fake_vpc&&1==t.fake_vpc)})}},watch:{dataform:{handler:function(t,e){console.log(t),console.log(e),this.form.desc=this.dataform.desc,this.form.vpcid=this.dataform.vpcid,this.form.name=this.dataform.name,this.form.protocol=e.protocol,this.form.direction=e.traffictype,this.form.action=e.type,this.form.port_range_min=e.minport,this.form.port_range_max=e.maxport,this.form.icmptype=e.icmptype,this.form.icmpcode=e.icmpcode,this.form.remote_ip_prefix=e.net.first+"."+this.dataform.net.second+"."+this.dataform.net.third+"."+this.dataform.net.four+"/"+this.dataform.net.last},deep:!0}},computed:{getfrom:{get:function(){console.log("get")},set:function(t){console.log("set"),console.log(t)}},typeCom:function(){return this.type||"warn"},actionCom:function(){if("start"==this.action||"stop"==this.action||"reboot"==this.action||"delete"==this.action)return"action"},fliterData:function(){var t=(new Date).getTime();return this.$set(this.tableData,"date",t),this.tableData}},created:function(){var t=this;if("create"==this.type){this.regionId;this.seleceCheck=!0,Se({}).then(function(e){console.log(e);var a=t.filterFakeVpc(e.data.results);t.dataform.vpclist=a,t.seleceCheck=!1,t.dataform.vpcid=a[0].id,t.loading=!1}).catch(function(e){t.loading=!1,console.log(e)})}this.setname()},beforeDestroyd:function(){}},Ws={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"action-content",attrs:{loading:t.loading}},["delete"===t.type?a("div",[a("svg-icon",{staticClass:"vpcDelete",attrs:{"icon-class":"warn"}}),t._v(" "),a("div",{staticClass:"content"},[t._v("确定要删除"+t._s(t.form.name)+"吗？")])],1):t._e(),t._v(" "),"create"===t.type?a("el-form",{ref:"dataform",staticClass:"acl-create",attrs:{size:"small",model:t.dataform,rules:t.rules,"label-width":"100px"}},[t.form.vpc?t._e():a("el-form-item",{staticClass:"vpc",attrs:{label:"VPC :",prop:"vpcid",required:""}},[a("el-select",{attrs:{disabled:t.seleceCheck},model:{value:t.dataform.vpcid,callback:function(e){t.$set(t.dataform,"vpcid",e)},expression:"dataform.vpcid"}},t._l(t.dataform.vpclist,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})}))],1),t._v(" "),a("el-form-item",{staticClass:"name",attrs:{label:"ACL名称 :",prop:"name",required:""}},[a("el-input",{attrs:{type:"age","auto-complete":"off"},model:{value:t.dataform.name,callback:function(e){t.$set(t.dataform,"name","string"==typeof e?e.trim():e)},expression:"dataform.name"}}),t._v(" "),a("el-tooltip",{attrs:{"popper-class":"createAclTip",content:"不能使用中文,且长度为2-63字符",placement:"top"}},[a("i",{staticClass:"el-icon-question"})])],1),t._v(" "),a("el-form-item",{staticClass:"desc",attrs:{label:"描述 :",prop:"desc"}},[a("el-input",{attrs:{type:"age","auto-complete":"off"},model:{value:t.dataform.desc,callback:function(e){t.$set(t.dataform,"desc",e)},expression:"dataform.desc"}})],1)],1):t._e(),t._v(" "),"createRule"===t.type?a("el-form",{ref:"dataform",staticClass:"subnet-create",attrs:{size:"small",model:t.dataform,rules:t.rules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"CIDR :",prop:"net",required:""}},[a("div",{staticClass:"tiny-net"},[a("span",{staticClass:"tiny_input_ip_container valid_error_input",attrs:{id:"CidrIp"}},[a("el-input",{staticClass:"tiny_input_ip_anchor tiny_input_ip_octet",attrs:{maxlength:3,type:"text"},nativeOn:{keydown:function(e){t.onkeydowns(e,0,"CidrIp")},keypress:function(e){t.replaceNum(e)}},model:{value:t.dataform.net.first,callback:function(e){t.$set(t.dataform.net,"first",e)},expression:"dataform.net.first"}}),t._v(" "),a("span",{staticClass:"tiny_input_ip_division"},[t._v(".")]),t._v(" "),a("el-input",{staticClass:"tiny_input_ip_anchor tiny_input_ip_octet",attrs:{maxlength:3,type:"text"},nativeOn:{keydown:function(e){t.onkeydowns(e,1,"CidrIp")},keypress:function(e){t.replaceNum(e)}},model:{value:t.dataform.net.second,callback:function(e){t.$set(t.dataform.net,"second",e)},expression:"dataform.net.second"}}),t._v(" "),a("span",{staticClass:"tiny_input_ip_division"},[t._v(".")]),t._v(" "),a("el-input",{staticClass:"tiny_input_ip_anchor tiny_input_ip_octet",attrs:{maxlength:3,type:"text"},nativeOn:{keydown:function(e){t.onkeydowns(e,2,"CidrIp")},keypress:function(e){t.replaceNum(e)}},model:{value:t.dataform.net.third,callback:function(e){t.$set(t.dataform.net,"third",e)},expression:"dataform.net.third"}}),t._v(" "),a("span",{staticClass:"tiny_input_ip_division"},[t._v(".")]),t._v(" "),a("el-input",{staticClass:"tiny_input_ip_anchor tiny_input_ip_octet",attrs:{maxlength:3,type:"text"},nativeOn:{keydown:function(e){t.onkeydowns(e,3,"CidrIp")},keypress:function(e){t.replaceNum(e)}},model:{value:t.dataform.net.four,callback:function(e){t.$set(t.dataform.net,"four",e)},expression:"dataform.net.four"}})],1),t._v(" "),a("span",{staticClass:"ng-scope"},[t._v("/")]),t._v(" "),a("span",{staticClass:"tiny-textbox-container",staticStyle:{width:"50px"},attrs:{id:"VpcPortal"}},[a("el-input",{staticClass:"tiny-input-text valid_error_input",attrs:{maxlength:2,type:"text",value:"24",spellcheck:"false",validator:"true"},nativeOn:{keypress:function(e){t.replaceNum(e)}},model:{value:t.dataform.net.last,callback:function(e){t.$set(t.dataform.net,"last",e)},expression:"dataform.net.last"}})],1)])]),t._v(" "),a("el-form-item",{staticClass:"protocol",attrs:{label:"协议 :",prop:"protocol"}},[a("el-select",{staticClass:"tiny-net protocol",on:{change:function(e){t.changeProtocaol(t.dataform.protocol)}},model:{value:t.dataform.protocol,callback:function(e){t.$set(t.dataform,"protocol",e)},expression:"dataform.protocol"}},t._l(t.dataform.protocolList,function(t){return a("el-option",{key:t.protocol,attrs:{label:t.label,value:t.protocol}})}))],1),t._v(" "),a("el-form-item",{staticClass:"traffictype",attrs:{label:"方向 :",prop:"traffictype"}},[a("el-radio-group",{staticClass:"tiny-net",model:{value:t.dataform.traffictype,callback:function(e){t.$set(t.dataform,"traffictype",e)},expression:"dataform.traffictype"}},[a("el-radio",{attrs:{label:"ingress",prop:"Ingress"}},[t._v("入方向")]),t._v(" "),a("el-radio",{attrs:{label:"egress",prop:"Egress"}},[t._v("出方向")])],1)],1),t._v(" "),a("el-form-item",{staticClass:"acltype",attrs:{label:"类型 :",prop:"type"}},[a("el-radio-group",{staticClass:"tiny-net",model:{value:t.dataform.type,callback:function(e){t.$set(t.dataform,"type",e)},expression:"dataform.type"}},[a("el-radio",{attrs:{label:"allow",prop:"allow"}},[t._v("Allow")]),t._v(" "),a("el-radio",{attrs:{label:"deny",prop:"deny"}},[t._v("Deny")])],1)],1),t._v(" "),"tcp"===t.dataform.protocol||"udp"===t.dataform.protocol?a("el-form-item",{attrs:{label:"端口范围 :",prop:"port"}},[a("div",{staticClass:"tiny-net rulePort"},[a("span",{staticClass:"start"},[a("el-form-item",{attrs:{prop:"minport",required:""}},[a("el-input",{model:{value:t.dataform.minport,callback:function(e){t.$set(t.dataform,"minport",e)},expression:"dataform.minport"}})],1)],1),t._v(" "),a("span",{staticClass:"line"},[t._v("一")]),t._v(" "),a("span",{staticClass:"end"},[a("el-form-item",{attrs:{prop:"maxport",required:""}},[a("el-input",{model:{value:t.dataform.maxport,callback:function(e){t.$set(t.dataform,"maxport",e)},expression:"dataform.maxport"}})],1)],1),t._v(" "),a("span",{staticClass:"tip"},[a("el-tooltip",{attrs:{"popper-class":"editSubTip",content:"在备案功能上线前,Tcp协议暂不支持80、443、8080、8443端口",placement:"bottom"}},[a("i",{staticClass:"el-icon-question"})])],1)])]):t._e(),t._v(" "),"icmp"===t.dataform.protocol?a("el-form-item",{attrs:{id:"icmptype",label:"ICMP类型 :",prop:"icmptype",required:""}},[a("el-input",{attrs:{type:"age","auto-complete":"off"},model:{value:t.dataform.icmptype,callback:function(e){t.$set(t.dataform,"icmptype",e)},expression:"dataform.icmptype"}})],1):t._e(),t._v(" "),"icmp"===t.dataform.protocol?a("el-form-item",{attrs:{id:"icmpcode",label:"ICMP代码 :",prop:"icmpcode",required:""}},[a("el-input",{attrs:{type:"age","auto-complete":"off"},model:{value:t.dataform.icmpcode,callback:function(e){t.$set(t.dataform,"icmpcode",e)},expression:"dataform.icmpcode"}})],1):t._e()],1):t._e()],1)},staticRenderFns:[]};var Gs=a("VU/8")(Hs,Ws,!1,function(t){a("d5Ey"),a("wJHD")},"data-v-56015a39",null).exports,Qs={components:{ElInput:Bs,ElFormItem:Rs,ConsoleTable:Te},props:{dataForm:[Object]},data:function(){var t=this,e=this,a=16,i=function(t,i,n){var s=i.first+"."+i.second+"."+i.third+"."+i.four;if(Je(s))if("cidr"==i.name&&function(t){var e=void 0,i=void 0,n=void 0;try{return 4===(e=t.split(".")).length&&(i=parseInt(e[0],10),n=parseInt(e[1],10),10===i?(a=8,!0):172===i&&n>15&&n<32?(a=12,!0):192===i&&168===n&&(a=16,!0))}catch(t){return!1}}(s)||"sub_cidr"==i.name){var o=parseInt(i.last);if("cidr"==i.name&&(o>24||o<parseInt(a,10)))n(new Error("掩码取值范围是"+a+"与24之间"));else if("sub_cidr"==i.name&&(o>28||o<16))n(new Error("掩码取值范围是16与28之间"));else{if("sub_cidr"==i.name){var r=e.dataForm.cidr;console.log(e.dataForm.cidr);var l=parseInt(r.last);parseInt(l)>parseInt(o)&&n(new Error("子网IP地址不在可用网段内。")),Xe(Ke(l),s,r.first+"."+r.second+"."+r.third+"."+r.four)?n():n(new Error("网段IP地址与掩码不匹配。"))}if("cidr"==i.name)Ye(Ke(parseInt(i.last)),s)?(e.cidrOk=!0,n()):n(new Error("网段IP地址与掩码不匹配。"))}}else n(new Error("不能使用此网段。"));else n(new Error("IP地址不合法"))};return{checked:!1,cidrOk:!1,aclShow:!0,seleceCheck:!0,acllist:[],aclOperation:[{value:u.vpc.delete,fun:function(e){return t.delete(e)}}],tableOptions:[{label:"方向",prop:"direction",width:"70",temp:!0,direction:!0},{label:"类型",prop:"action",width:"70",temp:!0,action:!0},{label:"协议",prop:"protocol",width:"70",temp:!0,protocol:!0},{label:"端口范围/ICMP类型",prop:"port",width:"180",temp:!0,port:!0},{label:"CIDR",prop:"remote_ip_prefix",width:"130",temp:!0,cidr:!0}],Form:{name:""},rules:{name:[{validator:function(t,e,a){e.value?e.value.length>63||e.value.length<2?a(new Error("长度为2-63字符")):ia(e.value)?a(new Error("不能使用中文")):Se({status:"",id:"",name:e.value}).then(function(t){t.data.results.length>0?a(new Error("VPC名称不能重复")):a()}).catch(function(t){console.log(t)}):a(new Error("名称不能为空！"))},trigger:"blur"}],cidr:[{validator:i,trigger:"change,blur"}],sub_name:[{validator:function(t,e,a){e.value?e.value.length>63||e.value.length<2?a(new Error("长度为2-63字符")):ia(e.value)?a(new Error("不能使用中文")):a():a(new Error("名称不能为空！"))},trigger:"blur"}],sub_cidr:[{validator:i,trigger:"blur,change"}],gateway_ip:[{validator:function(t,a,i){console.log(a);var n=a.first+"."+a.second+"."+a.third+"."+a.four;if(Je(n)){var s=e.dataForm.sub_cidr,o=parseInt(s.last),r=Ke(o),l=s.first+"."+s.second+"."+s.third+"."+s.four;n==l?i(new Error("网关地址不在子网范围内。")):Xe(r,n,l)?ta(l,o,n)?i():i(new Error("广播地址不能作为网关。")):i(new Error("网关地址不在子网范围内。"))}else i(new Error("IP地址不合法"))},trigger:"blur,change"}],aclid:[{required:!0,message:"请选择acl名称",trigger:"change"}],Acl:[{validator:function(t,e,a){e.value?e.value.length>63||e.value.length<2?a(new Error("长度为2-63字符")):ia(e.value)?a(new Error("不能使用中文")):Fe({status:"",id:"",name:e.value}).then(function(t){t.data.results.length>0?a(new Error("ACL名称不能重复!")):a()}).catch(function(t){console.log(t)}):a(new Error("名称不能为空！"))},trigger:"blur"}]}}},methods:{onkeyup:function(){console.log(this.value)},click:function(t,e){t(e)},delete:function(t){console.log(t),this.dataForm.aclRule.data=this.dataForm.aclRule.data.filter(function(e){return e.id!=t.id})},addRule:function(){this.$message;var t=Gs,e={},a=this;e.type="createRule",e.title="增加ACL规则";var i={data:e,view:t,form:{direction:"ingress",port_range_min:"33",ethertype:"IPv4",port_range_max:"33",remote_ip_prefix:"0.0.0.0/0",security_group_id:"",protocol:"tcp",action:""}};this.$alertDialog(i).then(function(t){console.log(t);var e=void 0;(e="icmp"==t.protocol?{direction:t.direction,port_range_min:t.port_range_min,remote_ip_prefix:t.remote_ip_prefix,ethertype:"IPv4",code:t.icmpcode,type:t.icmptype,security_group_id:"",protocol:t.protocol,action:t.action}:"all"==t.protocol?{direction:t.direction,ethertype:"IPv4",remote_ip_prefix:t.remote_ip_prefix,security_group_id:"",protocol:t.protocol,action:t.action}:{direction:t.direction,port_range_min:t.port_range_min,ethertype:"IPv4",port_range_max:t.port_range_max,remote_ip_prefix:t.remote_ip_prefix,security_group_id:"",protocol:t.protocol,action:t.action}).id=(new Date).getTime(),a.dataForm.aclRule.data.push(e)})},chargeChange:function(t){"使用默认"==t?(this.aclShow=!0,this.getDefaultAcl()):(this.dataForm.Acl.aclid="",this.dataForm.Acl.value=this.dataForm.Acl.values,this.aclShow=!1)},getAclName:function(t){console.log(t);var e=this._.find(this.acllist,{id:t});this.dataForm.Acl.value=e.name},getDefaultAcl:function(){var t=this;this.dataForm.Acl.type="使用默认";var e,a;this.seleceCheck=!0,(e={default:1},a={limit:e.limit||10,regionid:F(),page:e.page||1,default:e.default},Ct({url:"console/network/securitygroups/",method:"get",params:a})).then(function(e){console.log(e);var a=e.data.results;a.length>0?(t.acllist=a,t.seleceCheck=!1,console.log(a),t.dataForm.Acl.aclid=a[0].id,t.dataForm.Acl.value=a[0].name):(t.acllist=[],t.seleceCheck=!1,t.dataForm.Acl.aclid="",t.dataForm.Acl.value="",t.$message({message:"暂无acl",type:"warning"}))}).catch(function(e){t.seleceCheck=!1,t.acllist=[],t.dataForm.Acl.aclid="",console.log(e)})},buttonClick:function(t,e){t(e)},radioValue:function(t){console.log(t),this.dataForm.sub_type.value=t?"负载均衡":"普通子网"},order:function(){var t=this;console.log("vpc表单页"),this.validateForm().then(function(e){t.$emit("orderResult")}).catch(function(t){console.log(t)})},replaceNum:function(t){var e=window.event?t.keyCode:t.which;if(!window.event){if([8,9,110,37,39,0].includes(e))return}if(46==e){var a=t.target.parentElement.nextElementSibling?t.target.parentElement.nextElementSibling.nextElementSibling.firstElementChild:"";a&&a.focus(),a&&a.setSelectionRange(0,3)}e>=48&&e<=57||t.preventDefault()},subnetAndGateway2Str:function(t){var e=ea(t);this.replaceIp("sub_cidr",e),this.replaceIp("gateway_ip",e+1)},replaceIp:function(t,e){var a=aa(e).split(".");this.dataForm[t].first=a[0],this.dataForm[t].second=a[1],this.dataForm[t].third=a[2],this.dataForm[t].four=a[3]},toggleCheck:function(){this.checked=!this.checked},validateForm:function(){return this.$refs.actionForm.validate()},onkeydowns:function(t,e,a){var i=window.event||t,n=document.getElementById(a).getElementsByTagName("input"),s=i.target.value.length,o=(i.target.value,i.keyCode||i.which||i.charCode);if(o>=48&&o<=57||o>=96&&o<=105)return s>=3&&n[e].selectionStart!=n[e].selectionEnd||(s>=3&&n[e].selectionStart==n[e].selectionEnd&&e<3&&(n[e+1].focus(),n[e+1].setSelectionRange(0,0)),this.changValue(t,e,a),!0);if(39==o||190==o){var r=-1;if(n[e].value||"0"==n[e].value)if(n[e].selectionStart||"0"==n[e].selectionStart)r=n[e].selectionStart;else{var l=document.selection.createRange();l.moveStart("character",-n[e].value.length),r=l.text.length}else r=0;if(console.log(n[e].selectionStart),r==n[e].value.length&&e<3){var c=n[e+1].value.length;if(n[e+1].setSelectionRange)n[e+1].focus(),n[e+1].setSelectionRange(0,0);else if(n[e+1].createTextRange){var u=obj.createTextRange();u.collapse(!0),u.moveEnd("character",c),u.moveStart("character",c),u.select()}}190==o&&t.preventDefault()}else if(37==o){var d=-1;if(n[e].value||"0"==n[e].value)if(n[e].selectionStart||"0"==n[e].selectionStart)d=n[e].selectionEnd;else{var p=document.selection.createRange();p.moveStart("character",-n[e].value.length),d=p.text.length}else d=0;if(console.log(d,n[e].selectionEnd),"0"==d&&e>0){var m=n[e-1],h=m.value.length;m.setSelectionRange?setTimeout(function(){m.focus(),m.selectionStart=h,m.selectionEnd=h,m.setSelectionRange(h,h)},10):m.createTextRange&&setTimeout(function(){var t=obj.createTextRange();t.collapse(!0),t.moveEnd("character",h),t.moveStart("character",h),t.select()},10)}}else{if(8==o){var f=-1,v=n[e].value.length;if(n[e].value||"0"==n[e].value)if(n[e].selectionStart||"0"==n[e].selectionStart)f=n[e].selectionStart;else{var g=document.selection.createRange();g.moveStart("character",-s),f=g.text.length}else f=0;if(0==f){if("0"==n[e].selectionStart&&v==n[e].selectionEnd&&n[e].value)return!0;e>0&&(n[e-1].selectionStart=n[e-1].value.length,n[e-1].focus())}return!0}if(9==o)return!0;t.preventDefault()}},changValue:function(t,e,a){var i=window.event||E;console.log(i);i.target.value.length,document.getElementById(a).getElementsByTagName("input"),i.target.value},changeSubnet:function(t){if("1"==t){var e=this;this.$refs.actionForm.validateField("cidr",function(t){if(!t){console.log(e.dataForm.cidr);var a=e.dataForm.cidr,i=a.first+"."+a.second+"."+a.third+"."+a.four;e.subnetAndGateway2Str(i)}})}else{var a=this;this.$refs.actionForm.validateField("sub_cidr",function(t){if(!t){console.log(a.dataForm.cidr);var e=a.dataForm.sub_cidr,i=e.first+"."+e.second+"."+e.third+"."+e.four;a.subnetAndGateway2Str(i)}})}}},computed:{addShow:function(){return!(this.dataForm.aclRule.num-this.dataForm.aclRule.data.length<1)},changethSty:function(t,e){return{background:"#f0f2f7",color:"#333333","font-size":"12px","font-weight":"600"}},regionType:function(){return this.$store.getters.regionType}},mounted:function(){"cs"==this.regionType&&this.getDefaultAcl()}},Zs={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-main",[a("el-form",{ref:"actionForm",staticClass:"vpc-ruleForm",attrs:{"label-width":"120px",size:"samll","label-position":"left",model:t.dataForm,rules:t.rules}},[a("div",[a("p",{staticClass:"title"},[t._v("VPC")])]),t._v(" "),a("el-form-item",{attrs:{label:t.dataForm.name.label,prop:"name",required:""}},[a("el-input",{staticClass:"value",attrs:{type:"age"},model:{value:t.dataForm.name.value,callback:function(e){t.$set(t.dataForm.name,"value","string"==typeof e?e.trim():e)},expression:"dataForm.name.value"}}),t._v(" "),a("el-tooltip",{attrs:{content:"不能使用中文,且长度为2-63字符",placement:"right"}},[a("i",{staticClass:"el-icon-question"})])],1),t._v(" "),a("el-form-item",{attrs:{label:"vpc描述：",prop:"vpcDisplaytext"}},[a("el-input",{staticClass:"value",attrs:{type:"age"},model:{value:t.dataForm.vpcDisplaytext.value,callback:function(e){t.$set(t.dataForm.vpcDisplaytext,"value","string"==typeof e?e.trim():e)},expression:"dataForm.vpcDisplaytext.value"}})],1),t._v(" "),a("el-form-item",{attrs:{label:t.dataForm.cidr.label,prop:"cidr",required:""}},[a("div",{staticClass:"vpcIp"},[a("span",{staticClass:"tiny_input_ip_container valid_error_input",attrs:{id:"VpcCidrIp"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.dataForm.cidr.first,expression:"dataForm.cidr.first"}],staticClass:"tiny_input_ip_anchor tiny_input_ip_octet",attrs:{maxlength:"3",value:"192",type:"text"},domProps:{value:t.dataForm.cidr.first},on:{change:function(e){t.changeSubnet(1)},input:[function(e){e.target.composing||t.$set(t.dataForm.cidr,"first",e.target.value)},function(e){t.changValue(e,0,"VpcCidrIp")}],keydown:function(e){t.onkeydowns(e,0,"VpcCidrIp")}}}),t._v(" "),a("span",{staticClass:"tiny_input_ip_division"},[t._v(".")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.dataForm.cidr.second,expression:"dataForm.cidr.second"}],staticClass:"tiny_input_ip_anchor tiny_input_ip_octet",attrs:{maxlength:"3",value:"168",type:"text"},domProps:{value:t.dataForm.cidr.second},on:{change:function(e){t.changeSubnet(1)},input:[function(e){e.target.composing||t.$set(t.dataForm.cidr,"second",e.target.value)},function(e){t.changValue(e,1,"VpcCidrIp")}],keydown:function(e){t.onkeydowns(e,1,"VpcCidrIp")}}}),t._v(" "),a("span",{staticClass:"tiny_input_ip_division"},[t._v(".")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.dataForm.cidr.third,expression:"dataForm.cidr.third"}],staticClass:"tiny_input_ip_anchor tiny_input_ip_octet",attrs:{maxlength:"3",value:"0",type:"text"},domProps:{value:t.dataForm.cidr.third},on:{change:function(e){t.changeSubnet(1)},input:[function(e){e.target.composing||t.$set(t.dataForm.cidr,"third",e.target.value)},function(e){t.changValue(e,2,"VpcCidrIp")}],keydown:function(e){t.onkeydowns(e,2,"VpcCidrIp")}}}),t._v(" "),a("span",{staticClass:"tiny_input_ip_division"},[t._v(".")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.dataForm.cidr.four,expression:"dataForm.cidr.four"}],staticClass:"tiny_input_ip_anchor tiny_input_ip_octet",attrs:{maxlength:"3",value:"0",type:"text"},domProps:{value:t.dataForm.cidr.four},on:{change:function(e){t.changeSubnet(1)},input:[function(e){e.target.composing||t.$set(t.dataForm.cidr,"four",e.target.value)},function(e){t.changValue(e,3,"VpcCidrIp")}],keydown:function(e){t.onkeydowns(e,3,"VpcCidrIp")}}})]),t._v(" "),a("span",{staticClass:"ng-scope"},[t._v("/")]),t._v(" "),a("span",{staticClass:"tiny-textbox-container",staticStyle:{width:"50px"},attrs:{id:"VpcPortal"}},[a("el-input",{staticClass:"tiny-input-text valid_error_input",attrs:{maxlength:2,type:"text",value:"24",spellcheck:"false",validator:"true"},on:{blur:function(e){t.changeSubnet(1)}},nativeOn:{keypress:function(e){t.replaceNum(e)}},model:{value:t.dataForm.cidr.last,callback:function(e){t.$set(t.dataForm.cidr,"last",e)},expression:"dataForm.cidr.last"}})],1),t._v(" "),t.dataForm.cidr.mark?a("div",{staticClass:"mark"},[t._v("可使用网段:10.0.0.0/8-24、172.16.0.0/12-24、192.168.0.0/16-24")]):t._e()])]),t._v(" "),a("div",[a("p",{staticClass:"title"},[t._v("子网")])]),t._v(" "),a("el-form-item",{attrs:{label:t.dataForm.sub_name.label,prop:"sub_name",required:""}},[a("el-input",{staticClass:"value",attrs:{type:"age"},model:{value:t.dataForm.sub_name.value,callback:function(e){t.$set(t.dataForm.sub_name,"value","string"==typeof e?e.trim():e)},expression:"dataForm.sub_name.value"}}),t._v(" "),a("el-tooltip",{attrs:{content:"不能使用中文,且长度为2-63字符",placement:"right"}},[a("i",{staticClass:"el-icon-question"})])],1),t._v(" "),a("el-form-item",{attrs:{label:"子网描述：",prop:"subDisplaytext"}},[a("el-input",{staticClass:"value",attrs:{type:"age"},model:{value:t.dataForm.subDisplaytext.value,callback:function(e){t.$set(t.dataForm.subDisplaytext,"value","string"==typeof e?e.trim():e)},expression:"dataForm.subDisplaytext.value"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"子网类型：",prop:"subType"}},[a("el-radio-group",{on:{change:t.radioValue},model:{value:t.dataForm.sub_type.values,callback:function(e){t.$set(t.dataForm.sub_type,"values",e)},expression:"dataForm.sub_type.values"}},[a("el-radio",{attrs:{label:0}},[t._v("普通子网")])],1)],1),t._v(" "),a("el-form-item",{attrs:{label:t.dataForm.sub_cidr.label,prop:"sub_cidr",required:""}},[a("div",{staticClass:"vpcIp"},[a("span",{staticClass:"tiny_input_ip_container valid_error_input",attrs:{id:"netCidrIp"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.dataForm.sub_cidr.first,expression:"dataForm.sub_cidr.first"}],staticClass:"tiny_input_ip_anchor tiny_input_ip_octet",attrs:{maxlength:"3",value:"192",type:"text"},domProps:{value:t.dataForm.sub_cidr.first},on:{input:[function(e){e.target.composing||t.$set(t.dataForm.sub_cidr,"first",e.target.value)},function(e){t.changValue(e,0,"netCidrIp")}],keydown:function(e){t.onkeydowns(e,0,"netCidrIp")},change:t.changeSubnet}}),t._v(" "),a("span",{staticClass:"tiny_input_ip_division"},[t._v(".")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.dataForm.sub_cidr.second,expression:"dataForm.sub_cidr.second"}],staticClass:"tiny_input_ip_anchor tiny_input_ip_octet",attrs:{maxlength:"3",value:"168",type:"text"},domProps:{value:t.dataForm.sub_cidr.second},on:{input:[function(e){e.target.composing||t.$set(t.dataForm.sub_cidr,"second",e.target.value)},function(e){t.changValue(e,1,"netCidrIp")}],keydown:function(e){t.onkeydowns(e,1,"netCidrIp")},change:t.changeSubnet}}),t._v(" "),a("span",{staticClass:"tiny_input_ip_division"},[t._v(".")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.dataForm.sub_cidr.third,expression:"dataForm.sub_cidr.third"}],staticClass:"tiny_input_ip_anchor tiny_input_ip_octet",attrs:{maxlength:"3",value:"0",type:"text"},domProps:{value:t.dataForm.sub_cidr.third},on:{input:[function(e){e.target.composing||t.$set(t.dataForm.sub_cidr,"third",e.target.value)},function(e){t.changValue(e,2,"netCidrIp")}],keydown:function(e){t.onkeydowns(e,2,"netCidrIp")},change:t.changeSubnet}}),t._v(" "),a("span",{staticClass:"tiny_input_ip_division"},[t._v(".")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.dataForm.sub_cidr.four,expression:"dataForm.sub_cidr.four"}],staticClass:"tiny_input_ip_anchor tiny_input_ip_octet",attrs:{maxlength:"3",value:"0",type:"text"},domProps:{value:t.dataForm.sub_cidr.four},on:{input:[function(e){e.target.composing||t.$set(t.dataForm.sub_cidr,"four",e.target.value)},function(e){t.changValue(e,3,"netCidrIp")}],keydown:function(e){t.onkeydowns(e,3,"netCidrIp")},change:t.changeSubnet}})]),t._v(" "),a("span",{staticClass:"ng-scope"},[t._v("/")]),t._v(" "),a("span",{staticClass:"tiny-textbox-container",staticStyle:{width:"50px"},attrs:{id:"netPortal"}},[a("el-input",{staticClass:"tiny-input-text valid_error_input",attrs:{maxlength:2,type:"text",value:"24",spellcheck:"false",validator:"true"},on:{blur:t.changeSubnet},nativeOn:{keypress:function(e){t.replaceNum(e)}},model:{value:t.dataForm.sub_cidr.last,callback:function(e){t.$set(t.dataForm.sub_cidr,"last",e)},expression:"dataForm.sub_cidr.last"}})],1)])]),t._v(" "),a("el-form-item",{attrs:{label:t.dataForm.gateway_ip.label,prop:"gateway_ip",required:""}},[a("div",{staticClass:"vpcIp"},[a("span",{staticClass:"tiny_input_ip_container valid_error_input",attrs:{id:"gateway_ip"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.dataForm.gateway_ip.first,expression:"dataForm.gateway_ip.first"}],staticClass:"tiny_input_ip_anchor tiny_input_ip_octet",attrs:{maxlength:"3",type:"text"},domProps:{value:t.dataForm.gateway_ip.first},on:{input:[function(e){e.target.composing||t.$set(t.dataForm.gateway_ip,"first",e.target.value)},function(e){t.changValue(e,0,"gateway_ip")}],keydown:function(e){t.onkeydowns(e,0,"gateway_ip")}}}),t._v(" "),a("span",{staticClass:"tiny_input_ip_division"},[t._v(".")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.dataForm.gateway_ip.second,expression:"dataForm.gateway_ip.second"}],staticClass:"tiny_input_ip_anchor tiny_input_ip_octet",attrs:{maxlength:"3",type:"text"},domProps:{value:t.dataForm.gateway_ip.second},on:{input:[function(e){e.target.composing||t.$set(t.dataForm.gateway_ip,"second",e.target.value)},function(e){t.changValue(e,1,"gateway_ip")}],keydown:function(e){t.onkeydowns(e,1,"gateway_ip")}}}),t._v(" "),a("span",{staticClass:"tiny_input_ip_division"},[t._v(".")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.dataForm.gateway_ip.third,expression:"dataForm.gateway_ip.third"}],staticClass:"tiny_input_ip_anchor tiny_input_ip_octet",attrs:{maxlength:"3",type:"text"},domProps:{value:t.dataForm.gateway_ip.third},on:{input:[function(e){e.target.composing||t.$set(t.dataForm.gateway_ip,"third",e.target.value)},function(e){t.changValue(e,2,"gateway_ip")}],keydown:function(e){t.onkeydowns(e,2,"gateway_ip")}}}),t._v(" "),a("span",{staticClass:"tiny_input_ip_division"},[t._v(".")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.dataForm.gateway_ip.four,expression:"dataForm.gateway_ip.four"}],staticClass:"tiny_input_ip_anchor tiny_input_ip_octet",attrs:{maxlength:"3",type:"text"},domProps:{value:t.dataForm.gateway_ip.four},on:{input:[function(e){e.target.composing||t.$set(t.dataForm.gateway_ip,"four",e.target.value)},function(e){t.changValue(e,3,"gateway_ip")}],keydown:function(e){t.onkeydowns(e,3,"gateway_ip")}}})])])]),t._v(" "),"cs"==t.regionType?a("div",[a("p",{staticClass:"title"},[t._v("ACL规则")])]):t._e(),t._v(" "),"cs"==t.regionType?a("el-form-item",{staticClass:"aclStyle",attrs:{label:"ACL：",prop:"chargeAclType"}},[a("el-radio-group",{attrs:{fill:"#f9cc76"},on:{change:t.chargeChange},model:{value:t.dataForm.Acl.type,callback:function(e){t.$set(t.dataForm.Acl,"type",e)},expression:"dataForm.Acl.type"}},[a("el-radio-button",{staticClass:"radio-group-btn",attrs:{label:"使用默认"}}),t._v(" "),a("el-radio-button",{staticClass:"radio-group-btn",attrs:{label:"创建新的ACL"}})],1)],1):t._e(),t._v(" "),"cs"==t.regionType&&t.aclShow?a("el-form-item",{staticClass:"acl",attrs:{label:"默认acl: ",prop:"Acl.aclid"}},[a("el-select",{attrs:{disabled:t.seleceCheck},on:{change:t.getAclName},model:{value:t.dataForm.Acl.aclid,callback:function(e){t.$set(t.dataForm.Acl,"aclid",e)},expression:"dataForm.Acl.aclid"}},t._l(t.acllist,function(t,e){return a("el-option",{key:e,attrs:{label:t.name,value:t.id}})}))],1):t._e(),t._v(" "),"cs"!=t.regionType||t.aclShow?t._e():a("el-form-item",{attrs:{label:t.dataForm.Acl.label,prop:"Acl",required:""}},[a("el-input",{staticClass:"value",attrs:{type:"age"},model:{value:t.dataForm.Acl.value,callback:function(e){t.$set(t.dataForm.Acl,"value","string"==typeof e?e.trim():e)},expression:"dataForm.Acl.value"}}),t._v(" "),a("el-tooltip",{attrs:{content:"不能使用中文,且长度为2-63字符",placement:"right"}},[a("i",{staticClass:"el-icon-question"})])],1),t._v(" "),"cs"!=t.regionType||t.aclShow?t._e():a("el-form-item",{attrs:{label:"acl描述：",prop:"aclDisplaytext"}},[a("el-input",{staticClass:"value",attrs:{type:"age"},model:{value:t.dataForm.aclDisplaytext.value,callback:function(e){t.$set(t.dataForm.aclDisplaytext,"value","string"==typeof e?e.trim():e)},expression:"dataForm.aclDisplaytext.value"}})],1),t._v(" "),"cs"!=t.regionType||t.aclShow?t._e():a("el-form-item",{staticClass:"AclRule",attrs:{label:"acl规则：",prop:"aclRules"}},[t.dataForm.aclRule.data.length>0?a("el-table",{ref:"multipleTables",staticClass:"inner-table",attrs:{data:t.dataForm.aclRule.data,"tooltip-effect":"dark","header-cell-style":t.changethSty},on:{buttonClick:t.buttonClick}},[t._l(t.tableOptions,function(e,i){return e.temp?a("el-table-column",{key:i,attrs:{prop:e.prop,label:e.label,width:e.width,align:"center","show-overflow-tooltip":!0},scopedSlots:t._u([{key:"default",fn:function(i){return[e.direction?a("span",[t._v(t._s("ingress"==i.row[e.prop]?"入方向":"出方向"))]):t._e(),t._v(" "),e.action?a("span",[t._v(t._s(i.row[e.prop]))]):t._e(),t._v(" "),e.protocol?a("span",[t._v(t._s(i.row[e.prop]))]):t._e(),t._v(" "),e.port?a("span",[t._v(t._s(i.row.code?i.row.code+"/"+i.row.type:i.row.port_range_max?i.row.port_range_min+"/"+i.row.port_range_max:""))]):t._e(),t._v(" "),e.cidr?a("span",[t._v(t._s(i.row[e.prop]))]):t._e()]}}])}):t._e()}),t._v(" "),a("el-table-column",{attrs:{label:"操作",width:60},scopedSlots:t._u([{key:"default",fn:function(e){return t._l(t.aclOperation,function(i,n){return a("el-button",{key:n,attrs:{type:"text"},on:{click:function(a){t.click(i.fun,e.row)}}},[t._v(t._s(i.value))])})}}])})],2):t._e(),t._v(" "),t.addShow?a("el-button",{attrs:{type:"text"},on:{click:t.addRule}},[t._v("添加acl规则")]):t._e(),t._v(" "),a("span",{staticClass:"addTip"},[t._v("您还可以添加"+t._s(t.dataForm.aclRule.num-t.dataForm.aclRule.data.length)+"条规则")])],1)],1)],1)},staticRenderFns:[]};var Js=a("VU/8")(Qs,Zs,!1,function(t){a("V4Zm"),a("YcVn")},"data-v-0d9fd294",null).exports,Ks={props:{name:[String]},components:{ConsoleCreate:Xi,ConsoleTable:Te,ConsoleConfigure:Js,ConsoleConfirm:fi,ConsoleSuccess:bi},data:function(){return{page:0,current:0,checked:!1,returnUrl:"/vpc/vpcList/",Agreement:{url:"http://www.baidu.com",name:"<<天翼云弹性云服务器服务协议>>"},dataForm:{name:{name:"name",type:"input",label:u.vpc.name+"：",value:""},vpcDisplaytext:{describe:!0,label:"VPC描述：",value:""},cidr:{name:"cidr",label:u.vpc.vpc_net+"：",type:"vpc_net",mark:!0,first:"192",second:"168",third:"0",four:"0",last:"16",value:"192.168.0.0/16"},sub_name:{name:"sub_name",label:u.vpc.net_name+"：",type:"input",value:""},subDisplaytext:{describe:!0,label:"子网描述：",value:""},sub_type:{name:"sub_type",label:u.vpc.net_type+"：",type:"input",value:"",values:0},sub_cidr:{name:"sub_cidr",label:u.vpc.net_paragraph+"：",type:"vpc_net",subType:0,first:"192",second:"168",third:"0",four:"0",last:"24",value:"192.168.0.0/24"},gateway_ip:{name:"gateway_ip",label:u.vpc.gateway+"：",type:"gateway",first:"192",second:"168",third:"0",four:"1",value:"192.168.0.1"},display:{name:"隐藏高级选项",type:"radio",value:""}},tableData:{system_name:"",elseData:[{system_type:"虚拟私有云",num:"1",confirmData:[]}],tableOptions:[{prop:"num",label:"数量",width:""}]},multipleSelection:[],options:[{value:u.common.allStatus,label:u.common.allStatus},{value:u.common.active,label:u.common.active},{value:u.common.shutOff,label:u.common.shutOff}],optionsValue:u.common.allStatus,tableOptions:[{prop:"name",label:u.vpc.productName,width:"120px"},{prop:"status",label:u.vpc.configure,width:"120px"},{prop:"vpc_net",label:u.vpc.num,width:"120px"}],vpcOperation:[{value:u.vpc.delete,fun:"delete"},{value:u.vpc.edit,fun:"edit"}]}},methods:{orderEvent:function(){console.log("进入vpc表单页"),this.$refs.createOrder.order()},openHelp:function(){open("http://www.ctyun.cn/help")},orderResult:function(){this.$refs.createProcess.next(),console.log("出来vpc表单页")},goProtocol:function(){window.open("http://www.ctyun.cn/term/vpc")},submitForm:function(t){var e=this,a=(F(),{name:"",cidr:"",gateway_ip:"",sub_name:"",sub_cidr:"",is_lb:0,dns1:"",dns2:"",dhcp:0,zoneid:P()});a.name=this.dataForm.name.value,a.cidr=this.dataForm.cidr.value,a.desc=this.dataForm.vpcDisplaytext.value,a.subnet_desc=this.dataForm.subDisplaytext.value,a.gateway_ip=this.dataForm.gateway_ip.value,a.sub_name=this.dataForm.sub_name.value,a.sub_cidr=this.dataForm.sub_cidr.value,a.is_lb=this.dataForm.sub_type.values,"cs"==this.regionType&&(this.dataForm.Acl.aclid?a.aclid=this.dataForm.Acl.aclid:(a.aclname=this.dataForm.Acl.value,a.acldescription=this.dataForm.aclDisplaytext.value,a.acllist=this.dataForm.aclRule.data)),console.log(a);var i,n,s=this.$loading({lock:!0,text:"拼命创建中",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});(i=a,n={regionid:F()},Ct({url:"console/network/vpcs/",method:"post",params:n,data:i})).then(function(a){s.close(),200==a.data.code?(e.$message({message:"命令下发成功",type:"success"}),t()):e.$message({showClose:!0,message:a.data.reason||a.data.msg,type:"error"})}).catch(function(){s.close()})},resetForm:function(t){this.$refs[t].resetFields()},telnet:function(){console.log("telnet")},handleSelectionChange:function(t){this.multipleSelection=t},handleClick:function(){},create:function(){console.log(123231),this.$router.push({path:"vpc/creatVpc"})},nextPage:function(t){this.current=t;var e=this.dataForm.name.value;this.dataForm.cidr.value=this.dataForm.cidr.first+"."+this.dataForm.cidr.second+"."+this.dataForm.cidr.third+"."+this.dataForm.cidr.four+"/"+this.dataForm.cidr.last,this.dataForm.sub_cidr.value=this.dataForm.sub_cidr.first+"."+this.dataForm.sub_cidr.second+"."+this.dataForm.sub_cidr.third+"."+this.dataForm.sub_cidr.four+"/"+this.dataForm.sub_cidr.last,this.dataForm.sub_type.value=this.dataForm.sub_type.values?"负载均衡":"普通子网",this.dataForm.gateway_ip.value=this.dataForm.gateway_ip.first+"."+this.dataForm.gateway_ip.second+"."+this.dataForm.gateway_ip.third+"."+this.dataForm.gateway_ip.four,this.tableData.elseData[0].confirmData=this.dataForm,this.tableData.system_name=e},setname:function(){var t;t="vpc-"+xt(),this.dataForm.name.value=t,this.dataForm.sub_name.value="subnet-"+xt(),this.dataForm.sub_type.value=this.dataForm.sub_type.values?"负载均衡":"普通子网","cs"==this.regionType&&(this.dataForm.Acl.value="acl-"+xt(),this.dataForm.Acl.values=this.dataForm.Acl.value)}},computed:{regionType:function(){this.$store.getters.regionType;return this.$store.getters.regionType}},created:function(){if("cs"==this.$store.getters.regionType){this.$set(this.dataForm,"Acl",{type:"使用默认",label:"acl名称：",aclid:"",value:"",values:""}),this.$set(this.dataForm,"aclDisplaytext",{value:""}),this.$set(this.dataForm,"aclRule",{num:10,data:[]}),console.log(this.dataForm)}this.setname()}},Ys={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main create-main"},[a("ConsoleCreate",{ref:"createProcess",attrs:{returnUrl:t.returnUrl,system_type:t.tableData.elseData[0].system_type,checked:!t.checked,submitForm:t.submitForm,switchPage:t.nextPage},on:{orderEvent:t.orderEvent}},[a("div",{directives:[{name:"show",rawName:"v-show",value:0==t.current,expression:"current==0"}],staticClass:"configure_tab",attrs:{slot:"create_title",dataForm:t.dataForm},slot:"create_title"},[a("ConsoleConfigure",{ref:"createOrder",attrs:{dataForm:t.dataForm},on:{orderResult:t.orderResult}}),t._v(" "),a("el-aside",{attrs:{width:"200px"}},[a("div",{staticClass:"currentInfo"},[a("h6",[t._v("当前配置")]),t._v(" "),a("div",{staticClass:"message"},t._l(t.dataForm,function(e,i){return e.label&&!e.describe?a("dl",[a("dt",[t._v(t._s(e.label))]),t._v(" "),e.first?t._e():a("dd",[t._v(t._s(e.value))]),t._v(" "),e.first&&e.last?a("dd",[t._v(t._s(e.first)+"."+t._s(e.second)+"."+t._s(e.third)+"."+t._s(e.four)+"/"+t._s(e.last))]):t._e(),t._v(" "),e.first&&!e.last?a("dd",[t._v(t._s(e.first)+"."+t._s(e.second)+"."+t._s(e.third)+"."+t._s(e.four))]):t._e()]):t._e()}))])])],1),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:1===t.current,expression:"current===1"}],attrs:{slot:"confirm_title"},slot:"confirm_title"},[a("div",{staticStyle:{padding:"20px 0","background-color":"#fff"}},[t._v("资源详情")]),t._v(" "),a("ConsoleConfirm",{attrs:{tableData:t.tableData}}),t._v(" "),a("div",{staticClass:"Agreement_component"},[a("p",[a("el-checkbox",{staticClass:"checkedTip",model:{value:t.checked,callback:function(e){t.checked=e},expression:"checked"}},[t._v("我已阅读并同意相关协议")]),t._v(" "),a("span",{staticClass:"agreement",on:{click:t.goProtocol}},[t._v("《 虚拟私有云服务协议 》")])],1)])],1),t._v(" "),2===t.current?a("div",{staticClass:"submit_title",attrs:{slot:"submit_title"},slot:"submit_title"},[a("ConsoleSuccess",{attrs:{return_url:t.returnUrl,orderWay:!0,system_type:t.tableData.elseData[0].system_type,system_name:t.tableData.system_name}})],1):t._e()])],1)},staticRenderFns:[]};var Xs=a("VU/8")(Ks,Ys,!1,function(t){a("wHbL"),a("DTyz")},"data-v-397de366",null).exports,to=a("xz/E"),eo=a.n(to),ao={props:{type:[String],regionId:[String],actionTip:[Array],tableData:[Object],action:[String],loading:[Boolean],name:[String],form:[Object,String],thatVue:[Object]},components:{ConsoleTable:Te},data:function(){var t=this,e=this,a=function(e,a,i){if(a||i(new Error("请输入子网名称")),console.log(t.oldSubName),console.log(a),a.length>63||a.length<2)i(new Error("长度为2-63字符"));else if(ia(a))i(new Error("不能使用中文"));else if(t.oldSubName==a)i(),t.form.edited=!1;else{t.form.edited=!0;var n={id:"",vpcid:t.dataform.vpcid,name:a};console.log(a),Oe(n).then(function(t){t.data.results.length>0?i(new Error("同一vpc下的子网名称不能重复")):i()}).catch(function(t){console.log(t)})}};return{aclId:"",vpcSeleceCheck:!0,aclSeleceCheck:!0,seleceCheckAcl:!0,elbExist:!0,allowSubCount:0,SubCount:0,aclRemainCount:10,oldSubName:"",vpcinfo:"",changeAcllist:[],dataform:{name:"",desc:"",sub_name:"",subType:0,vpcid:"",aclId:"",net:{first:"",second:"",third:"",four:"",last:"24"},gateway:{first:"",second:"",third:"",four:""},vpclist:[],acllist:[]},rules:{vpcid:[{required:!0,message:"所选VPC不能为空",trigger:"blur,change"},{validator:function(e,a,i){console.log(a);var n=t._.find(t.dataform.vpclist,{id:a});n&&(n.network.length<t.allowSubCount?i():i(new Error("该vpc下子网配额已满！")))},trigger:"blur"}],sub_name:[{validator:a,trigger:"blur"},{required:!0,message:"名称不能为空",trigger:"blur"},{min:3,max:16,message:"长度在 3 到 16 个字符",trigger:"blur"}],net:[{validator:function(t,a,i){console.log(a);var n,s,o,r,l,c=e.vpcinfo,u=parseInt(c.cidr.split("/")[1],10),d=e.sub_cidr,p=d.split("/")[0],m=d.split("/")[1];if(Je(p)){var h=m&&parseInt(m);h>28||h<u?i(new Error("掩码取值范围是"+u+"与28之间")):Ye(Ke(parseInt(h)),p)?!c||(n=c.cidr,s=p,o=h,r=n.split("/"),l=Ke(r[1]),o<parseInt(r[1],10)||!Xe(l,s,r[0]))?i(new Error("子网IP地址不在可用网段内。")):i():i(new Error("网段IP地址与掩码不匹配。"))}else i(new Error("IP地址不合法"))},trigger:"change,blur"},{required:!0}],gateway:[{validator:function(t,a,i){var n=e.gateway_ip;if(Je(n)){var s=e.sub_cidr.split("/"),o=parseInt(s[1]),r=Ke(o),l=s[0];if(n==l)i(new Error("网关地址不在子网范围内。"));else{var c=Xe(r,n,l);console.log(c),c?ta(l,o,n)?i():i(new Error("广播地址不能作为网关。")):i(new Error("网关地址不在子网范围内。"))}}else i(new Error("IP地址不合法"))},trigger:"change,blur"},{required:!0}],aclId:[{validator:function(t,a,i){e.dataform.aclId?i():i(new Error("所选ACL不能为空"))},trigger:"change,blur"},{required:!0}]},rules1:{name:[{validator:a,trigger:"blur"},{required:!0,message:"名称不能为空",trigger:"blur"}]}}},methods:{setname:function(){"create"==this.type&&(this.dataform.sub_name="subnet-"+xt()),"edit"==this.type&&(this.dataform.name=this.form.name,this.dataform.desc=this.form.desc,this.dataform.aclId=this.form.aclId)},changeForm:function(){this.form.sub_cidr=this.sub_cidr,this.form.gateway_ip=this.gateway_ip,this.form.vpcid=this.dataform.vpcid,this.form.desc=this.dataform.desc,this.form.sub_name=this.dataform.sub_name,this.form.aclid=this.dataform.aclId,this.form.subType=this.dataform.subType,"edit"==this.type&&(this.form.name=this.dataform.name,this.form.desc=this.dataform.desc,this.form.aclId=this.dataform.aclId)},validateForm:function(t){return console.log(t),this.changeForm(),"delete"!==this.type?this.$refs.dataform.validate():new rt.a(function(t,e){t()})},changeSubnet:function(){var t=this;this.$refs.dataform.validateField("net",function(e){if(!e){console.log(t.dataform.net);var a=t.dataform.net,i=a.first+"."+a.second+"."+a.third+"."+a.four;t.subnetAndGateway2Str(i)}})},changeCidr:function(){var t=_this.vpcinfo.cidr,e=t.first+"."+t.second+"."+t.third+"."+t.four;_this.subnetAndGateway2Str(e)},subnetAndGateway2Str:function(t){var e=ea(t);this.replaceIp("gateway",e+1)},replaceIp:function(t,e){var a=aa(e).split(".");this.dataform[t].first=a[0],this.dataform[t].second=a[1],this.dataform[t].third=a[2],this.dataform[t].four=a[3]},replaceNum:function(t){var e=window.event?t.keyCode:t.which;if(!window.event){if([8,9,110,37,39,0].includes(e))return}if(46==e){var a=t.target.parentElement.nextElementSibling?t.target.parentElement.nextElementSibling.nextElementSibling.firstElementChild:"";a&&a.focus(),a&&a.setSelectionRange(0,3)}e>=48&&e<=57||t.preventDefault()},createACl:function(){var t=this,e=this.$message,a=Gs,i={};i.type="create",i.title="创建ACL",i.regionId=this.regionId;var n={data:i,view:a,form:{name:"",desc:"",vpcid:""}};this.$alertDialog(n).then(function(a){ze({desc:a.desc,name:a.name,network_uuid:a.vpcid}).then(function(a){a.data.results;e("ACL创建成功"),t.refresh()}).catch(function(t){console.log(t)})})},getAclList:function(t){var e=this,a={id:t||this.dataform.vpcid};if(this.form.edit)this.seleceCheckAcl=!0;else{if(this.aclSeleceCheck=!0,this.elbExist=!0,this.form.vpc)this.form.vpcSubData.length>0?this.form.vpcSubData.filter(function(t){"DefaultIsolatedNetworkOfferingForVpcNetworks"==t.networkofferingname&&(e.elbExist=!1)}):this.elbExist=!0;else{var i=this._.find(this.dataform.vpclist,a);i.network&&i.network.filter(function(t){"DefaultIsolatedNetworkOfferingForVpcNetworks"==t.networkofferingname&&(e.elbExist=!1)})}if(console.log("vpcinfo"),console.log(this.form),this.form.vpc)this.vpcinfo=this.form.vpcinfo;else{var n=this.dataform.vpclist.find(function(t){return t.id==e.dataform.vpcid});this.vpcinfo=n}}Fe(a).then(function(t){e.form.edit?(e.changeAcllist=t.data.results,e.seleceCheckAcl=!1):(e.dataform.acllist=t.data.results,e.aclSeleceCheck=!1)})},getVpcList:function(){var t=this;this.vpcSeleceCheck=!0;var e={};"os"==this.regionType&&(e.detail=1),Se(e).then(function(e){var a=e.data.results,i=t.filterFakeVpc(a);i.length&&(t.dataform.vpclist=i,t.dataform.vpcid=i[0].id,t.getAclList(),t.vpcSeleceCheck=!1,t.loading=!1)}).catch(function(e){t.loading=!1,console.log(e)})},filterFakeVpc:function(t){return t=t.filter(function(t){return!(t.fake_vpc&&1==t.fake_vpc)})},onkeydowns:function(t,e,a){var i=window.event||t,n=document.getElementById(a).getElementsByTagName("input"),s=i.target.value.length,o=(i.target.value,i.keyCode||i.which||i.charCode);if(o>=48&&o<=57||o>=96&&o<=105){if(s>=3){if("0"==n[e].selectionStart&&s==n[e].selectionEnd&&n[e].value)return!0;e<3&&n[e+1].focus()}return!0}if(39==o||190==o){var r=-1;if(n[e].value||"0"==n[e].value)if(n[e].selectionStart||"0"==n[e].selectionStart)r=n[e].selectionStart;else{var l=document.selection.createRange();l.moveStart("character",-n[e].value.length),r=l.text.length}else r=0;if(console.log(n[e].selectionStart),r==n[e].value.length&&e<3){var c=n[e+1].value.length;if(n[e+1].setSelectionRange)n[e+1].focus(),n[e+1].setSelectionRange(0,0);else if(n[e+1].createTextRange){var u=obj.createTextRange();u.collapse(!0),u.moveEnd("character",c),u.moveStart("character",c),u.select()}}190==o&&t.preventDefault()}else if(37==o){var d=-1;if(n[e].value||"0"==n[e].value)if(n[e].selectionStart||"0"==n[e].selectionStart)d=n[e].selectionEnd;else{var p=document.selection.createRange();p.moveStart("character",-n[e].value.length),d=p.text.length}else d=0;if(console.log(d,n[e].selectionEnd),"0"==d&&e>0){var m=n[e-1],h=m.value.length;m.setSelectionRange?setTimeout(function(){m.focus(),m.selectionStart=h,m.selectionEnd=h,m.setSelectionRange(h,h)},10):m.createTextRange&&setTimeout(function(){var t=obj.createTextRange();t.collapse(!0),t.moveEnd("character",h),t.moveStart("character",h),t.select()},10)}}else{if(8==o){var f=-1,v=n[e].value.length;if(n[e].value||"0"==n[e].value)if(n[e].selectionStart||"0"==n[e].selectionStart)f=n[e].selectionStart;else{var g=document.selection.createRange();g.moveStart("character",-s),f=g.text.length}else f=0;if(0==f){if("0"==n[e].selectionStart&&v==n[e].selectionEnd&&n[e].value)return!0;e>0&&(n[e-1].selectionStart=n[e-1].value.length,n[e-1].focus())}return!0}if(9==o)return!0;t.preventDefault()}},changValue:function(t,e,a){var i=window.event||E;console.log(i);i.target.value.length,i.target.value},queryQuotas:function(){var t=this;He().then(function(e){console.log(e.data.results);var a=e.data.returnObj;t.allowSubCount=a.network_limit_each_vpc?a.network_limit_each_vpc-0:""}).catch(function(t){console.log(t)})}},computed:{sub_cidr:function(){var t=this.dataform.net,e=t.first+"."+t.second+"."+t.third+"."+t.four+"/"+t.last;return e},gateway_ip:function(){var t=this.dataform.gateway,e=t.first+"."+t.second+"."+t.third+"."+t.four;return e},regionType:function(){return this.thatVue.$store.getters.regionType}},created:function(){if(console.log(this.form),console.log(this.type),"delete"!=this.type)if(this.setname(),"edit"==this.type)this.oldSubName=this.form.name,this.getAclList(this.form.vpcid);else if("create"==this.type&&this.form.vpc)this.getAclList(this.form.vpcid),this.dataform.vpcid=this.form.vpcid;else{this.getVpcList();var t=this.form.quotas;t.network_limit_each_vpc?this.allowSubCount=t.network_limit_each_vpc-0:this.queryQuotas()}}},io={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"action-content_createSub",attrs:{loading:t.loading}},["delete"===t.type?a("div",[a("svg-icon",{staticClass:"vpcDelete",attrs:{"icon-class":"warn"}}),t._v(" "),a("div",{staticClass:"content"},[t._v("确定要删除"+t._s(t.form.name)+"吗？")])],1):t._e(),t._v(" "),"edit"===t.type?a("div",["edit"===t.type?a("el-form",{ref:"dataform",staticClass:"demo-ruleForm",attrs:{size:"small",model:t.dataform,rules:t.rules1,"label-width":"100px"}},[a("el-form-item",{staticClass:"editName",attrs:{label:"子网名称 :",prop:"name",required:""}},[a("el-input",{attrs:{type:"age","auto-complete":"off"},model:{value:t.dataform.name,callback:function(e){t.$set(t.dataform,"name","string"==typeof e?e.trim():e)},expression:"dataform.name"}}),t._v(" "),a("el-tooltip",{attrs:{"popper-class":"editSubTip",content:"不能使用中文,且长度为2-63字符",placement:"bottom"}},[a("i",{staticClass:"el-icon-question"})])],1),t._v(" "),a("el-form-item",{staticClass:"editName",attrs:{label:"描述 :"}},[a("el-input",{model:{value:t.dataform.desc,callback:function(e){t.$set(t.dataform,"desc","string"==typeof e?e.trim():e)},expression:"dataform.desc"}})],1),t._v(" "),"cs"==t.regionType?a("el-form-item",{staticClass:"editName",attrs:{label:"ACL :",prop:"aclId",required:""}},[a("el-select",{attrs:{disabled:t.seleceCheckAcl},model:{value:t.dataform.aclId,callback:function(e){t.$set(t.dataform,"aclId",e)},expression:"dataform.aclId"}},t._l(t.changeAcllist,function(t,e){return a("el-option",{key:e,attrs:{label:t.name,value:t.id}})}))],1):t._e()],1):t._e()],1):t._e(),t._v(" "),"create"===t.type?a("div",[a("el-form",{ref:"dataform",staticClass:"subnet-create",attrs:{rules:t.rules,size:"small",model:t.dataform,"label-width":"100px"}},[t.form.vpc?a("el-form-item",{staticClass:"vpc",attrs:{label:"VPC :"}},[a("el-input",{attrs:{type:"text","auto-complete":"off",disabled:""},model:{value:t.form.vpcname,callback:function(e){t.$set(t.form,"vpcname",e)},expression:"form.vpcname"}}),t._v(" "),a("div",{staticClass:"mark"},[t._v("当前VPC网段 :"+t._s(t.vpcinfo.cidr?t.vpcinfo.cidr:"os"==t.regionType?t.vpcinfo.description:"--"))])],1):t._e(),t._v(" "),t.form.vpc?t._e():a("el-form-item",{staticClass:"vpc",attrs:{label:"VPC :",prop:"vpcid"}},[a("el-select",{attrs:{disabled:t.vpcSeleceCheck},on:{change:t.getAclList},model:{value:t.dataform.vpcid,callback:function(e){t.$set(t.dataform,"vpcid",e)},expression:"dataform.vpcid"}},t._l(t.dataform.vpclist,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})})),t._v(" "),a("div",{staticClass:"mark"},[t._v("当前VPC网段 :"+t._s(t.vpcinfo.cidr?t.vpcinfo.cidr:"--"))])],1),t._v(" "),a("el-form-item",{staticClass:"subType",attrs:{label:"子网类型：",prop:"subType",required:""}},[a("el-radio-group",{attrs:{size:"medium"},model:{value:t.dataform.subType,callback:function(e){t.$set(t.dataform,"subType",e)},expression:"dataform.subType"}},[a("el-radio",{attrs:{label:0}},[t._v("普通子网")])],1)],1),t._v(" "),a("el-form-item",{staticClass:"name",attrs:{label:"子网名称 :",prop:"sub_name"}},[a("el-input",{model:{value:t.dataform.sub_name,callback:function(e){t.$set(t.dataform,"sub_name","string"==typeof e?e.trim():e)},expression:"dataform.sub_name"}}),t._v(" "),a("el-tooltip",{attrs:{"popper-class":"createSubTip",content:"不能使用中文,且长度为2-63字符",placement:"top"}},[a("i",{staticClass:"el-icon-question"})])],1),t._v(" "),a("el-form-item",{staticClass:"desc",attrs:{label:"描述 :"}},[a("el-input",{model:{value:t.dataform.desc,callback:function(e){t.$set(t.dataform,"desc","string"==typeof e?e.trim():e)},expression:"dataform.desc"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"网段 :",prop:"net"}},[a("div",{staticClass:"tiny-net"},[a("span",{staticClass:"tiny_input_ip_container valid_error_input",attrs:{id:"CidrIp"}},[a("el-input",{staticClass:"tiny_input_ip_anchor tiny_input_ip_octet",attrs:{maxlength:3,type:"text"},on:{change:t.changeSubnet},nativeOn:{keydown:function(e){t.onkeydowns(e,0,"CidrIp")}},model:{value:t.dataform.net.first,callback:function(e){t.$set(t.dataform.net,"first",e)},expression:"dataform.net.first"}}),t._v(" "),a("span",{staticClass:"tiny_input_ip_division"},[t._v(".")]),t._v(" "),a("el-input",{staticClass:"tiny_input_ip_anchor tiny_input_ip_octet",attrs:{maxlength:3,type:"text"},on:{change:t.changeSubnet},nativeOn:{keydown:function(e){t.onkeydowns(e,1,"CidrIp")}},model:{value:t.dataform.net.second,callback:function(e){t.$set(t.dataform.net,"second",e)},expression:"dataform.net.second"}}),t._v(" "),a("span",{staticClass:"tiny_input_ip_division"},[t._v(".")]),t._v(" "),a("el-input",{staticClass:"tiny_input_ip_anchor tiny_input_ip_octet",attrs:{maxlength:3,type:"text"},on:{change:t.changeSubnet},nativeOn:{keydown:function(e){t.onkeydowns(e,2,"CidrIp")}},model:{value:t.dataform.net.third,callback:function(e){t.$set(t.dataform.net,"third",e)},expression:"dataform.net.third"}}),t._v(" "),a("span",{staticClass:"tiny_input_ip_division"},[t._v(".")]),t._v(" "),a("el-input",{staticClass:"tiny_input_ip_anchor tiny_input_ip_octet",attrs:{maxlength:3,type:"text"},on:{change:t.changeSubnet},nativeOn:{keydown:function(e){t.onkeydowns(e,3,"CidrIp")}},model:{value:t.dataform.net.four,callback:function(e){t.$set(t.dataform.net,"four",e)},expression:"dataform.net.four"}})],1),t._v(" "),a("span",{staticClass:"ng-scope"},[t._v("/")]),t._v(" "),a("span",{staticClass:"tiny-textbox-container valid_error_input",staticStyle:{width:"50px"},attrs:{id:"VpcPortal"}},[a("el-input",{staticClass:"tiny-input-text ",attrs:{maxlength:2,type:"text",value:"24",spellcheck:"false",validator:"true"},on:{blur:t.changeSubnet},nativeOn:{keypress:function(e){t.replaceNum(e)}},model:{value:t.dataform.net.last,callback:function(e){t.$set(t.dataform.net,"last",e)},expression:"dataform.net.last"}})],1)])]),t._v(" "),a("el-form-item",{attrs:{label:"网关 :",prop:"gateway"}},[a("div",{staticClass:"tiny-net"},[a("span",{staticClass:"tiny_input_ip_container valid_error_input",attrs:{id:"gateway"}},[a("el-input",{staticClass:"tiny_input_ip_anchor tiny_input_ip_octet",attrs:{maxlength:3,value:"192",type:"text"},nativeOn:{keydown:function(e){t.onkeydowns(e,0,"gateway")}},model:{value:t.dataform.gateway.first,callback:function(e){t.$set(t.dataform.gateway,"first",e)},expression:"dataform.gateway.first"}}),t._v(" "),a("span",{staticClass:"tiny_input_ip_division"},[t._v(".")]),t._v(" "),a("el-input",{staticClass:"tiny_input_ip_anchor tiny_input_ip_octet",attrs:{maxlength:3,value:"168",type:"text"},nativeOn:{keydown:function(e){t.onkeydowns(e,1,"gateway")}},model:{value:t.dataform.gateway.second,callback:function(e){t.$set(t.dataform.gateway,"second",e)},expression:"dataform.gateway.second"}}),t._v(" "),a("span",{staticClass:"tiny_input_ip_division"},[t._v(".")]),t._v(" "),a("el-input",{staticClass:"tiny_input_ip_anchor tiny_input_ip_octet",attrs:{maxlength:3,value:"0",type:"text"},nativeOn:{keydown:function(e){t.onkeydowns(e,2,"gateway")}},model:{value:t.dataform.gateway.third,callback:function(e){t.$set(t.dataform.gateway,"third",e)},expression:"dataform.gateway.third"}}),t._v(" "),a("span",{staticClass:"tiny_input_ip_division"},[t._v(".")]),t._v(" "),a("el-input",{staticClass:"tiny_input_ip_anchor tiny_input_ip_octet",attrs:{maxlength:3,value:"0",type:"text"},nativeOn:{keydown:function(e){t.onkeydowns(e,3,"gateway")}},model:{value:t.dataform.gateway.four,callback:function(e){t.$set(t.dataform.gateway,"four",e)},expression:"dataform.gateway.four"}})],1)])]),t._v(" "),"cs"!=t.regionType||t.form.acl?t._e():a("el-form-item",{staticClass:"acl",attrs:{label:"ACL :",prop:"aclId"}},[a("el-select",{attrs:{disabled:t.aclSeleceCheck},model:{value:t.dataform.aclId,callback:function(e){t.$set(t.dataform,"aclId",e)},expression:"dataform.aclId"}},t._l(t.dataform.acllist,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})}))],1)],1)],1):t._e()])},staticRenderFns:[]};var no=a("VU/8")(ao,io,!1,function(t){a("W2Vm"),a("ugTI")},"data-v-d3759506",null).exports,so={props:{serverId:[String],subnetList:[Array],vpcinfo:[Object],subTotalCount:[Number,String]},components:{DetailBtn:Pa,ConsoleTable:Te},data:function(){var t=this;return{fakeVpc:!1,checkBox:!1,selectOrNot:!0,operationOrNot:!0,subdetailRefresh:!1,expand:!1,subRemainCount:"--",vpcid:"",zoneid:"",vpcname:"",tableData:[],jobid:[],filter:{status:"",limit:10,page:1,name:"",id:"",vpcid:""},tableOptions:[{prop:"name",label:u.vpc.name,temp:!0,detail:!0},{prop:"stateTxt",label:u.vpc.state,temp:!0,status:!0},{prop:"cidr",label:u.vpc.subnet},{prop:"gateway",label:u.vpc.gateway},{prop:"subType",label:u.vpc.subType}],vpcAttachPointOperation:[{value:u.vpc.delete,fun:function(e){return t.delete(e)}},{value:u.vpc.edit,fun:function(e){return t.edit(e)}}]}},methods:{filterSubnet:function(t){var e=this;this.fakeVpc=!0,t.map(function(t){e.$set(t,"operation",[])})},autoRefresh:function(){var t=this;if(!this.subdetailRefresh){this.jobid&&this.jobid.map(function(e,a){console.log(e),e.fjobid&&t.getJobDetail(e.fjobid,a,function(){e.fjob=!0}),t.getJobDetail(e.jobid,a,function(){e.job=!0})})}},getJobDetail:function(t,e,a){var i=this,n=this,s=void 0;Ie(t).then(function(t){console.log(t);var o=t.data.results[0];if(1==o.jobstatus){if(a(),n.jobid[e].fjobid){if(n.jobid[e].fjob&&n.jobid[e].job){n.filter.keyword=n.jobid[e].name;var r=void 0;Oe(n.filter).then(function(t){n.filter.keyword="",r=t.data.results[0],n.setData(r),n.tableData.map(function(t,e){if(t.id==r.id)return n.$set(n.tableData,e,r),console.log(e,r),!0})}).catch(function(t){console.log(t)})}}else if(n.jobid[e].job){n.filter.keyword=n.jobid[e].name;var l=void 0;Oe(n.filter).then(function(t){n.filter.keyword="",l=t.data.results[0],n.setData(l),n.tableData.map(function(t,e){if(t.id==l.id)return n.$set(n.tableData,e,l),console.log(e,l),!0})}).catch(function(t){console.log(t)})}}else 2==o.jobstatus?(clearTimeout(s),i.refresh()):s=setTimeout(function(){n.getJobDetail(o.jobid,e,a)},5e3)}).catch(function(t){i.subdetailRefresh=!0,setTimeout(function(){i.refresh()},5e3)})},setData:function(t){return t.fake_subnet&&1==t.fake_subnet&&(t.disabled=!0)&&(t.vpcname="默认网络"),"Allocated"===t.state?t.state="已分配":t.state=t.state?_e(t.state):"--",t.deteler=!1,t},create:function(t){var e=this;if(this.subRemainCount<1)this.$message({message:"子网配额不足！",type:"warning"});else{var a=this.$message,i=no,n={};n.type="create",n.title="增加子网";F();var s={data:n,view:i,form:{vpc:!0,aclid:"",desc:"",sub_name:"",sub_cidr:"",gateway_ip:"",vpcid:this.vpcinfo.vpcid,vpcname:this.vpcinfo.vpcname,zoneid:P(),vpcinfo:this.vpcinfo,vpcSubData:this.tableData}};t.id;this.$alertDialog(s).then(function(t){$e({aclid:t.aclid,desc:t.desc,sub_name:t.sub_name,sub_cidr:t.sub_cidr,is_lb:t.subType,gateway_ip:t.gateway_ip,vpcid:t.vpcid,zoneid:t.zoneid}).then(function(t){t.data.results[0].network;a("子网创建成功"),e.$emit("subNum",e.tableData.length)}).catch(function(t){console.log(t)})})}},delete:function(t){var e=this.$message,a=no,i={};i.type="delete",i.title="删除子网";var n={data:i,view:a,form:{name:t.name}},s=t.id,o=t.vpcid,r=this;this.$alertDialog(n).then(function(t){Pe(s,o).then(function(t){e("删除子网成功"),r.$emit("subNum",r.tableData.length),console.log(t)}).catch(function(t){})})},edit:function(t){var e=this,a=this.$message,i=(this.refresh,no),n={};n.type="edit",n.title="修改子网";var s={data:n,view:i,form:{name:t.name,aclName:t.aclname,aclId:t.aclid,vpcid:t.vpcid,desc:t.displaytext,edit:!0}},o=t.id,r=this;this.$alertDialog(s).then(function(i){if(console.log(i),i.name!=t.name||i.aclId!=t.aclid||i.desc!=t.displaytext){var n=void 0;n=i.aclId==t.aclid?{name:i.name,desc:i.desc}:{name:i.name,desc:i.desc,firewall_uuid:i.aclId},Ne(o,n).then(function(t){a("修改子网成功"),e.subdetailRefresh=!1,r.jobid.push({id:o,jobid:t.data.results[0].jobid,fjob:!1,job:!1,name:n.name,fjobid:t.data.results[0].fjobid?t.data.results[0].fjobid:""}),r.autoRefresh(r.jobid)}).catch(function(t){console.log(t)})}})},buttonClick:function(t,e){t(e)},changeTable:function(t){this.changeTableData=t},getVpcDetail:function(t){var e=this;console.log("1111"),console.log(this),Ee(t).then(function(t){var a=t.data.results[0];e.tableData=a.network||a.subnet_list,console.log(e.tableData),e.filterServers(e.tableData),e.zoneid=a.zoneid,e.vpcid=a.vpcid,e.vpcname=a.vpcname,a.net_num=a.network?a.network.length:a.subnet_list?a.subnet_list.length:0}).catch(function(t){console.log(t)})},changeData:function(t){var e=this;this.tableData.map(function(a,i){a.id==t.id&&(t.state=t.state?_e(t.state):"--",e.$set(e.tableData,i,t))})},filterServers:function(t){var e=this,a=[],i=this.filter,n=this.changeData;console.log(Array.isArray(t)),Array.isArray(t)?t.forEach(function(t){t.subType=t.is_lb?"负载均衡":"普通子网",t.aclname=t.aclname?t.aclname:"--","Allocated"===t.state?t.state="Allocateds":"Implementing"===t.state?(a.push(t.name),t.state=t.state?_e(t.state):"--"):"Implemented"===t.state&&(t.state="Implemented"),"os"==e.regionType&&(t.gateway=t.gateway_ip,t.status="ACTIVE"==t.status&&"subnetactive")}):(t.subType=t.is_lb?"负载均衡":"普通子网",t.aclname=t.aclname?t.aclname:"--","Allocated"===t.state?t.state="Allocateds":"Implementing"===t.state?(a.push(t.name),t.state=t.state?_e(t.state):"--"):"Implemented"===t.state&&(t.state="Implemented")),a.length>0&&a.map(function(t){var e=void 0;e=setInterval(function(){var a=this;i.name=t,Oe(i).then(function(t){var a=t.data.results[0];"Implementing"!==a.state&&(clearInterval(e),n(a))}).catch(function(t){"CancelToken"==t.message||(a.loaded=!1),console.log(t)})},9e3)})},refresh:function(){this.getVpcDetail(this.$route.params.serverId)},queryQuotas:function(){var t=this;He().then(function(e){console.log(e.data.results);var a=e.data.results[0];t.subTotalCount=a.networklimit,t.subExistCount=a.networktotal}).catch(function(t){console.log(t)})}},computed:{renderDetail:function(){return console.log(this.vpcinfo),1==(this.vpcinfo.fake_vpc?this.vpcinfo.fake_vpc:null)&&this.filterSubnet(this.subnetList),this.tableData=this.subnetList,this.filterServers(this.tableData),"--"==this.subTotalCount?this.subRemainCount="--":(this.subRemainCount=this.subTotalCount-this.tableData.length,this.subRemainCount<0&&(this.subRemainCount=0)),this.tableData},regionType:function(){var t=this.$store.getters.regionType;return"cs"==t&&this.tableOptions.push({prop:"aclname",label:u.vpc.aclName}),this.$store.getters.regionType}},mounted:function(){},beforeDestroy:function(){this.subdetailRefresh=!0}},oo={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"detail-content"},[e("div",{staticClass:"attach_content"},[e("ul",{staticClass:"ebs_operate"},[this.fakeVpc?this._e():e("li",{staticClass:"left_title pull_left"},[this._v("您还可以创建"+this._s(this.subRemainCount)+"个子网")]),this._v(" "),e("li",{staticClass:"pull_right"},[this.fakeVpc?this._e():e("span",{staticClass:"btns_basic",on:{click:this.create}},[this._v("创建")])])])]),this._v(" "),e("ConsoleTable",{attrs:{operationOrNot:this.operationOrNot,checkBox:this.checkBox,noEffect:!0,expand:this.expand,selectOrNot:this.selectOrNot,tableData:this.renderDetail,tableOptions:this.tableOptions,OperationEvents:this.vpcAttachPointOperation},on:{changeTable:this.changeTable,buttonClick:this.buttonClick}})],1)},staticRenderFns:[]};var ro=a("VU/8")(so,oo,!1,function(t){a("sn6Y")},"data-v-4393f64a",null).exports,lo={props:{message:{type:String,default:"默认信息"}},data:function(){return{msg:"拓扑图"}}},co={render:function(){var t=this.$createElement;return(this._self._c||t)("div",[this._v("\n\t"+this._s(this.msg)+"\n\t"+this._s(this.message)+"\n")])},staticRenderFns:[]},uo={components:{ConsoleDetail:Ia,DetailTab:Mi,SubnetDetail:ro,Topology:a("VU/8")(lo,co,!1,null,null,null).exports},methods:{action:function(t){console.log(t)},changeVpcName:function(t,e,a){var i=this,n=this;if("name"==e)if(t.intro.length>63||t.intro.length<2)this.$message({message:"名称长度为2-63字符",type:"warning"});else if(ia(t.intro))this.$message({message:"名称不能使用中文",type:"warning"});else{Se({status:"",page:1,name:t.intro,attached:""}).then(function(e){if(e.data.results.length>0)i.$message({message:"VPC名称重复，请重新输入！",type:"warning"});else{var s={name:t.intro,desc:i.VpcDetail.displaytext};Le(i.serverId,s).then(function(t){i.$message({message:"VPC名称修改成功！",type:"success"}),a(),n.refresh()}).catch(function(t){console.log(t)})}}).catch(function(t){console.log(t),i.$message({message:"VPC名称查重失败，请稍后重试！",type:"warning"})})}else{var s={desc:t.intro,name:this.VpcDetail.name};Le(this.serverId,s).then(function(t){i.$message({message:"VPC描述修改成功！",type:"success"}),a(),n.refresh()}).catch(function(t){console.log(t),i.$message({message:"VPC描述修改失败，请稍后重试！",type:"warning"})})}},refresh:function(t){this.getVpcDetail(this.$route.params.serverId)},autoRefresh:function(t){var e=this;setTimeout(function(){e.getVpcDetail(t)},5e3)},getVpcDetail:function(t){var e=this,a=this.detailList,i=void 0;"os"==this.regionType&&(i=1),Ee(t,i).then(function(t){console.log(t);var i=t.data.results[0];e.VpcDetail=i,console.log("data"),console.log(i);var n=i.fake_vpc&&1==i.fake_vpc;i.name=n&&"fake_vpc"==i.name?"默认网络":i.name,"os"==e.regionType&&(i.displaytext=i.description,e.subnetList=i.subnet_list,i.net_num=""+i.subnet_list.length),"cs"==e.regionType&&(e.subnetList=i.network,i.net_num=""+i.network.length),i.cidr=n?"--":i.cidr,e.vpcinfo.vpcid=i.id,e.vpcinfo.vpcname=i.name,e.vpcinfo.zoneid=i.zoneid,e.vpcinfo.fake_vpc=i.fake_vpc?i.fake_vpc:null,e.vpcinfo.cidr=i.cidr,e.subTotalCount=e.diskCount,a.map(function(t){"diskNum"!=t.name&&(n&&"cidr"==t.name&&(t.hide=!0),n&&("name"==t.name||"displaytext"==t.name?t.noChange=!0:t.noChange=!1),t.intro=i[t.name])}),e.detailLabel=i.name,i.subnet_creating&&e.autoRefresh(i.id)}).catch(function(t){console.log(t)})},changeNum:function(t){console.log(t),this.getVpcDetail(this.$route.params.serverId)},swtichTab:function(t){this.currentView=t.name},queryQuotas:function(){var t=this;He().then(function(e){console.log(e.data.results);var a=e.data.returnObj;t.diskCount=a.network_limit_each_vpc?a.network_limit_each_vpc-0:""}).catch(function(t){console.log(t)})}},data:function(){return{detailImg:eo.a,detailLabel:"虚拟私有云",diskCount:0,subTotalCount:"--",currentView:"SubnetDetail",serverId:"",vpcinfo:{},VpcDetail:{},subnetList:[],btnFun:[],detailList:[{name:"name",label:"名称",intro:"--",change:!0,noChange:""},{name:"net_num",label:"子网",intro:"--",noChange:""},{name:"displaytext",label:"描述",intro:"--",intros:"",changeDesc:!0,noChange:""},{name:"id",label:"ID",intro:"--",noChange:""},{name:"cidr",label:"VPC网段",intro:"--",hide:!1,noChange:""}],tabOption:[{label:"子网",name:"SubnetDetail",view:""}]}},computed:{regionType:function(){return this.$store.getters.regionType}},created:function(){var t=this.$store.state.user.user.quotas;t.network_limit_each_vpc?this.diskCount=t.network_limit_each_vpc-0:this.queryQuotas(),this.serverId=this.$route.params.serverId,this.getVpcDetail(this.$route.params.serverId)},updated:function(){}},po={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("console-detail",{attrs:{detailList:this.detailList,detail_image:this.detailImg,detail_label:this.detailLabel,btnMsg:this.btnFun,changeName:this.changeVpcName},on:{deatilBtnClick:this.action}}),this._v(" "),e("detail-tab",{attrs:{tabOption:this.tabOption},on:{click:this.swtichTab}},[e("div",{attrs:{slot:this.currentView},slot:this.currentView},[e(this.currentView,{tag:"component",attrs:{serverId:this.serverId,subTotalCount:this.subTotalCount,subnetList:this.subnetList,vpcinfo:this.vpcinfo},on:{subNum:this.changeNum}})],1)])],1)},staticRenderFns:[]};var mo=a("VU/8")(uo,po,!1,function(t){a("GN8K")},null,null).exports,ho={path:"/vpc",name:"vpc",component:j,redirect:"/vpc/vpcList",children:[{path:"vpcList",name:"vpcList",component:Es,props:{name:u.common.vpc,buttonText:u.vpc.creatVPC}},{path:"creatVpc",name:"creatVpc",component:Xs,props:{name:u.vpc.creatVPC},meta:{dependOn:"vpcSub",aisdeHide:!0}},{path:"vpcDetail/:serverId",name:"vpcDetail",component:mo,props:{name:u.vpc.vpcDetail},meta:{dependOn:"vpcSub"}}]},fo=a("+tSb"),vo={props:{eipDetailData:[Object,Array],eipPort:[Boolean,String],vpcname:[String]},components:{ConsoleDetail:Ia,ConsoleTable:Te,ConsoleAction:Qe,EipBind:os},data:function(){var t=this;return{eipPorts:!1,PortListData:[],subnet_id:"",filter:{satus:"",limit:5,page:1,ip:"",keyword:"",id:"",attached:""},resourcesList:[{name:"name",label:u.vpc.serverName,intro:"--"},{name:"vpc",label:u.common.vpc,intro:"--"},{name:"serverId",label:u.vpc.serverId,intro:"--"},{name:"networkCard",label:u.vpc.networkCard,intro:"--"}],bwList:[{name:"bandwidthName",label:u.vpc.bandwidthName,intro:"--"},{name:"bindEip",label:u.vpc.bindEip,intro:"--"},{name:"bwID",label:u.vpc.bwID,intro:"--"},{name:"pricingModel",label:u.vpc.pricingModel,intro:"--"},{name:"bandwidth",label:u.vpc.bandwidth,intro:"--"},{name:"bwOrder",label:u.vpc.bwOrder,intro:"--"}],tableOptions:[{prop:"publicport",label:u.vpc.netStartPort},{prop:"publicendport",label:u.vpc.netEndPort},{prop:"privateport",label:u.vpc.privateStartPort},{prop:"privateendport",label:u.vpc.privateEndPort},{prop:"protocol",label:u.vpc.protocol},{prop:"virtualmachinedisplayname",label:u.vpc.ecmName},{prop:"vmguestip",label:u.vpc.privateIp}],eipOperation:[{value:u.bks.deleter,fun:function(e){return t.deleter(e)}}]}},methods:{deleter:function(t){var e=this,a={data:{type:"warn",option:"",title:"删除规则",actionTip:["确定要删除该规则吗？"],data:"",warn:!0},view:Qe,form:{}};console.log(t),this.$alertDialog(a).then(function(a){var i,n,s=t.id,o=e;(i=s,n={regionid:F()},Ct({url:"/console/network/portforwardingrules/?id="+i,method:"delete",data:n})).then(function(t){console.log(t),e.$message({message:"规则删除成功。",type:"success"});for(var a=0,i=0;i<o.PortListData.length;i++)if(s==o.PortListData[i].id){a=i;break}o.PortListData.splice(a,1),!o.PortListData.length>0&&o.$emit("ecmIp","refresh")}).catch(function(t){console.log(t),e.$message({message:"命令下发失败",type:"error"})})})},buttonClick:function(t,e){t(e)},addPort:function(){var t=this,e={data:{option:[],title:"端口映射",actionTip:u.vpc.bindingTip,data:"",port:!0,table:!0,vpcid:this.PortListData[0].virtualmachineid,vpcName:this.PortListData[0].virtualmachinedisplayname?this.PortListData[0].virtualmachinedisplayname:this.PortListData[0].virtualmachinename?this.PortListData[0].virtualmachinename:"--"},view:os,form:{}};this.$alertDialog(e).then(function(e){console.log(e);var a,i,n=e;n.id=t.eipDetailData.id,n.instance_uuid=t.PortListData[0].virtualmachineid,n.subnet_uuid=t.subnet_id,(a=n,i=void 0,i=a.data?{regionid:F(),publicip_uuid:a.id,privateport:a.rule.privateport,privateendport:a.rule.privateendport,publicendport:a.rule.publicendport,publicport:a.rule.publicport,instance_uuid:a.data.id,protocol:a.rule.protocol.toLowerCase(),subnet_uuid:a.data.nic[0].networkid}:{regionid:F(),publicip_uuid:a.id,privateport:a.rule.privateport,privateendport:a.rule.privateendport,publicendport:a.rule.publicendport,publicport:a.rule.publicport,instance_uuid:a.instance_uuid,protocol:a.rule.protocol.toLowerCase(),subnet_uuid:a.subnet_uuid},Ct({url:"console/network/portforwardingrules/",method:"post",data:i})).then(function(e){console.log(e),t.$message({message:"命令下发成功",type:"success"}),t.PortListData.push(e.data.results[0].portforwardingrule)}).catch(function(e){console.log(e),t.$message({message:"命令下发失败",type:"error"})})})},GetEcmDetail:function(t,e){var a=this,i=this,n={};t?jt(t).then(function(t){var s=t.data.results[0];n.name=s.name,n.serverId=s.id,n.vpc=e.vpcname||"--",n.selectCorrectAZ=e.zonename||"--",i.subnet_id=s.nic[0].networkid,i.$emit("ecmIp",s.nic[0].ipaddress),Ut(s.nic[0].networkid).then(function(t){var e=t.data.results[0];console.log(e);var a=i.resourcesList;n.networkCard=e.name,a.map(function(t){t.intro=n[t.name]})}).catch(function(t){console.log(t),a.$message({message:"命令下发失败",type:"error"})})}).catch(function(t){console.log(t),a.$message({message:"命令下发失败",type:"error"})}):(n.name="--",n.serverId="--",n.vpc="--",n.selectCorrectAZ="--",n.networkCard="--",i.resourcesList.map(function(t){t.intro=n[t.name]}))},GetPortDetail:function(t){var e=this;console.log(t);var a,i=this.filter;i.ipaddressid=t.id,(a=i,a.regionid=F(),Ct({url:"console/network/portforwardingrules/",method:"get",params:a})).then(function(t){var a=t.data.results;console.log(a),e.PortListData=a;var i=e.eipDetailData;i.vpc=i.vpcname||"--",e.GetEcmDetail(e.PortListData[0].virtualmachineid,i)}).catch(function(t){console.log(t),e.$message({message:"命令下发失败",type:"error"})})}},watch:{eipPort:function(t,e){var a=this;console.log(t);var i=this.eipDetailData;if("2"==this.eipPort)this.eipPorts=!0,this.GetPortDetail(i);else{this.eipPorts=!1;var n=this.eipDetailData.virtualmachineid;console.log(this.eipDetailData),i.vpc=i.vpcname||"--",n?this.GetEcmDetail(n,i):this.resourcesList.map(function(t){"vpc"==t.name?t.intro=a.vpcname:t.intro="--"})}}}},go={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"Re_detail"},[e("p",{staticClass:"title"},[this._v("绑定资源详情")]),this._v(" "),e("ConsoleDetail",{attrs:{show:!0,eipPort:this.eipPort,detailList:this.resourcesList}}),this._v(" "),this.eipPorts?e("el-col",{staticStyle:{"padding-bottom":"10px","padding-top":"10px"},attrs:{span:24}},[e("el-col",{attrs:{span:18}},[e("span",{staticClass:"addRules"},[this._v("端口映射规则：")])]),this._v(" "),e("el-col",{staticStyle:{"text-align":"right"},attrs:{span:6}},[e("span",{staticClass:"addRule",on:{click:this.addPort}},[this._v("添加规则")])])],1):this._e(),this._v(" "),this.eipPorts?e("el-col",[e("ConsoleTable",{attrs:{checkBox:!1,eipStatus:!1,operationOrNot:!0,selectOrNot:!1,tableData:this.PortListData,tableOptions:this.tableOptions,OperationEvents:this.eipOperation},on:{buttonClick:this.buttonClick}})],1):this._e()],1)},staticRenderFns:[]};var bo=a("VU/8")(vo,go,!1,function(t){a("xWF7"),a("FKEf")},"data-v-34e956fd",null).exports,_o={components:{ConsoleTable:Te,ConsoleDetail:Ia,DetailTab:Mi,ConsoleAction:Qe,resourcesDetail:bo,EipBindChoose:is,EipBind:os},data:function(){var t=this;return{checkBox:!0,selectOrNot:!0,operationOrNot:!0,detailShow:!0,eipPort:"",attachPoint:Y,detail_label:"弹性公网IP",detail_image:a("ECF7"),eipId:"",vpcname:"",eipDetailData:[],currentView:"resourcesDetail",detailList:[{name:"id",label:u.common.ID,intro:"--"},{name:"status",label:u.common.status,intro:"--"},{name:"eipAddress",label:u.vpc.eipAddress,intro:"--"},{name:"createAt",label:u.common.createAt,intro:"--"},{name:"vmipaddress",label:u.vpc.bindPrivateIp,intro:"--"},{name:"finishAt",label:u.common.finishAt,intro:"--"}],btnMsg:[{value:u.vpc.binding,disabled:!1,state:"bind",btnCli:function(){return t.binding()}},{value:u.vpc.unbunding,disabled:!1,state:"unbind",btnCli:function(){return t.unbunding()}}],tabOption:[{label:"详情",name:"resourcesDetail",view:""}]}},computed:{btnFun2:function(){return this.eipDetailData.expired,this.btnMsg}},methods:{unbunding:function(){var t=this;if("unbinding"!=this.eipDetailData.state){if(!this.eipDetailData.expired&&this.eipDetailData.resource_type){var e=this;console.log("调用解绑");var a="";"INSTANCE"==this.eipDetailData.resource_type?a="确定要解绑这个IP的静态NAT":"PORTFORWARDING"==this.eipDetailData.resource_type?a="确定要解绑这个IP绑定的所有端口映射规则吗？":this.eipDetailData||(a="解除负载均衡IP将会删除负载均衡？");var i={data:{type:"warn",option:"",title:"解绑",actionTip:[a],data:"",warn:!0},view:Qe,form:{}};this.$alertDialog(i).then(function(a){Ue(t.eipDetailData.id).then(function(a){console.log(a),t.$message({message:"弹性公网IP解绑成功",type:"success"}),setTimeout(function(){e.refresh()},3e3)}).catch(function(e){console.log(e),t.$message({message:"命令下发失败",type:"error"})})})}}else this.$message({type:"error",message:"请先绑定弹性公网IP再进行此操作"})},binding:function(){var t=this;if(console.log("调用绑定"),"instance"!=this.eipDetailData.state.toLowerCase()&&"lb"!=this.eipDetailData.state.toLowerCase()&&"PORTFORWARDING"!=this.eipDetailData.state){if(!this.eipDetailData.expired&&!this.eipDetailData.resource_type){var e=this,a={data:{option:[{prop:"name",label:u.common.name,detail:!0,noEffect:!0},{prop:"status",label:u.common.status,temp:!0,status:!0},{prop:"privateIp",label:u.common.privateIp}],title:"一对一映射",actionTip:u.vpc.bindingTip,data:"",vpcid:this.eipDetailData.vpcid},view:os,form:{}};this.$alertDialog(a).then(function(a){console.log(a.data);var i=a.data.id,n=a.data.nic[0].networkid;qe(i,t.eipDetailData.id,n).then(function(a){console.log(a),t.$message({message:"命令下发成功",type:"success"}),e.refresh()}).catch(function(e){console.log(e),t.$message({message:"命令下发失败",type:"error"})})})}}else this.$message({type:"error",message:"请先解绑弹性公网IP再进行此操作"})},getEcmIp:function(t){"refresh"==t?this.refresh():this.$set(this.detailList[4],"intro",t)},refresh:function(){this.GetEipDetail(this.$route.params.serverId)},deatilBtnClick:function(t){t()},handleClick:function(t,e){console.log(t,e)},handleSelectionChange:function(t){this.multipleSelection=t},swtichTab:function(t){this.currentView=t.name},GetEipDetail:function(t){var e=this,a=this.detailList;je(t).then(function(t){var i=t.data.results[0];console.log(t),i.state=i.resource_type?i.resource_type:"unbinding",i.status=i.state?_e(i.state):"--","PORTFORWARDING"==i.state?e.eipPort="2":e.eipPort="1",e.vpcname=i.vpcname,i.id=i.id,i.eipAddress=i.ipaddress||"--",i.createAt=i.created_at?Ce(i.created_at):"--",i.chargeType=i.chargeType||"--",i.diskModel=i.diskModel||"--",i.finishAt=i.expire_date?Ce(i.expire_date):"--",i.expired=ke(i.finishAt),a.map(function(t){t.intro=i[t.name]}),e.detail_label=i.ipaddress,e.eipDetailData=i,e.btnMsg.map(function(t){"bind"==t.state?"unbinding"==i.state?t.disabled=!0:t.disabled=!1:"unbinding"==i.state?t.disabled=!1:t.disabled=!0,i.expired&&(t.disabled=!1,t.title="该弹性ip已过期，不可执行该操作"),i.with_vm&&(t.disabled=!1,t.title="与云主机一起购买的弹性ip，不可执行该操作")}),console.log(e.eipDetailData)}).catch(function(t){console.log(t)})}},created:function(){this.GetEipDetail(this.$route.params.serverId),this.eipId=this.$route.params.serverId}},yo={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"box main"},[e("ConsoleDetail",{attrs:{detail_label:this.detail_label,detail_image:this.detail_image,detailList:this.detailList,btnMsg:this.btnFun2,detailShow:this.detailShow},on:{deatilBtnClick:this.deatilBtnClick}}),this._v(" "),e("detail-tab",{attrs:{tabOption:this.tabOption},on:{click:this.swtichTab}},[e("div",{attrs:{slot:this.currentView},slot:this.currentView},[e(this.currentView,{tag:"component",attrs:{vpcname:this.vpcname,eipPort:this.eipPort,serverId:this.eipId,eipDetailData:this.eipDetailData},on:{ecmIp:this.getEcmIp}})],1)])],1)},staticRenderFns:[]};var wo=a("VU/8")(_o,yo,!1,function(t){a("3s8N"),a("oeR+")},"data-v-5928dad4",null).exports,Co={path:"eip",name:"eip",component:fo.default,redirect:"eip/eipList",children:[{path:"eipList",name:"eipList",component:cs},{path:"eipCreate",name:"eipCreate",component:hs,meta:{dependOn:"vpcEipSub",aisdeHide:!0}},{path:"eipDetail/:serverId",name:"eipDetail",component:wo,meta:{dependOn:"vpcEipSub"}}]},ko={props:{cidr:[Object],toolTip:[Object]},data:function(){return{}},computed:{ipModel:function(){var t={first:this.cidr&&this.cidr.first||"0",second:this.cidr&&this.cidr.second||"0",third:this.cidr&&this.cidr.third||"0",fourth:this.cidr&&this.cidr.fourth||"0",last:this.cidr&&this.cidr.last||"0"};return t},tip:function(){return this.toolTip||{content:"",show:!1,tipPosition:"bottom-end"}}},methods:{onkeydowns:function(t,e,a){St(t,e,a)},replaceNum:function(t){var e=window.event?t.keyCode:t.which;if(!window.event){if([8,9,110,37,39,0].includes(e))return}if(46==e){var a=t.target.parentElement.nextElementSibling?t.target.parentElement.nextElementSibling.nextElementSibling.firstElementChild:"";a&&a.focus(),a&&a.setSelectionRange(0,3)}e>=48&&e<=57||t.preventDefault()},changeCidr:function(){var t=this.ipModel,e=t.first+"."+t.second+"."+t.third+"."+t.fourth,a=t.last;this.cidr.data=e+"/"+a,this.$emit("validateIp",this.cidr.data)}}},xo={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"cidrContent-component",attrs:{id:"cidrContent"}},[a("div",{staticClass:"cidrContent-cidr cidrContent-inline"},[a("el-input",{attrs:{type:"text",maxlength:3},on:{change:t.changeCidr},nativeOn:{keydown:function(e){t.onkeydowns(e,0,"cidrContent")}},model:{value:t.ipModel.first,callback:function(e){t.$set(t.ipModel,"first",e)},expression:"ipModel.first"}}),t._v(" "),a("span",[t._v(".")]),t._v(" "),a("el-input",{attrs:{type:"text",maxlength:3},on:{change:t.changeCidr},nativeOn:{keydown:function(e){t.onkeydowns(e,1,"cidrContent")}},model:{value:t.ipModel.second,callback:function(e){t.$set(t.ipModel,"second",e)},expression:"ipModel.second"}}),t._v(" "),a("span",[t._v(".")]),t._v(" "),a("el-input",{attrs:{type:"text",maxlength:3},on:{change:t.changeCidr},nativeOn:{keydown:function(e){t.onkeydowns(e,2,"cidrContent")}},model:{value:t.ipModel.third,callback:function(e){t.$set(t.ipModel,"third",e)},expression:"ipModel.third"}}),t._v(" "),a("span",[t._v(".")]),t._v(" "),a("el-input",{attrs:{type:"text",maxlength:3},on:{change:t.changeCidr},nativeOn:{keydown:function(e){t.onkeydowns(e,3,"cidrContent")}},model:{value:t.ipModel.fourth,callback:function(e){t.$set(t.ipModel,"fourth",e)},expression:"ipModel.fourth"}})],1),t._v(" "),a("div",{staticClass:"cidrContent-spilt cidrContent-inline"},[t._v("/")]),t._v(" "),a("div",{staticClass:"cidrContent-port cidrContent-inline"},[a("el-input",{attrs:{type:"text",maxlength:2},on:{change:t.changeCidr},nativeOn:{keypress:function(e){t.replaceNum(e)}},model:{value:t.ipModel.last,callback:function(e){t.$set(t.ipModel,"last",e)},expression:"ipModel.last"}})],1),t._v(" "),t.tip.show?a("el-tooltip",{attrs:{"popper-class":"editSnapTip",content:t.tip.content,placement:t.tip.tipPosition}},[a("i",{staticClass:"el-icon-question"})]):t._e()],1)},staticRenderFns:[]};var Do=a("VU/8")(ko,xo,!1,function(t){a("R0Wj"),a("NkuK")},"data-v-b6245a3c",null).exports,To={props:{tableData:[Object],form:[Object]},components:{ConsoleIp:Do},data:function(){var t=this;return{getFirst:!1,sgsLoading:!1,toolTip:{content:"0.0.0.0/0表示所有IP地址",show:!0,tipPosition:"bottom-end"},secRules:{direction:{model:"ingress",option:[{label:"入方向",value:"ingress"},{label:"出方向",value:"egress"}]},protocol:{model:"tcp",option:[{label:"TCP",value:"tcp"},{label:"ICMP",value:"icmp"},{label:"UDP",value:"udp"},{label:"ANY",value:"any"}]},port_range:{content:"例如20或20-33",model:"",min:"",max:""},ethertype:{model:"any",option:[{label:"Any",value:"any"}]},source:{model:"ip",option:[{label:"IP",value:"ip"},{label:"安全组",value:"sgs"}]},cidr:{first:"0",second:"0",third:"0",fourth:"0",last:"0",ip:"0.0.0.0/0"},sgsList:[],sgsId:""},rules:{direction:[{required:!0,trigger:"blur"}],protocol:[{required:!0,trigger:"blur"}],source:[{required:!0,trigger:"blur"}],sgsId:[{required:!0,trigger:"blur",message:"请选择一个安全组"}],ethertype:[{required:!0,trigger:"change"}],port_range:[{validator:function(e,a,i){var n=a.model;if(n){var s=n.split("-");(n.indexOf("-")>=0?/^\d+$/.test(s[0])&&s[0]>=1&&s[0]<65536&&/^\d+$/.test(s[1])&&s[1]>=1&&s[1]<65536:/^\d+$/.test(n)&&n>=1&&n<65536)?!(n.indexOf("-")>=0)||parseInt(s[0],10)<=parseInt(s[1],10)?/^(0|[1-9][0-9]*)(-(0|[1-9][0-9]*))?$/.test(n)?(t.secRules.port_range.min=s[0],t.secRules.port_range.max=s[1]||s[0],i()):i(new Error("取值是整数")):i(new Error("端口下限应小于等于端口上限")):i(new Error("端口取值范围在1-65536"))}else i(new Error("请输入端口号"))},trigger:"blur,change"},{required:!0}],cidr:[{validator:function(e,a,i){var n=void 0,s=void 0;if(a.data){var o=a.data.split("/");n=o[0],s=o[1]}else n=a.first+"."+a.second+"."+a.third+"."+a.fourth,s=a.last;!function(t,e){var a,i=void 0,n=void 0,s=void 0,o=void 0,r=void 0,l=void 0,c=void 0,u=void 0,d=void 0,p=void 0,m="";for(a=t.split("."),e=parseInt(e,10),i=0;i<4;i++){if(s="",(n=parseInt(a[i],10).toString(2)).length<8)for(o=0;o<8-n.length;o++)s+="0";m+=n=s+n}for(r="",l=0;l<e;l++)r+="1";for(c=l;c<32;c++)r+="0";for(u=0;u<32;u++)if(d=parseInt(m[u],10),p=parseInt(r[u],10),d!==(d&&p))return!1;return!0}(n,s)?i(new Error("子网IP地址与子网掩码不匹配")):/^([0-9]|[1-2][0-9]|3[0-2])$/.test(s)?(t.secRules.cidr.ip=n+"/"+s,i()):i(new Error("子网掩码不合法"))},trigger:"blur,change"}]}}},methods:{onkeydowns:function(t,e,a){St(t,e,a)},validateForm:function(){var t=this.secRules,e={direction:t.direction.model,ethertype:"",protocol:t.protocol.model,port_range_min:"",port_range_max:"",remote_ip_prefix:t.cidr.ip,remote_group_id:t.sgsId};return"icmp"==t.protocol.model&&(e.ethertype=t.ethertype.model),"tcp"!=t.protocol.model&&"unp"!=t.protocol.model||(e.port_range_min=t.port_range.min,e.port_range_max=t.port_range.max),this.form.data=e,console.log(this.form),console.log(this),this.$refs.secRules.validate()},resetFileds:function(){},replaceNum:function(t){var e=window.event?t.keyCode:t.which;if(!window.event){if([8,9,110,37,39,0].includes(e))return}if(46==e){var a=t.target.parentElement.nextElementSibling?t.target.parentElement.nextElementSibling.nextElementSibling.firstElementChild:"";a&&a.focus(),a&&a.setSelectionRange(0,3)}e>=48&&e<=57||t.preventDefault()},getSecList:function(){var t=this;if(!this.getFirst){this.sgsLoading=!0,Fe({page:1,limit:100}).then(function(e){var a=e.data.results;t.getFirst=!0,t.sgsLoading=!1,t.secRules.sgsList=a,console.log(t.sgsList)}).catch(function(e){t.sgsLoading=!1})}}},mounted:function(){}},Io={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"sec-addrules"},[a("el-form",{ref:"secRules",attrs:{"label-width":"80px",size:"mini",model:t.secRules,rules:t.rules}},[a("el-form-item",{attrs:{label:"方向 :",prop:"direction"}},t._l(t.secRules.direction.option,function(e){return a("el-radio",{key:e.value,attrs:{size:"mini",label:e.value},model:{value:t.secRules.direction.model,callback:function(e){t.$set(t.secRules.direction,"model",e)},expression:"secRules.direction.model"}},[t._v(t._s(e.label))])})),t._v(" "),a("el-form-item",{attrs:{label:"协议 :",prop:"protocol"}},[a("el-select",{attrs:{size:"mini"},on:{change:t.resetFileds},model:{value:t.secRules.protocol.model,callback:function(e){t.$set(t.secRules.protocol,"model",e)},expression:"secRules.protocol.model"}},t._l(t.secRules.protocol.option,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}))],1),t._v(" "),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:"icmp"==t.secRules.protocol.model,expression:"secRules.protocol.model =='icmp'"}],attrs:{label:"类型 :",prop:"ethertype"}},[a("el-select",{attrs:{size:"mini"},model:{value:t.secRules.ethertype.model,callback:function(e){t.$set(t.secRules.ethertype,"model",e)},expression:"secRules.ethertype.model"}},t._l(t.secRules.ethertype.option,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}))],1),t._v(" "),"tcp"==t.secRules.protocol.model||"udp"==t.secRules.protocol.model?a("el-form-item",{staticClass:"secrules-portrange",attrs:{label:"端口范围 :",prop:"port_range"}},[a("el-input",{attrs:{placeholder:t.secRules.port_range.content},model:{value:t.secRules.port_range.model,callback:function(e){t.$set(t.secRules.port_range,"model",e)},expression:"secRules.port_range.model"}})],1):t._e(),t._v(" "),a("el-form-item",{attrs:{label:"源地址 :",prop:"source"}},t._l(t.secRules.source.option,function(e){return a("el-radio",{key:e.value,attrs:{size:"mini",label:e.value},on:{change:t.getSecList},model:{value:t.secRules.source.model,callback:function(e){t.$set(t.secRules.source,"model",e)},expression:"secRules.source.model"}},[t._v(t._s(e.label))])})),t._v(" "),"sgs"==t.secRules.source.model?a("el-form-item",{attrs:{prop:"sgsId"}},[a("el-select",{attrs:{size:"mini",disabled:t.sgsLoading},model:{value:t.secRules.sgsId,callback:function(e){t.$set(t.secRules,"sgsId",e)},expression:"secRules.sgsId"}},t._l(t.secRules.sgsList,function(t){return a("el-option",{key:t.value,attrs:{label:t.name,value:t.id}})})),t._v(" "),t.sgsLoading?a("i",{staticClass:"el-icon-loading"}):t._e()],1):t._e(),t._v(" "),"ip"==t.secRules.source.model?a("el-form-item",{attrs:{prop:"cidr"}},[a("ConsoleIp",{attrs:{cidr:t.secRules.cidr,toolTip:t.toolTip}})],1):t._e()],1)],1)},staticRenderFns:[]};var So=a("VU/8")(To,Io,!1,function(t){a("+1Qe"),a("WY4m")},"data-v-243804ed",null).exports,Eo={components:{RegionList:me,ConsoleSearch:ge,ConsoleTable:Te},data:function(){var t=this;return{name:"安全组",loading:!1,regionData:[],buttonText:[{label:"创建安全组",id:"createSec",fun:function(){return t.createSec()}}],PublicOperation:[{value:u.common.delete,disable:!1,fun:function(e){t.deleteSec(e)}}],searchModel:{optionsValue:"",nameOptions:[{value:"name",label:u.common.name},{value:"id",label:u.common.ID}],fun:function(e){return t.search(e)}},changeTableData:[],filter:{page:1,limit:10,id:"",name:"",visibility:1},secList:[],Pagination:{pagingData:[10,20,50],total:0,show:!1},options:{tableOptions:[{prop:"name",label:u.vpc.secName,width:"135px",temp:!0,detail:!0,path:"/vpc/sec/secDetail"},{prop:"id",label:u.common.ID},{prop:"ecms",label:u.vpc.connectEcm},{prop:"created_at",label:u.common.createAt},{prop:"description",label:u.vpc.displaytext}]}}},methods:{changeRegion:function(){Ct.cancle("CancelToken"),this.getSecList(),this.getRegionNums()},refresh:function(){this.filter.name="",this.filter.id="",this.getSecList(),this.getRegionNums()},create:function(t){t()},handleClick:function(t,e){t(e)},search:function(t){this.filter[t.name]=t.value,this.getSecList()},createSec:function(){window.open("/#/vpc/sec/secCreate")},deleteSec:function(t){var e=this,a={data:{title:"删除安全组",actionTip:["确认删除安全组"+t.name+"吗?"],warn:!0}};this.$alertDialog(a).then(function(a){var i={firewall_uuid:[]};i.firewall_uuid.push(t.id),e.$message({type:"info",message:"正在删除安全组，请稍后……"}),Ae(i).then(function(t){e.$message({type:"success",message:"删除成功！"}),e.refresh()}).catch(function(t){console.log(t)})})},editSec:function(t){var e=this,a={data:{title:"修改安全组",rowData:t,data:this.secList,desc:!0},view:Tn,form:{}};this.$alertDialog(a).then(function(a){var i={name:a.name,description:a.desc};e.$message({type:"info",message:"正在修改安全组，请稍后……"}),Me(t.id,i).then(function(t){console.log(t),e.$message({type:"success",message:"修改成功！"}),e.refresh()}).catch(function(t){console.log(t)})})},aciton:function(t,e){var a=this;console.log(t,e);var i=this.changeTableData.filter(function(t){return!t.default}),n=this.changeTableData.filter(function(t){return t.default}),s=[{prop:"name",label:u.common.name},{prop:"description",label:"描述"},{prop:"ecms",label:"相关云服务器"}],o={data:{title:"删除安全组",type:"warn",actionTip:["确认删下安全组吗?","删除安全组，云服务器将不受此安全组规则的保护。"],data:[i,n],option:s}};this.$alertDialog(o).then(function(t){var e={firewall_uuid:[]};i.map(function(t){e.firewall_uuid.push(t.id)}),a.$message({type:"info",message:"正在删除安全组，请稍后……"}),console.log(e)})},addRules:function(t,e){var a=this;console.log(t);var i={data:{title:"增加规则",fast:!1},view:So,ref:"addRest"};e&&(i.fast=!0,i.data.title="快速增加规则"),this.$alertDialog(i).then(function(e){a.$message({type:"info",message:"正在增加规则，请稍后……"});var i=e.data;i.security_group_id=t.id})},changeTable:function(t){this.changeTableData=t,t.filter(function(t){return!t.default}).length?this.PublicOperation.map(function(t){t.disable=!0}):this.PublicOperation.map(function(t){t.disable=!1})},addOperation:function(t){var e=this,a=["deleteSec","editSec"],i=[{value:"快速添加规则",fun:function(t){return e.addRules(t,!0)}},{value:"添加规则",fun:function(t){return e.addRules(t)}},{value:"修改",id:"editSec",fun:function(t){return e.editSec(t)}},{value:"删除",id:"deleteSec",fun:function(t){return e.deleteSec(t)}}];i.map(function(e){t.default&&a.includes(e.id)&&(e.disabled=!0)&&(e.title="默认安全组不允许修改删除")}),this.$set(t,"operation",i)},filterSec:function(t){var e=this;t.map(function(t){"default"==t.name&&(t.name="默认安全组")&&(t.default=!0),e.addOperation(t)})},getSecList:function(){var t=this,e=this.filter;this.loading=!0,Fe(e).then(function(e){var a=e.data.results,i=e.data.total_count;t.Pagination.total=i,i>t.Pagination.pagingData[0]&&(t.Pagination.show=!0),t.filterSec(a),t.secList=a,t.loading=!1}).catch(function(e){t.loading=!1,console.log(e)})},getRegionNums:function(){var t=this;Vt({resource:"firewall",regionid:F()}).then(function(e){var a=e.data.results[0].FIREWALL;console.log(a),a&&a.detail&&(t.regionData=a.detail)})},pagingChange:function(t,e){"num"==t?this.filter.limit=e:"page"==t&&(this.filter.page=e),this.loading=!0,this.refresh()}},computed:{},mounted:function(){this.changeRegion()}},Oo={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"seclist"},[e("RegionList",{attrs:{name:this.name,buttonText:this.buttonText,regionData:this.regionData,type:"os"},on:{create:this.create,changeRegion:this.changeRegion}}),this._v(" "),e("div",{staticClass:"seclist-quota"},[this._v("\n\t\t您可以创建99个安全组，8888个安全组规则\n\t")]),this._v(" "),e("div",{staticClass:"seclist-top"},[e("ConsoleSearch",{attrs:{optionsValue:this.searchModel.optionsValue,statusOnOff:!1,PublicOperation:this.PublicOperation,disableData:this.changeTableData,NameOptions:this.searchModel.nameOptions},on:{searchEvent:this.searchModel.fun,PublicOperEvent:this.aciton,refreshEvent:this.refresh}})],1),this._v(" "),e("div",{staticClass:"seclist-table"},[e("ConsoleTable",{attrs:{checkBox:!0,operationOrNot:!0,selectOrNot:!0,tableData:this.secList,tableOptions:this.options.tableOptions,dragable:!0,OperationWidth:250,loading:this.loading,Pagination:this.Pagination},on:{changeTable:this.changeTable,buttonClick:this.handleClick,pagingEvent:this.pagingChange}})],1)],1)},staticRenderFns:[]};var Fo=a("VU/8")(Eo,Oo,!1,function(t){a("8Xd6")},"data-v-18e7408c",null).exports,Lo={components:{DetailBtn:Pa,ConsoleTable:Te},props:{secDetail:[Object]},data:function(){var t=this;return{btnMsg:[{value:"添加规则",fun:function(){return t.addRules()}},{value:"快速添加规则",fun:function(){return t.addRules(!0)}}],options:[{prop:"directionTxt",label:"方向"},{prop:"ethertype",label:"类型"},{prop:"protocolTxt",label:"协议"},{prop:"portRange",label:"端口范围/ICMP类型"},{prop:"remoteIp",label:"远端"}],icmpPortList:[{name:"Any",fromPort:-1,toPort:-1},{name:"Echo",fromPort:8,toPort:0},{name:"Echo reply",fromPort:0,toPort:0},{name:"Fragment need DF set",fromPort:3,toPort:4},{name:"Host redirect",fromPort:5,toPort:1},{name:"Host TOS redirect",fromPort:5,toPort:3},{name:"Host unreachable",fromPort:3,toPort:1},{name:"Information reply",fromPort:16,toPort:0},{name:"Information request",fromPort:15,toPort:0},{name:"Net redirect",fromPort:5,toPort:0},{name:"Net TOS redirect",fromPort:5,toPort:2},{name:"Net unreachable",fromPort:3,toPort:0},{name:"Parameter problem",fromPort:12,toPort:0},{name:"Port unreachable",fromPort:3,toPort:3},{name:"Protocol unreachable",fromPort:3,toPort:2},{name:"Reassembly timeout",fromPort:11,toPort:1},{name:"Source quench",fromPort:4,toPort:0},{name:"Source route failed",fromPort:3,toPort:5},{name:"Timestamp reply",fromPort:14,toPort:0},{name:"Timestamp request",fromPort:13,toPort:0},{name:"TTL exceeded",fromPort:11,toPort:0}]}},methods:{handleClick:function(t,e){t(e)},addRules:function(t){var e=this,a={data:{title:"增加规则",fast:!1},view:So};t&&(a.fast=!0,a.data.title="快速增加规则"),this.$alertDialog(a).then(function(t){e.$message({type:"info",message:"正在增加规则，请稍后……"});var a=t.data;a.security_group_id=e.secDetail.id,Ve(a).then(function(t){console.log(t),e.$message({type:"success",message:"规则增加成功！"}),e.$emit("refresh")}).catch(function(t){console.log(t)})})},filterRules:function(t){this.addOperation(t),t.protocolTxt=null===t.protocol?"Any":(t.protocol+"").toUpperCase(),t.portRange=this.getPortal(t),t.remoteIp=this.getPortRange(t)},getPortRange:function(t){return t.remote_ip_prefix||this.groupMap[t.remote_group_id]&&this.groupMap[t.remote_group_id]+" ("+t.remote_group_id+")"||t.remote_group_id||"0.0.0.0/0"},getPortal:function(t){var e,a,i,n=t.protocol;return n?(e=t.port_range_min,a=t.port_range_max,"icmp"===n?void 0===e&&void 0===a?"Any":0===e&&0===a?"Echo reply":a===e?this.port2type[e+"-"+e]:this.port2type[e+"-"+a]:void 0!==(i=null===a||a===e?e:e+"-"+a)?i:"--"):"Any"},deleteSec:function(t){var e=this;this.$alertDialog({data:{title:"删除规则",actionTip:["删除规则可能影响您云服务器的使用，确认要删除该规则吗？"],warn:!0}}).then(function(a){e.$message({type:"info",message:"正在删除规则，请稍后……"}),Be(t.id).then(function(t){e.$message({type:"success",message:"规则删除成功！"}),e.$emit("refresh")}).catch(function(t){console.log(t)})})},addOperation:function(t){var e=this,a=[{value:"删除",fun:function(t){return e.deleteSec(t)}}];this.$set(t,"operation",a)}},computed:{sec:function(){var t=this,e={rules:[],EgressNum:"--",IngressNum:"--"};return this.secDetail&&(e.rules=this.secDetail.security_group_rules||[],e.EgressNum=e.rules.length&&e.rules.filter(function(e){if(t.filterRules(e),"egress"==e.direction)return e.directionTxt="出方向",!0}).length,e.IngressNum=e.rules.length&&e.rules.filter(function(t){if("ingress"==t.direction)return t.directionTxt="入方向",!0}).length),e},port2type:function(){var t=this.icmpPortList,e={};return this._.each(t,function(t){e[t.fromPort+"-"+t.toPort]=t.name}),e},groupMap:function(){var t={};return Fe({page:1,limit:100}).then(function(e){e.data.results.map(function(e){t[e.id]=e.name})}),t}},mounted:function(){}},Po={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("el-row",{staticClass:"sec-top"},[e("el-col",{attrs:{span:20}},[e("span",{staticClass:"top-rules"},[e("svg-icon",{staticClass:"top-svg",attrs:{"icon-class":"Egress"}}),this._v("\n\t\t\t\t出方向规则：\n\t\t\t\t"),e("span",{staticClass:"top-rules-num"},[this._v("\n\t\t\t\t\t"+this._s(this.sec.EgressNum||0)+"\n\t\t\t\t")])],1),this._v(" "),e("span",{staticClass:"top-rules"},[e("svg-icon",{staticClass:"top-svg",attrs:{"icon-class":"Ingress"}}),this._v("\n\t\t\t\t入方向规则：\n\t\t\t\t"),e("span",{staticClass:"top-rules-num"},[this._v("\n\t\t\t\t\t"+this._s(this.sec.IngressNum||0)+"\n\t\t\t\t")])],1)]),this._v(" "),e("el-col",{attrs:{span:4}},[e("detail-btn",{attrs:{btnMsg:this.btnMsg},on:{deatilBtnClick:this.handleClick}})],1)],1),this._v(" "),e("el-row",[e("ConsoleTable",{attrs:{tableData:this.sec.rules,tableOptions:this.options,operationOrNot:!0},on:{buttonClick:this.handleClick}})],1)],1)},staticRenderFns:[]};var No={components:{ConsoleDetail:Ia,DetailTab:Mi,secDetailRules:a("VU/8")(Lo,Po,!1,function(t){a("D0NT")},"data-v-60051e15",null).exports},methods:{getSecDetail:function(){var t,e,a=this,i=this.$route.params.secId;(t=i,e={id:t,regionid:F()},Ct({url:"console/network/securitygroups/",method:"get",params:e})).then(function(t){var e=t.data.results[0];a.filterSec(e),a.detailLabel=e.name,a.secDetail=e}).catch(function(t){console.log(t)})},filterSec:function(t){this.detailList.map(function(e){e.intro="default"==t[e.name]?"默认安全组":t[e.name]})},handleClick:function(){this.getSecDetail()}},data:function(){return{detailLabel:"安全组",detailImg:xa.a,secDetail:{},detailList:[{name:"name",label:"名称",intro:"--"},{name:"id",label:"ID",intro:"--"},{name:"description",label:"描述",intro:"--"}],tabOption:[{label:"规则",name:"secDetailRules",view:""}]}},mounted:function(){this.getSecDetail()}},$o={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("console-detail",{attrs:{detailList:this.detailList,detail_image:this.detailImg,detail_label:this.detailLabel}}),this._v(" "),e("detail-tab",{attrs:{tabOption:this.tabOption}},[e("div",{attrs:{slot:"secDetailRules"},slot:"secDetailRules"},[e("secDetailRules",{tag:"component",attrs:{secDetail:this.secDetail},on:{refresh:this.handleClick}})],1)])],1)},staticRenderFns:[]};var Ro=a("VU/8")(No,$o,!1,function(t){a("GgcS")},null,null).exports,zo={components:{ConsoleSuccess:bi},data:function(){return{successTip:{system_type:"安全组",returnUrl:"/vpc/sec/secList",system_name:""},success:!1,sec:{ruleType:"default",ruleOption:[{label:"使用默认规则",value:"default"}],sec_name:"",desc:""},rules:{sec_name:[{required:!0,message:"请填写安全组名称",trigger:"blur,change"}]}}},methods:{validateForm:function(){return this.$refs.secForm.validate()},createSec:function(){var t=this;this.validateForm().then(function(e){var a={name:t.sec.sec_name,desc:t.sec.desc},i=t.$loading({lock:!0,text:"正在下发命令，请稍后……",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});ze(a).then(function(e){i.close(),t.success=!0,t.successTip.system_name=t.sec.sec_name}).catch(function(t){console.log(t),i.close()})}).catch(function(t){console.log(t)})},cancel:function(){this.$router.push({path:"/vpc/sec/secList"})}},computed:{},mounted:function(){this.sec.sec_name="sgs-"+xt()}},Ao={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"create-sec"},[t.success?t._e():a("div",{staticClass:"createfirst"},[a("el-row",{staticClass:"create-title"},[a("span",[t._v("创建安全组")])]),t._v(" "),a("el-row",{staticClass:"create-form"},[a("el-form",{ref:"secForm",staticClass:"secForm",attrs:{model:t.sec,"label-width":"80px",size:"mini",rules:t.rules,"label-position":"left"}},[a("el-form-item",{staticClass:"secForm-item",attrs:{label:"名称 :",prop:"sec_name"}},[a("el-input",{model:{value:t.sec.sec_name,callback:function(e){t.$set(t.sec,"sec_name",e)},expression:"sec.sec_name"}})],1),t._v(" "),a("el-form-item",{staticClass:"content-required",attrs:{label:"描述 :"}},[a("el-input",{attrs:{type:"textarea",rows:4,resize:"none"},model:{value:t.sec.desc,callback:function(e){t.$set(t.sec,"desc",e)},expression:"sec.desc"}})],1)],1)],1),t._v(" "),a("el-row",{staticClass:"create-btn"},[a("el-button",{attrs:{size:"medium"},on:{click:t.cancel}},[t._v("取消")]),t._v(" "),a("el-button",{staticClass:"iscreate",attrs:{size:"medium"},on:{click:t.createSec}},[t._v("立即创建")])],1)],1),t._v(" "),t.success?a("div",{staticClass:"createSecond submit_title"},[a("ConsoleSuccess",{attrs:{system_type:t.successTip.system_type,return_url:t.successTip.returnUrl,system_name:t.successTip.system_name,params:t.successTip.params,orderWay:!0}})],1):t._e()])},staticRenderFns:[]};var Mo=a("VU/8")(zo,Ao,!1,function(t){a("3ZCl"),a("TXcT")},"data-v-f1325be8",null).exports,Vo={path:"sec",name:"sec",component:fo.default,redirect:"sec/secList",children:[{path:"secList",name:"secList",component:Fo},{path:"secDetail/:secId",name:"secDetail",component:Ro,meta:{dependOn:"vpcSecSub"}},{path:"secCreate",name:"secCreate",component:Mo,meta:{aisdeHide:!0}}]},Bo={props:{optionsValue:[String],options:[Array],PublicOperation:[Array],statusOnOff:[Boolean],btnClose:[Boolean],disableData:[Array,Object],ByVpc:[Boolean]},data:function(){return{statusValue:this.optionsValue,nameOptions:[{value:"name",label:u.common.name},{value:"id",label:u.common.ID}],nameValue:"name",searchValue:"",Numvalue:0}},methods:{statusChange:function(t){var e={};e.vpcid=this.statusValue,this.$emit("selectChange",e)},clears:function(t){t||(console.log("清空"),this.searchValue="",this.$emit("clear"))},nameChange:function(t){console.log(t)},search:function(){var t={};t.subnetName=this.searchValue,this.$emit("searchEvent",t)},refresh:function(){this.statusValue="",this.searchValue="",this.$emit("refreshEvent")},btnClick:function(t,e,a){console.log(21212),this.Numvalue=e,this.$emit("PublicOperEvent",t,a)}},computed:{disableCom:function(){return this.disableData.length}},watch:{options:function(t,e){this.statusValue=""}}},jo={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-row",[a("el-col",{attrs:{span:24}},[a("div",{staticClass:"searchBoxSubnet"},[t.ByVpc?a("el-select",{attrs:{placeholder:"所属虚拟私有云"},on:{change:function(e){t.statusChange(t.statusValue)}},model:{value:t.statusValue,callback:function(e){t.statusValue=e},expression:"statusValue"}},t._l(t.options,function(t,e){return a("el-option",{key:t.index,attrs:{label:t.label,value:t.value}})})):t._e(),t._v(" "),a("el-input",{attrs:{placeholder:"子网名称",clearable:!0},on:{change:t.clears},model:{value:t.searchValue,callback:function(e){t.searchValue="string"==typeof e?e.trim():e},expression:"searchValue"}},[a("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:t.search},slot:"append"})],1),t._v(" "),a("el-button",{staticStyle:{"vertical-align":"top",padding:"8px 10px","font-size":"16px"},attrs:{icon:"el-icon-refresh"},on:{click:t.refresh}})],1)])],1)],1)},staticRenderFns:[]};var qo=a("VU/8")(Bo,jo,!1,function(t){a("W9c9"),a("FZ0D")},"data-v-7d325678",null).exports,Uo={props:{tableData:[Array],netOperation:[Array],deleteNet:[Function],edit:[Function],loading:[Boolean],Pagination:[Array,Object]},data:function(){return{currentPage:1}},methods:{handleSizeChange:function(t){console.log(t),this.$emit("pagingEvent","num",t)},handleCurrentChange:function(t){console.log(t),this.$emit("pagingEvent","page",t)},click:function(t,e){console.log(t),this.$emit("buttonClick",t,e)}},computed:{regionType:function(){return this.$store.getters.regionType}}},Ho={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"subnet-main"},[t._l(t.tableData,function(e,i){return t.tableData.length>0?a("div",{staticClass:"subnet-content"},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:3}},[a("div",{staticClass:"subnet-title"},[a("svg-icon",{staticClass:"subnet-icon",attrs:{"icon-class":"subnet"}}),t._v(" "),a("div",{staticClass:"subnet-line"})],1)]),t._v(" "),a("el-col",{attrs:{span:17}},[a("div",{key:i,staticClass:"subnet-info",attrs:{"label-width":"120px",size:"small"}},[a("el-row",{attrs:{gutter:20}},[a("h4",[t._v(t._s(e.name)+"("+t._s(e.id)+")")])]),t._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:20}},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:8}},[a("div",{staticClass:"row-sub"},[a("div",{staticClass:"term"},[a("span",[t._v("状态：")]),a("span",[t._v(t._s(e.state||e.status||"--"))])]),t._v(" "),a("div",{staticClass:"term"},[a("span",[t._v("所属VPC：")]),a("span",[t._v(t._s(e.vpcname?e.vpcname:"--"))])]),t._v(" "),a("div",{staticClass:"term desc"},[a("span",[t._v("描述：")]),a("span",{staticClass:"desc",attrs:{title:e.displaytext}},[t._v(t._s(e.displaytext?e.displaytext:"--"))])])])]),t._v(" "),a("el-col",{attrs:{span:8}},[a("div",{staticClass:"row-sub"},[a("div",{staticClass:"term"},[a("span",[t._v("子网：")]),a("span",[t._v(t._s(e.cidr))])]),t._v(" "),a("div",{staticClass:"term"},[a("span",[t._v("网关：")]),a("span",[t._v(t._s(e.gateway))])])])]),t._v(" "),a("el-col",{attrs:{span:8}},[a("div",{staticClass:"row-sub"},[a("div",{staticClass:"term"},[a("span",[t._v("子网类型：")]),a("span",[t._v(t._s(e.is_lb?"负载均衡":"普通子网"))])]),t._v(" "),"cs"==t.regionType?a("div",{staticClass:"term"},[a("span",[t._v("acl名称：")]),a("span",[t._v(t._s(e.aclname?e.aclname:"--"))])]):t._e()])])],1)],1)],1)],1)]),t._v(" "),a("el-col",{attrs:{span:4}},[a("div",{staticClass:"row-btn"},[a("span",{staticClass:"btn"},[a("el-button",{attrs:{type:"primary",icon:"el-icon-edit",disabled:e.disabled},on:{click:function(a){t.click(t.edit,e)}}})],1),t._v(" "),a("span",{staticClass:"btn"},[a("el-button",{attrs:{type:"primary",icon:"el-icon-delete",disabled:e.disabled},on:{click:function(a){t.click(t.deleteNet,e)}}})],1)])])],1)],1):t._e()}),t._v(" "),t.Pagination&&t.Pagination.show?a("el-pagination",{attrs:{"current-page":t.currentPage,"page-sizes":t.Pagination.pagingData,"page-size":t.Pagination.pagingData[0],layout:"total, sizes, prev, pager, next, jumper",total:t.Pagination.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}}):t._e(),t._v(" "),0===t.tableData.length?a("div",{staticStyle:{"text-align":"center","line-height":"100px"}},[t._v("暂无数据")]):t._e()],2)},staticRenderFns:[]};var Wo,Go=a("VU/8")(Uo,Ho,!1,function(t){a("Knz7"),a("LmNG")},"data-v-c3fa7e9e",null).exports,Qo={props:{name:[String],buttonText:[String]},components:{RegionList:me,ConsoleSubnetFilter:qo,SubnetList:Go},data:function(){return{totalCount:0,loaded:!1,subdetailRefresh:!1,jobid:[],regionData:[],Pagination:{pagingData:[10,20,50],total:0,show:!1},filter:{status:"",limit:10,page:1,name:"",id:"",vpcid:""},options:[{value:"",label:"全部VPC"}],optionsValue:"",tableData:[],netOperation:[{label:u.vpc.name,value:"name"},{label:u.vpc.state,value:"state"},{label:u.vpc.cidr,value:"cidr"},{label:u.vpc.vpcname,value:"vpcname"},{label:u.vpc.gateway,value:"gateway"}]}},methods:(Wo={selectChange:function(t){this.filter.vpcid=t.vpcid,this.getNetList()},search:function(t){console.log(t),this.filter.name="",this.filter.keyword=t.subnetName,this.getNetList()},refresh:function(){this.filter.status="",this.filter.vpcid="",this.GetRegionNums(),this.getNetList()},telnet:function(){console.log("telnet")},handleSelectionChange:function(t){this.multipleSelection=t},handleClick:function(){},autoRefresh:function(){var t=this;if(!this.subdetailRefresh){this.jobid&&this.jobid.map(function(e,a){console.log(e),e.fjobid&&t.getJobDetail(e.fjobid,a,function(){e.fjob=!0}),t.getJobDetail(e.jobid,a,function(){e.job=!0})})}},getJobDetail:function(t,e,a){var i=this,n=this,s=void 0;Ie(t).then(function(t){console.log(a);var o=t.data.results[0];if(1==o.jobstatus){if(a(),n.jobid[e].fjobid){if(n.jobid[e].fjob&&n.jobid[e].job){n.filter.keyword=n.jobid[e].name;var r=void 0;Oe(n.filter).then(function(t){n.filter.keyword="",r=t.data.results[0],n.setData(r),n.tableData.map(function(t,e){if(t.id==r.id)return n.$set(n.tableData,e,r),console.log(e,r),!0})}).catch(function(t){console.log(t)})}}else if(n.jobid[e].job){n.filter.keyword=n.jobid[e].name;var l=void 0;Oe(n.filter).then(function(t){n.filter.keyword="",l=t.data.results[0],n.setData(l),n.tableData.map(function(t,e){if(t.id==l.id)return n.$set(n.tableData,e,l),console.log(e,l),!0})}).catch(function(t){console.log(t)})}}else 2==o.jobstatus?(clearTimeout(s),i.refresh()):s=setTimeout(function(){n.getJobDetail(o.jobid,e,a)},5e3)}).catch(function(t){i.subdetailRefresh=!0,setTimeout(function(){i.refresh()},5e3)})},buttonClick:function(t,e){t(e)},create:function(){var t=this,e=no,a={};a.type="create",a.title="创建子网",a.regionId=this.regionId;F();var i={data:a,view:e,form:{vpc:!1,aclid:"",desc:"",sub_name:"",sub_cidr:"",gateway_ip:"",vpcid:"",zoneid:P(),quotas:this.$store.state.user.user.quotas}};this.$alertDialog(i).then(function(e){var a={aclid:e.aclid,desc:e.desc,sub_name:e.sub_name,sub_cidr:e.sub_cidr,gateway_ip:e.gateway_ip,vpcid:e.vpcid,is_lb:e.subType,zoneid:e.zoneid};"acl"!=e.sub_cidr&&$e(a).then(function(e){var a=e.data.results[0].network;t.tableData.push(a),t.$message({message:"创建子网成功",type:"success"}),t.refresh()}).catch(function(t){console.log(t)})})}},bt()(Wo,"buttonClick",function(t,e){t(e)}),bt()(Wo,"deleteNet",function(t){var e=this;if(!t.deleter){var a=this.$message,i=no,n={};n.type="delete",n.title="删除子网";var s={data:n,view:i,form:{name:t.name}},o=t.id,r=t.vpcid;this.$alertDialog(s).then(function(i){t.deleter=!0,e.tableData.map(function(a,i){if(a.id==t.id)return e.$set(e.tableData,i,t),console.log(i,t),!0}),Pe(o,r).then(function(t){a("删除子网成功"),console.log(t),e.refresh()}).catch(function(t){e.refresh()})})}}),bt()(Wo,"editNet",function(t){var e=this,a=this.$message,i=(this.refresh,no),n={};console.log(t),n.type="edit",n.title="修改子网";var s={data:n,view:i,form:{name:t.name,aclName:t.aclname,aclId:t.aclid,vpcid:t.vpcid,desc:t.displaytext,edit:!0}},o=t.id,r=this;this.$alertDialog(s).then(function(i){if(console.log(i),i.name!=t.name||i.aclId!=t.aclid||i.desc!=t.displaytext){var n=void 0;n=i.aclId==t.aclid?{name:i.name,desc:i.desc}:{name:i.name,desc:i.desc,firewall_uuid:i.aclId},Ne(o,n).then(function(t){a("修改子网成功"),e.subdetailRefresh=!1,r.jobid.push({id:o,jobid:t.data.results[0].jobid,fjob:!1,job:!1,name:n.name,fjobid:t.data.results[0].fjobid?t.data.results[0].fjobid:""}),r.autoRefresh(r.jobid)}).catch(function(t){console.log(t)})}})}),bt()(Wo,"clear",function(){this.filter.keyword="",this.filter.name="",this.filter.id=""}),bt()(Wo,"changeRegion",function(t){Ct.cancle("CancelToken"),this.regionId=t,this.GetRegionNums(),this.options=[{value:"",label:"全部VPC"}],this.subdetailRefresh=!0,this.getVpcList(),this.getNetList()}),bt()(Wo,"getRegion",function(){var t=void 0;if(F())clearTimeout(t),this.changeRegion();else{var e=this;t=setTimeout(function(){e.getRegion()},300)}}),bt()(Wo,"getVpcList",function(t){var e=this;Se({limit:10,page:1,name:"",id:"",vpcid:""}).then(function(t){var a=t.data.results;e.filtersearch(a)}).catch(function(t){e.options=[{value:"",label:"全部VPC"}],console.log(t)})}),bt()(Wo,"getNetList",function(){var t=this,e=this.filter;this.loaded=!0,Oe(e).then(function(e){t.loaded=!1;var a=e.data.results;t.tableData=t.filterData(a);var i=e.data.total_count;t.totalCount=i,t.Pagination.total=t.totalCount,i>t.Pagination.pagingData[0]&&(t.Pagination.show=!0)}).catch(function(e){"CancelToken"==e.message||(t.loaded=!1),console.log(e)})}),bt()(Wo,"filtersearch",function(t){var e=this;t.filter(function(t){var a={},i=t.fake_vpc&&1==t.fake_vpc;return a.id=t.id,a.value=t.id,t.name=i&&"fake_vpc"==t.name?"默认网络":t.name,a.label=t.name,e.options.push(a),!0})}),bt()(Wo,"filterData",function(t){var e=[],a=this.filter,i=this.changeData,n=this;return t=t.filter(function(t,a){return t.fake_subnet&&1==t.fake_subnet&&(t.disabled=!0)&&(t.vpcname="fake_vpc"==t.vpcname?"默认网络":t.vpcname),"cs"==n.regionType&&("Allocated"===t.state?t.state="已分配":"Implementing"===t.state?(e.push(t.name),t.state=t.state?_e(t.state):"--"):t.state=t.state?_e(t.state):"--"),"os"==n.regionType&&(t.gateway=t.gateway_ip,t.status="ACTIVE"==t.status&&"正常",t.displaytext=t.description),t.deteler=!1,!0}),e.length>0&&e.map(function(t){var e=void 0;e=setInterval(function(){var n=this;a.name=t,Oe(a).then(function(t){var a=t.data.results[0];"Implementing"!==a.state&&(clearInterval(e),i(a))}).catch(function(t){"CancelToken"==t.message||(n.loaded=!1),console.log(t)})},9e3)}),t}),bt()(Wo,"changeData",function(t){var e=this;this.tableData.map(function(a,i){a.id==t.id&&(t.state=t.state?_e(t.state):"--",e.$set(e.tableData,i,t))})}),bt()(Wo,"setData",function(t){return t.fake_subnet&&1==t.fake_subnet&&(t.disabled=!0)&&(t.vpcname="fake_vpc"==t.vpcname?"默认网络":t.vpcname),"Allocated"===t.state?t.state="已分配":t.state=t.state?_e(t.state):"--",t.deteler=!1,t}),bt()(Wo,"pagingChange",function(t,e){"num"==t?this.filter.limit=e:"page"==t&&(this.filter.page=e),this.loaded=!1,this.getNetList()}),bt()(Wo,"queryQuotas",function(){var t=this;He().then(function(e){console.log(e.data.results);var a=e.data.results[0];t.subTotalCount=a.networklimit,t.subExistCount=a.networktotal,t.subRemainCount=a.networkavailable}).catch(function(t){console.log(t)})}),bt()(Wo,"GetRegionNums",function(){var t=this;Vt({resource:"subnet",regionid:F()}).then(function(e){var a=e.data.results[0].SUBNET;console.log(a),a&&a.detail&&(t.regionData=a.detail)})}),Wo),computed:{changeRowSty:function(t,e){return{background:"#f0f2f7"}},changethSty:function(t,e){return{background:"#f0f2f7",color:"#333333","font-size":"12px","font-weight":"600"}},regionType:function(){return this.$store.getters.regionType}},mounted:function(){this.getRegion()},beforeDestroy:function(){this.subdetailRefresh=!0}},Zo={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"main"},[e("RegionList",{attrs:{name:this.name,regionData:this.regionData,buttonText:this.buttonText},on:{create:this.create,changeRegion:this.changeRegion}}),this._v(" "),e("div",{staticClass:"content"},[e("div",{staticClass:"content_top"},[e("div",{staticClass:"subnet_mark"}),this._v(" "),e("ConsoleSubnetFilter",{staticClass:"subnet_search",attrs:{options:this.options,ByVpc:!0,optionsValue:this.optionsValue},on:{clear:this.clear,selectChange:this.selectChange,searchEvent:this.search,refreshEvent:this.refresh}})],1),this._v(" "),e("div",{attrs:{id:"subList"}},[this.loaded?this._e():e("SubnetList",{attrs:{tableData:this.tableData,netOperation:this.netOperation,deleteNet:this.deleteNet,edit:this.editNet,Pagination:this.Pagination},on:{buttonClick:this.buttonClick,pagingEvent:this.pagingChange}}),this._v(" "),this.loaded?e("el-table",{directives:[{name:"loading",rawName:"v-loading",value:this.loaded,expression:"loaded"}],staticStyle:{width:"100%"},attrs:{data:this.tableData}}):this._e()],1)])],1)},staticRenderFns:[]};var Jo=a("VU/8")(Qo,Zo,!1,function(t){a("Be//"),a("XRKd")},"data-v-715da34a",null).exports,Ko={path:"net",name:"net",component:fo.default,redirect:"net/netList",children:[{path:"netList",name:"netList",component:Jo,props:{name:u.vpc.subnet,buttonText:u.vpc.createSubnet}}]},Yo={props:{tableData:[Array,Object],tableOptions:[Array],detilOptions:[Array],OperationEvents:[Array],OperationdetailEvents:[Array],operationOrNot:[Boolean],operationdetailOrNot:[Boolean],checkBox:[Boolean],expand:[Boolean],loading:[Boolean],noEffect:[Boolean],noHead:[Boolean],expandTable:[Boolean],addRule:[Function],Pagination:[Array,Object]},data:function(){return{currentPage:1,Checked:!1}},methods:{expendDetail:function(t){this.Checked||(t.expendStatus=!t.expendStatus),this.Checked=!1,this.$emit("detailClick",t.id)},changeAcl:function(t){t.expendStatus=!t.expendStatus,this.Checked=!0,this.$refs.multipleTable.toggleRowExpansion(t,t.expendStatus)},handleSelection:function(t,e){e.id},handleSelectionChange:function(t){this.multipleSelection=t,this.$emit("changeTable",t)},handleSizeChange:function(t){console.log(t),this.$emit("pagingEvent","num",t)},handleCurrentChange:function(t){console.log(t),this.$emit("pagingEvent","page",t)},click:function(t,e){console.log(e),this.$emit("buttonClick",t,e)}},computed:{changeRowSty:function(t,e){return this.noHead?{background:"#f0f2f7",display:"none"}:{background:"#f0f2f7"}},changethSty:function(t,e){return{background:"#f0f2f7",color:"#333333","font-size":"12px","font-weight":"600"}}},mounted:function(){}},Xo={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"aclTable"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],ref:"multipleTable",staticClass:"out_table",staticStyle:{width:"100%"},attrs:{data:t.tableData,"tooltip-effect":"dark",border:!0,"header-row-style":t.changeRowSty,"header-cell-style":t.changethSty},on:{"cell-click":t.handleSelection,"selection-change":t.handleSelectionChange,"expand-change":t.expendDetail}},[t.expand?a("el-table-column",{attrs:{type:"expand",width:"55"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-form",{staticClass:"inner-table-expand"},[t.expandTable?a("el-form-item",[a("div",[a("div",{staticClass:"inner-table-ID"},[a("span",[t._v("ID : ")]),a("span",[t._v(t._s(e.row.id))]),t._v(" "),a("span",{staticStyle:{"margin-left":"40px"}},[t._v("子网名称："+t._s(e.row.netName?e.row.netName:"--"))]),t._v(" "),e.row.addButton?a("span",{staticClass:"addRule",on:{click:function(a){t.click(t.addRule,e.row)}}},[t._v("\n                    \t增加规则\n                  ")]):t._e()]),t._v(" "),a("p",{staticStyle:{"text-align":"left"}},[t._v("描述："+t._s(e.row.description?e.row.description:"--"))]),t._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],ref:"multipleTables",staticClass:"inner-table",staticStyle:{width:"100%"},attrs:{data:e.row.security_group_rules,"tooltip-effect":"dark",border:!0,"header-cell-style":t.changethSty},on:{"cell-click":t.handleSelection,"selection-change":t.handleSelectionChange}},[t._l(t.detilOptions,function(e,i){return e.temp?t._e():a("el-table-column",{key:i,attrs:{prop:e.prop,label:e.label,width:e.width,"show-overflow-tooltip":!0}})}),t._v(" "),t.operationdetailOrNot?a("el-table-column",{attrs:{label:"操作","min-width":160},scopedSlots:t._u([{key:"default",fn:function(e){return[t._l(e.row.OperationdetailEvents,function(i,n){return 0==n||1==n||t.OperationdetailEvents.length<=3&&2==n?a("el-button",{key:n,attrs:{type:"text",disabled:i.disabled},on:{click:function(a){t.click(i.fun,e.row)}}},[t._v(t._s(i.value))]):t._e()}),t._v(" "),t.OperationdetailEvents.length>3?a("el-dropdown",{attrs:{trigger:"click"}},[a("span",{staticClass:"el-dropdown-link",staticStyle:{color:"#66b1ff","margin-left":"10px",cursor:"pointer"}},[t._v("\n\t\t\t    \t\t\t更多\n\t\t\t  \t\t\t")]),t._v(" "),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},t._l(t.OperationdetailEvents,function(i,n){return 0!==n&&1!==n?a("el-dropdown-item",{key:n},[a("span",{staticStyle:{display:"block",width:"100%",height:"100%"},on:{click:function(a){t.click(i.fun,e.row)}}},[t._v(t._s(i.value))])]):t._e()}))],1):t._e()]}}])}):t._e()],2)],1)]):t._e()],1)]}}])}):t._e(),t._v(" "),t.checkBox?a("el-table-column",{attrs:{type:"selection",width:"55"}}):t._e(),t._v(" "),t._l(t.tableOptions,function(e,i){return e.temp?a("el-table-column",{key:i,attrs:{prop:e.prop,label:e.label,"show-overflow-tooltip":!0},scopedSlots:t._u([{key:"default",fn:function(i){return[e.detail?a("span",[a("span",{staticClass:"no-link-name",on:{click:function(e){t.changeAcl(i.row)}}},[t._v(t._s(i.row.name))])]):t._e(),t._v(" "),e.rule?a("span",["in"===e.direction?a("span",{staticClass:"icon"},[a("svg-icon",{attrs:{"icon-class":"Ingress"}}),t._v(" "),a("span",[t._v(t._s(i.row.describe_in))]),t._v(" "),a("span",{staticStyle:{"margin-left":"10px"}},[t._v(t._s(i.row.rule_in_num))])],1):t._e(),t._v(" "),"out"===e.direction?a("span",{staticClass:"icon"},[a("svg-icon",{attrs:{"icon-class":"Egress"}}),t._v(" "),a("span",[t._v(t._s(i.row.describe_out))]),t._v(" "),a("span",{staticStyle:{"margin-left":"10px"}},[t._v(t._s(i.row.rule_out_num))])],1):t._e(),t._v(" "),e.vpc?a("span",[a("span",[t._v(t._s(e.label))]),t._v(" "),a("span",{staticStyle:{"margin-left":"10px"}},[t._v(t._s(i.row.vpcname?i.row.vpcname:"--"))])]):t._e()]):t._e()]}}])}):t._e()}),t._v(" "),t._l(t.tableOptions,function(e,i){return e.temp?t._e():a("el-table-column",{key:i,attrs:{prop:e.prop,label:e.label,width:e.width,"show-overflow-tooltip":!0}})}),t._v(" "),t.operationOrNot?a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._l(e.row.aclOperation,function(i,n){return 0==n||1==n||e.row.operation.length<=3&&2==n?a("el-button",{key:n,attrs:{type:"text",disabled:i.disabled},on:{click:function(a){t.click(i.fun,e.row)}}},[t._v(t._s(i.value))]):t._e()}),t._v(" "),t.OperationEvents.length>3?a("el-dropdown",{attrs:{trigger:"click"}},[a("span",{staticClass:"el-dropdown-link",staticStyle:{color:"#66b1ff","margin-left":"10px",cursor:"pointer"}},[t._v("\n\t\t\t    \t\t\t更多\n\t\t\t  \t\t\t")]),t._v(" "),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},t._l(t.OperationEvents,function(i,n){return 0!==n&&1!==n?a("el-dropdown-item",{key:n},[a("span",{staticStyle:{display:"block",width:"100%",height:"100%"},on:{click:function(a){t.click(i.fun,e.row)}}},[t._v(t._s(i.value))])]):t._e()}))],1):t._e()]}}])}):t._e()],2),t._v(" "),t.Pagination&&t.Pagination.show?a("el-pagination",{attrs:{"current-page":t.currentPage,"page-sizes":t.Pagination.pagingData,"page-size":t.Pagination.pagingData[0],layout:"total, sizes, prev, pager, next, jumper",total:t.Pagination.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}}):t._e()],1)},staticRenderFns:[]};var tr=a("VU/8")(Yo,Xo,!1,function(t){a("MMy9")},null,null).exports,er={props:{name:[String],buttonText:[String]},components:{RegionList:me,ConsoleSearch:ge,ConsoleAclTable:tr},data:function(){var t=this;return{checkBox:!1,loading:!1,statusOnOff:!0,totalCount:0,Pagination:{pagingData:[10,20,50],total:0,show:!1},acllist:[],regionData:[],multipleSelection:[],filter:{status:"",limit:10,page:1,name:"",id:"",search:""},detilOptions:[{label:"方向",prop:"traffictype"},{label:"类型",prop:"action"},{label:"协议",prop:"protocol"},{label:"端口范围/ICMP类型",prop:"port"},{label:"CIDR",prop:"cidrlist"}],detilData:[{traffictype:"",type:"2",protal:"23",port:"223",romate:"45"}],options:[{value:"name",label:"name"}],optionsValue:u.common.allStatus,tableOptions:[{prop:"name",label:u.vpc.name,temp:!0,detail:!0},{prop:"Egress",label:u.vpc.Egress,direction:"out",temp:!0,rule:!0,describe:u.vpc.Egress,num:""},{prop:"Ingress",label:u.vpc.Ingress,direction:"in",describe:u.vpc.Ingress,temp:!0,rule:!0,num:""},{prop:"vpcname",label:u.vpc.vpcname,temp:!0,rule:!0,vpc:!0}],tabledetailOptions:[{prop:"name",label:u.vpc.name,temp:!0,detail:!0,noEffect:!0},{prop:"Ingress",label:u.vpc.Ingress,direction:"in",describe:u.vpc.Ingress,temp:!0,rule:!0,num:""},{prop:"Egress",label:u.vpc.Egress,direction:"out",temp:!0,rule:!0,describe:u.vpc.Egress,num:""}],aclOperation:[{value:u.vpc.delete,fun:function(e){return t.delete(e)}}],OperationdetailEvents:[{value:u.vpc.delete,fun:function(e){return t.deleteRule(e)}}]}},methods:{telnet:function(){console.log("telnet")},handleSelectionChange:function(t){this.multipleSelection=t},handleClick:function(){},buttonClick:function(t,e){t(e)},create:function(){var t=this,e=this.$message,a=Gs,i={};i.type="create",i.title="创建ACL",i.regionId=this.regionId;var n={data:i,view:a,form:{name:"",desc:"",vpcid:""}};this.$alertDialog(n).then(function(a){ze({desc:a.desc,name:a.name,network_uuid:a.vpcid}).then(function(a){a.data.results;e("ACL创建成功"),t.refresh()}).catch(function(t){console.log(t)})})},delete:function(t){var e=this,a=this.$message,i=Gs,n={};n.type="delete",n.title="删除ACL";var s={data:n,view:i,form:{name:t.name}},o=t.id;this.$alertDialog(s).then(function(t){var i,n;(i=o,n={regionid:F()},Ct({url:"console/network/securitygroups/"+i+"/",method:"DELETE",params:n})).then(function(t){"SUCCESS"==t.data.errcode?(a("ACL刪除成功"),e.refresh()):(a("ACL刪除失敗"),e.refresh())}).catch(function(t){e.refresh()})})},edit:function(t){var e=this.$message,a=this.refresh,i=Gs,n={};n.type="edit",n.title="修改ACL";var s={data:n,view:i,form:{name:t.name}},o=t.id;this.$alertDialog(s).then(function(t){var i={name:t.name,desc:t.name};Me(o,i).then(function(t){var i=t.data.results[0].jobid;Ie(i).then(function(t){var i=t.data.results[0].jobstatus;1==i?(clearInterval(n),e("ACL修改成功"),a()):2==i&&(clearInterval(n),e("ACL修改失败"))});var n=setInterval(function(){Ie(i).then(function(t){var i=t.data.results[0].jobstatus;1==i?(clearInterval(n),e("ACL修改成功"),a()):2==i&&(clearInterval(n),e("ACL修改失败"))})},5e3)}).catch(function(t){console.log(t)})})},addRule:function(t){var e=this.$message,a=Gs,i=this.refreshData,n={};this.refresh;n.type="createRule",n.title="增加ACL规则",n.regionId=this.regionId;var s={direction:"ingress",port_range_min:"33",ethertype:"IPv4",port_range_max:"33",remote_ip_prefix:"0.0.0.0/0",security_group_id:t.id,protocol:"tcp",action:""},o=t.id,r={data:n,view:a,form:s};this.$alertDialog(r).then(function(a){console.log(">>>>>"),console.log(a);Ve("icmp"==a.protocol?{direction:a.direction,port_range_min:a.port_range_min,remote_ip_prefix:a.remote_ip_prefix,ethertype:"IPv4",code:a.icmpcode,type:a.icmptype,security_group_id:t.id,protocol:a.protocol,action:a.action}:"all"==a.protocol?{direction:a.direction,ethertype:"IPv4",remote_ip_prefix:a.remote_ip_prefix,security_group_id:t.id,protocol:a.protocol,action:a.action}:{direction:a.direction,port_range_min:a.port_range_min,ethertype:"IPv4",port_range_max:a.port_range_max,remote_ip_prefix:a.remote_ip_prefix,security_group_id:t.id,protocol:a.protocol,action:a.action}).then(function(t){i(t.data.results[0],o),e("ACL规则成功")}).catch(function(t){console.log(t)})})},deleteRule:function(t){var e=this;console.log(t);var a=this.$message,i=Gs,n={};n.type="delete",n.title="删除ACL规则";var s={data:n,view:i,form:{name:t.name}},o=t.id;console.log(t),this.$alertDialog(s).then(function(i){Be(o).then(function(i){"SUCCESS"==i.data.errcode?(a("ACL规则刪除成功"),e.acllist=e.acllist.filter(function(e){return e.id==t.aclid&&("入方向"==t.traffictype?e.rule_in_num--:e.rule_out_num--,e.security_group_rules&&(e.security_group_rules=e.security_group_rules.filter(function(t){return t.id!==o}))),!0})):(a("ACL规则刪除失敗"),e.refresh())}).catch(function(t){console.log(t),e.refresh()})})},refreshData:function(t,e){var a=this;this.acllist.filter(function(i){i.id===e&&("Ingress"===t.traffictype?(i.rule_in_num++,t.traffictype="入方向"):"Egress"===t.traffictype&&(i.rule_out_num++,t.traffictype="出方向"),t.type="IPv4",t.port="icmp"===t.protocol?t.icmptype+"/"+t.icmpcode:"all"===t.protocol?"":t.startport+"/"+t.endport,i.security_group_rules.push(t),a.addOperation(i))})},changeRegion:function(t){Ct.cancle("CancelToken"),this.regionId=t,this.refresh()},getRegion:function(){var t=void 0;if(F())clearTimeout(t),this.changeRegion();else{var e=this;t=setTimeout(function(){e.getRegion()},300)}},clear:function(){this.filter.keyword="",this.filter.name="",this.filter.id=""},getAclList:function(){var t=this,e=this.filter;this.loading=!0,Fe(e).then(function(e){var a=e.data.results;t.filterServers(a,[]),t.acllist=a;var i=e.data.total_count;t.totalCount=i,t.Pagination.total=t.totalCount,i>t.Pagination.pagingData[0]&&(t.Pagination.show=!0),t.loading=!1}).catch(function(e){"CancelToken"==e.message||(t.loading=!1),console.log(e)})},filterServers:function(t,e){var a=this;t.filter(function(t){var e=0,i=0;return t.security_group_rules&&t.security_group_rules.length>0?t.security_group_rules.filter(function(a){return t.traffictype=a.traffictype,a.type="IPv4",a.port="icmp"===a.protocol?a.icmptype+"/"+a.icmpcode:"all"===a.protocol?"":a.startport+"/"+a.endport,"Ingress"===a.traffictype?(a.traffictype="入方向",e++):"Egress"===a.traffictype&&(a.traffictype="出方向",i++),!0}):t.security_group_rules=[],t.rule_in_num=e,t.rule_out_num=i,t.describe_in=u.vpc.Ingress,t.describe_out=u.vpc.Egress,t.expendStatus=!1,"0"==t.do_delete?t.addButton=!1:"1"==t.do_delete&&(t.addButton=!0),t.netName="",t.network.length>0&&t.network.forEach(function(e){t.netName+=e.name+"、"}),a.addOperation(t),!0})},addOperation:function(t){var e=this,a=(t.name,this),i=[{id:"delete",value:u.vpc.delete,fun:function(t){return e.delete(t)}}],n=void 0;i.map(function(e){"0"==t.do_delete?(e.disabled=!0,n=!0):"1"==t.do_delete&&(e.disabled=!1,n=!1)}),this.$set(t,"aclOperation",i),t.security_group_rules.length>0&&t.security_group_rules.filter(function(t){var e=[{value:u.vpc.delete,id:"deleteRule",fun:function(t){return a.deleteRule(t)}}];e.map(function(t){t.disabled=!!n}),a.$set(t,"OperationdetailEvents",e)})},search:function(t){"id"==t.name?(this.filter.status="",this.filter.name="",this.filter.search="search",this.filter.id=t.value,this.filter.keyword=""):(this.filter.status="",this.filter.name="",this.filter.id="",this.filter.search="",this.filter.keyword=t.value),console.log(t),this.getAclList()},refresh:function(){this.filter.status="",this.filter.search="",this.GetRegionNums(),this.getAclList()},pagingChange:function(t,e){"num"==t?this.filter.limit=e:"page"==t&&(this.filter.page=e),this.loading=!0,this.getAclList()},queryQuotas:function(){var t=this;He().then(function(e){console.log(e.data.results);e.data.results[0];t.aclTotalCount=100,t.aclExistCount=t.totalCount}).catch(function(t){console.log(t)})},GetRegionNums:function(){var t=this;Vt({resource:"acl",regionid:F()}).then(function(e){var a=e.data.results[0].ACLLIST;console.log(a),a&&a.detail&&(t.regionData=a.detail)})}},computed:{changeRowSty:function(t,e){return{background:"#f0f2f7"}},changethSty:function(t,e){return{background:"#f0f2f7",color:"#333333","font-size":"12px","font-weight":"600"}}},mounted:function(){this.getRegion()}},ar={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"main"},[e("RegionList",{attrs:{name:this.name,regionData:this.regionData,buttonText:this.buttonText,type:"cs"},on:{create:this.create,changeRegion:this.changeRegion}}),this._v(" "),e("div",{staticClass:"content"},[e("div",{staticClass:"content_top"},[e("div",{staticClass:"acl_mark"}),this._v(" "),e("ConsoleSearch",{staticClass:"acl_search",attrs:{options:this.options,optionsValue:this.optionsValue,btnClose:!0},on:{searchEvent:this.search,clear:this.clear,refreshEvent:this.refresh}})],1),this._v(" "),e("div",[e("ConsoleAclTable",{staticClass:"aclList",attrs:{checkBox:this.checkBox,tableData:this.acllist,tableOptions:this.tableOptions,selectOrNot:!0,noHead:!0,expand:!0,addRule:this.addRule,expandTable:!0,detilOptions:this.detilOptions,detilData:this.acllist.security_group_rules,operationOrNot:!0,operationdetailOrNot:!0,loading:this.loading,OperationEvents:this.aclOperation,OperationdetailEvents:this.OperationdetailEvents,Pagination:this.Pagination},on:{buttonClick:this.buttonClick,pagingEvent:this.pagingChange}})],1)])],1)},staticRenderFns:[]};var ir=a("VU/8")(er,ar,!1,function(t){a("S6tJ"),a("bQfC")},"data-v-935a241e",null).exports,nr={path:"acl",name:"acl",component:fo.default,redirect:"acl/aclList",children:[{path:"aclList",name:"aclList",component:ir,props:{name:u.vpc.acl,buttonText:u.vpc.creatACL}}]};ho.children.push(Co,Vo,Ko,nr);var sr=ho,or={props:{name:[String],btnText:[String]},data:function(){return{orderNum:"",orderValue:"",start:"",finish:"",startDate:"",finishDate:""}},methods:{searchNum:function(){console.log(this.orderNum)},searchValue:function(){console.log(this.orderValue)},refresh:function(){}},created:function(){var t=(new Date).toLocaleDateString();this.start=t,this.finish=t}},rr={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"order_search"},[a("el-row",[a("el-col",{attrs:{span:18}},[a("div",{staticClass:"serach_box"},[a("p",{staticClass:"node_name"},[t._v(t._s(t.name))]),t._v(" "),a("el-input",{attrs:{placeholder:"工单编号"},model:{value:t.orderNum,callback:function(e){t.orderNum=e},expression:"orderNum"}},[a("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:t.searchNum},slot:"append"})],1),t._v(" "),a("el-input",{attrs:{placeholder:"关键字"},model:{value:t.orderValue,callback:function(e){t.orderValue=e},expression:"orderValue"}},[a("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:t.searchValue},slot:"append"})],1),t._v(" "),a("el-date-picker",{attrs:{type:"date",placeholder:t.start},model:{value:t.startDate,callback:function(e){t.startDate=e},expression:"startDate"}}),t._v(" "),a("span",[t._v("至")]),t._v(" "),a("el-date-picker",{attrs:{type:"date",placeholder:t.finish},model:{value:t.finishDate,callback:function(e){t.finishDate=e},expression:"finishDate"}}),t._v(" "),a("el-button",{staticStyle:{padding:"8px 20px","font-size":"16px",background:"#3ac0f1",color:"#ffffff"},on:{click:t.refresh}},[t._v("搜索")])],1)]),t._v(" "),a("el-col",{attrs:{span:6}},[a("div",{staticClass:"btnBox"},[a("el-button",{staticStyle:{padding:"8px 20px","font-size":"16px",background:"#3ac0f1",color:"#ffffff"},on:{click:t.refresh}},[t._v(t._s(t.btnText))])],1)])],1)],1)},staticRenderFns:[]};var lr=a("VU/8")(or,rr,!1,function(t){a("/zgT")},null,null).exports,cr={components:{OrderSearch:lr},methods:{handleClick:function(t){console.log(t)},filterTag:function(t,e){return console.log(t,e),e.city===t}},data:function(){return{name:u.order.submit_order,btnText:u.order.my_order,tableData:[{date:"2016-05-01",name:"王小虎",province:"上海",city:"待您确认",address:"上海市普陀区金沙江路 1518 弄",zip:200333},{date:"2016-05-01",name:"王小虎",province:"上海",city:"待您反馈",address:"上海市普陀区金沙江路 1518 弄",zip:200333},{date:"2016-05-01",name:"王小虎",province:"上海",city:"正在处理",address:"上海市普陀区金沙江路 1518 弄",zip:200333},{date:"2016-05-01",name:"王小虎",province:"上海",city:"处理完成",address:"上海市普陀区金沙江路 1518 弄",zip:200333}]}},computed:{changeRowSty:function(t,e){return{background:"#f0f2f7"}},changethSty:function(t,e){return{background:"#f0f2f7",color:"#333333","font-size":"12px","font-weight":"600"}}}},ur={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"order"},[a("Order-search",{attrs:{name:t.name,btnText:t.btnText}}),t._v(" "),a("div",{staticClass:"list"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,"header-row-style":t.changeRowSty,"header-cell-style":t.changethSty}},[a("el-table-column",{attrs:{prop:"date",label:"工单编号"}}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"标题"}}),t._v(" "),a("el-table-column",{attrs:{prop:"province",label:"问题类型"}}),t._v(" "),a("el-table-column",{attrs:{prop:"city",label:"处理进度",filters:[{text:"待您反馈",value:"待您反馈"},{text:"待您确认",value:"待您确认"},{text:"正在处理",value:"正在处理"},{text:"处理完成",value:"处理完成"}],"filter-method":t.filterTag,"filter-placement":"bottom-end"}}),t._v(" "),a("el-table-column",{attrs:{prop:"address",label:"提交时间"}}),t._v(" "),a("el-table-column",{attrs:{prop:"zip",label:"提交账号"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){t.handleClick(e.row)}}},[t._v("查看")]),t._v(" "),a("el-button",{attrs:{type:"text",size:"small"}},[t._v("删除")])]}}])})],1)],1)],1)},staticRenderFns:[]};var dr={components:{OrderSearch:lr},methods:{},data:function(){return{name:u.order.submit_order,btnText:u.order.my_order,orderProductsList:[{name:"云服务器",bg:"ecm",id:"VM"},{name:"云硬盘",bg:"ebs",id:"Volume"},{name:"VPC",bg:"vpc",id:"VPC"},{name:"弹性公网IP",bg:"eip",id:"Public_IP"},{name:"镜像",bg:"ims",id:"Images"},{name:"负载均衡",bg:"elb",id:"elbs"}],serviceList:[{name:"财务类",bg:"financial",id:"financial",title:"充值、提现、发票、退款等相关问题"},{name:"账号相关",bg:"account",id:"account",title:"用户账号等相关问题"},{name:"备案相关",bg:"record",id:"record",title:"备案咨询等相关问题"}]}},computed:{}},pr={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"order"},[a("Order-search",{attrs:{name:t.name,btnText:t.btnText}}),t._v(" "),a("div",{staticClass:"product_type"},[a("div",{staticClass:"title"},[t._v("产品类型")]),t._v(" "),a("div",[a("el-row",{staticClass:"console-center",attrs:{gutter:20}},t._l(t.orderProductsList,function(e){return e.hidden?t._e():a("el-col",{key:e.bg,staticClass:"console-product-productsList",attrs:{span:6}},[a("div",{staticClass:"console-product-item"},[a("div",{staticClass:"console-product-left"},[a("div",{staticClass:"console-product-img",class:"console-product-img-"+e.bg}),t._v(" "),a("div",{staticClass:"console-product-title"},[t._v(t._s(e.name))])]),t._v(" "),a("div",{staticClass:"console-product-right"},[a("el-button",[t._v("提问")])],1)])])}))],1)]),t._v(" "),a("div",{staticClass:"product_type"},[a("div",{staticClass:"title"},[t._v("功能服务")]),t._v(" "),a("div",[a("el-row",{staticClass:"console-center",attrs:{gutter:20}},t._l(t.serviceList,function(e){return a("el-col",{key:e.bg,staticClass:"console-product-productsList",attrs:{span:6}},[a("div",{staticClass:"console-product-item"},[a("div",{staticClass:"console-product-left"},[a("div",{staticClass:"console-product-img",class:"console-product-img-"+e.bg}),t._v(" "),a("div",{staticClass:"console-product-title"},[t._v(t._s(e.name))])]),t._v(" "),a("div",{staticClass:"console-product-right"},[a("el-button",[t._v("提问")])],1),t._v(" "),a("p",[t._v(t._s(e.title))])])])}))],1)])],1)},staticRenderFns:[]};var mr={path:"/order",name:"helpOrder",component:j,redirect:"/order/orderList",children:[{path:"orderList",name:"orderList",component:a("VU/8")(cr,ur,!1,function(t){a("ZNW7"),a("bqs6")},"data-v-21a3fa74",null).exports},{path:"submitOrder",name:"submitOrder",component:a("VU/8")(dr,pr,!1,function(t){a("CVEv"),a("lOfP")},"data-v-870e0fb2",null).exports}]},hr={props:{optionsValue:[String],options:[Array]},data:function(){return{value:this.optionsValue,nameOptions:[{value:u.common.name,label:u.common.name},{value:u.common.ID,label:u.common.ID}],nameValue:u.common.name,searchValue:""}},methods:{statusChange:function(t){console.log(t)},nameChange:function(t){console.log(t)},inputBlur:function(){console.log(11)}}},fr={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"searchBox"},[a("el-select",{attrs:{placeholder:"请选择"},on:{change:function(e){t.statusChange(t.value)}},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}},t._l(t.options,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),t._v(" "),a("el-select",{attrs:{placeholder:"请选择"},on:{change:function(e){t.nameChange(t.nameValue)}},model:{value:t.nameValue,callback:function(e){t.nameValue=e},expression:"nameValue"}},t._l(t.nameOptions,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),t._v(" "),a("el-input",{attrs:{placeholder:"请输入内容","suffix-icon":"el-icon-search"},model:{value:t.searchValue,callback:function(e){t.searchValue=e},expression:"searchValue"}})],1)])},staticRenderFns:[]};var vr={components:{RegionList:me,searchModule:a("VU/8")(hr,fr,!1,function(t){a("A3vl")},"data-v-cacfdb30",null).exports,ConsoleTable:Te,ConsoleSearch:ge},data:function(){var t=this;return{name:u.elb.elbList,buttonText:u.elb.createElb,buttonTexts:u.elb.certificate,checkBox:!0,selectOrNot:!0,operationOrNot:!0,statusOnOff:!1,elbListData:[],regionData:[],multipleSelection:[],Pagination:{pagingData:[5,10,15],total:0,show:!1},filter:{status:"",limit:5,page:1,name:"",keyword:"",id:"",attached:""},options:[{value:"",label:u.common.allStatus},{value:"allocated",label:u.ebs.allocated},{value:"ready",label:u.ebs.ready}],optionsValue:"",tableOptions:[{prop:"name",label:u.common.name,temp:!0,detail:!0,path:"/elb/elbDetail",key:"ip"},{prop:"status",label:u.common.status,temp:!0,status:!0},{prop:"resource_type",label:u.elb.type},{prop:"ip",label:u.elb.serviceAddress},{prop:"belongsToVpc",label:u.elb.belongsToVpc},{prop:"subnet",label:u.elb.subnet},{prop:"bandwidth",label:u.elb.bandwidth},{prop:"created",label:u.common.createAt}],elbOperation:[{value:u.elb.modifyBandwidth,fun:function(e){return t.modifyBandwidth(e)}},{value:u.common.delete,fun:function(e){return t.deleter(e)}},{value:u.elb.blockUp,fun:function(e){return t.blockUp(e)}}]}},methods:{handleClick:function(){},clear:function(){this.filter.keyword="",this.filter.name=""},create:function(){this.$router.push({path:"/elb/ElbCreate"})},certificate:function(){console.log("备份策略")},buttonClick:function(t,e){t(e)},modifyBandwidth:function(t){console.log(t),console.log("调用修改带宽")},blockUp:function(t){console.log("调用停用")},deleter:function(t){console.log("调用删除")},changeRegion:function(t){this.regionId=t,this.getElbList()},getRegion:function(){var t=void 0;if(F())clearTimeout(t),this.changeRegion();else{var e=this;t=setTimeout(function(){e.getRegion()},300)}},getElbList:function(t){var e,a,i=this;(e={limit:10,page:1,status:""},a=void 0,a=e.name?{regionid:F(),limit:e.limit||10,page:e.page||1,status:e.status,attached:e.attached,name:e.name}:{regionid:F(),limit:e.limit||10,page:e.page||1,status:e.status,attached:e.attached,keyword:e.keyword},console.log(a),Ct({url:"/console/network/loadbalancer/",method:"get",params:a})).then(function(t){console.log(t);var e=t.data.results,a=t.data.total_count;i.filterServers(e),i.elbListData=e,i.totalCount=a,i.loading=!1}).catch(function(t){i.loading=!1,console.log(t)})},filterServers:function(t){t.forEach(function(t){(t.status="running",t.state="running",t.created=t.create_date?Ce(t.create_date):"--",t.resource_type=t.resource_type?_e(t.resource_type):"--",t.network_uuid)&&Oe({status:"",limit:10,page:1,id:t.network_uuid}).then(function(t){var e=t.data.results[0];console.log(e)}).catch(function(t){console.log(t)})})},search:function(t){console.log(t),this.filter.status="",this.filter.name="",this.filter.id="",this.filter.keyword=t.value,this.getElbList()},selectChange:function(t){console.log(t),this.filter.attached="ready"==t?0:"allocated"==t?1:"",this.filter.page=1,console.log(this.filter),this.getElbList()},refresh:function(){this.filter.status="",this.filter.keyword="",this.filter.name="",this.filter.id="",this.filter.attached="",this.getElbList()},pagingChange:function(t,e){"num"==t?this.filter.limit=e:"page"==t&&(this.filter.page=e),this.getElbList()},GetRegionNums:function(){var t=this,e={resource:"volume",regionid:F()};GetRegionNum(e).then(function(e){var a=e.data.results[0].Volume;console.log(a),a&&a.detail&&(t.regionData=a.detail)})}},computed:{},mounted:function(){this.changeRegion()}},gr={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"main"},[e("RegionList",{attrs:{name:this.name,regionData:this.regionData,buttonText:this.buttonText,buttonTexts:this.buttonTexts},on:{create:this.create,strategy:this.certificate}}),this._v(" "),e("div",{staticClass:"content"},[e("div",{staticClass:"content_top"},[e("ConsoleSearch",{attrs:{btnClose:!0,statusOnOff:this.statusOnOff,options:this.options,optionsValue:this.optionsValue},on:{searchEvent:this.search,clear:this.clear,refreshEvent:this.refresh,PublicOperEvent:this.buttonClick}})],1),this._v(" "),e("div",[e("ConsoleTable",{attrs:{checkBox:this.checkBox,operationOrNot:this.operationOrNot,selectOrNot:this.selectOrNot,tableData:this.elbListData,tableOptions:this.tableOptions,OperationEvents:this.elbOperation},on:{buttonClick:this.buttonClick}})],1)])],1)},staticRenderFns:[]};var br=a("VU/8")(vr,gr,!1,function(t){a("g666"),a("GHGV")},"data-v-f2ea19ae",null).exports,_r={components:{},data:function(){return{temp:14,temp2:30,scaleWidth:60,seleceCheck:!0,eipCheck:!0,eipShow:!0,regionList:[],broadbandStep:10,vpclist:[],eiplist:[],ruleForm:{name:"",resourceType:"",regionName:"",uuid:"",vpcid:"",netid:"",vpcname:"",eipid:"",eipip:"",chargeType:"使用已有",broadbandMax:300,showInput:!0,bandwidth:100,bandwidths:"100Mbit/s",broadband:6,price:"0.00",desc:""},rules:{name:[{required:!0,message:"请输入名称",trigger:"blur"},{min:3,max:16,message:"长度在 3 到 16 个字符",trigger:"blur"}]}}},methods:{regionChange:function(t){console.log(t),this.ruleForm.regionName=t.name,this.ruleForm.uuid=t.uuid,this.getVpcList(t.uuid),this.getEipList(t.uuid)},chargeChange:function(t){"新创建"==t?(this.eipShow=!1,this.ruleForm.eipip=""):(this.eipShow=!0,this.getEipList(this.ruleForm.uuid))},bandwidthChange:function(t){console.log(t),this.ruleForm.bandwidths=t+"Mbit/s"},checkVpc:function(){this.ruleForm.vpcid&&window.open("#/vpc/vpcDetail/"+this.ruleForm.vpcid)},checkEip:function(){this.ruleForm.eipid&&window.open("#/vpc/eip/eipDetail/"+this.ruleForm.eipid)},getRegionList:function(){var t=this;pt().then(function(e){var a=e.data.platforms;t.regionList=a,t.ruleForm.uuid=a[0].uuid,t.ruleForm.resourceType=a[0].uuid,t.ruleForm.regionName=a[0].name,console.log(t.regionList),t.getVpcList(t.ruleForm.uuid),t.getEipList(t.ruleForm.uuid)}).catch(function(e){console.log(e),t.vpclist=[]})},getSubid:function(){var t=this;this._.find(this.vpclist,{id:this.ruleForm.vpcid}).network.filter(function(e){"DefaultIsolatedNetworkOfferingForVpcNetworks"==e.networkofferingname&&(t.ruleForm.netid=e.id)})},getVpcList:function(t){var e,a,i=this,n={regionid:t};this.seleceCheck=!0,(e=n,a={limit:e.limit,regionid:e.regionid,page:e.page,status:e.status,id:e.id,name:e.name,is_lb:1},console.log(a),Ct({url:"console/network/vpcs/",method:"get",params:a})).then(function(t){console.log(t);var e=t.data.results;e.length>0?(i.vpclist=e,i.seleceCheck=!1,console.log(e),i.ruleForm.vpcid=e[0].id,i.getSubid()):(i.vpclist=[],i.seleceCheck=!1,i.ruleForm.vpcid="",i.$message({message:"该节点下没有负载均衡类型的子网",type:"warning"}))}).catch(function(t){i.seleceCheck=!1,i.vpclist=[],i.ruleForm.vpcid="",console.log(t)})},getEipList:function(t){var e=this,a={regionid:t,create:"create"};this.eipCheck=!0,Re(a).then(function(t){console.log(t);var a=t.data.results;a.length>0?(e.eiplist=a,e.eipCheck=!1,console.log(a),e.ruleForm.eipid=a[0].id):(e.eiplist=[],e.eipCheck=!1,e.ruleForm.eipid="",e.$message({message:"该节点下没有弹性公网IP",type:"warning"}))}).catch(function(t){e.eipCheck=!1,e.eiplist=[],e.ruleForm.eipid="",console.log(t)})},order:function(){var t=this;this.$refs.ruleForm.validate(function(e){e?(!0,t.$emit("orderResult",!0,t.ruleForm)):t.$emit("orderResult",!1,"")})},openHelp:function(){open("http://www.ctyun.cn/help")}},computed:{vpcChange:function(){return this.vpclist.length>0?this.ruleForm.vpcid?(this.ruleForm.vpcname=this._.find(this.vpclist,{id:this.ruleForm.vpcid}).name,this.ruleForm.vpcname):void 0:"--"},eipChange:function(){return this.eipShow&&this.eiplist.length>0?(this.ruleForm.eipip=this._.find(this.eiplist,{id:this.ruleForm.eipid}).ipaddress,this.ruleForm.eipip):"--"}},mounted:function(){this.getRegionList(),this.ruleForm.name="elb-"+xt()}},yr={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"create_elb"},[a("el-container",[a("el-main",{staticClass:"padding-left"},[a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:t.ruleForm,rules:t.rules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"名称：",prop:"name"}},[a("el-input",{staticStyle:{width:"180px"},model:{value:t.ruleForm.name,callback:function(e){t.$set(t.ruleForm,"name",e)},expression:"ruleForm.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"地域：",prop:"resourceType",required:""}},[a("el-radio-group",{attrs:{size:"medium",fill:"#f9cc76"},model:{value:t.ruleForm.resourceType,callback:function(e){t.$set(t.ruleForm,"resourceType",e)},expression:"ruleForm.resourceType"}},t._l(t.regionList,function(e,i){return a("el-radio-button",{key:i,staticClass:"radio-group-btn",attrs:{label:e.uuid},nativeOn:{change:function(a){t.regionChange(e)}}},[t._v(t._s(e.name))])}))],1),t._v(" "),a("el-form-item",{staticClass:"vpc",attrs:{label:"所属VPC :",prop:"vpcid",required:""}},[a("el-select",{attrs:{disabled:t.seleceCheck},on:{change:t.getSubid},model:{value:t.ruleForm.vpcid,callback:function(e){t.$set(t.ruleForm,"vpcid",e)},expression:"ruleForm.vpcid"}},t._l(t.vpclist,function(t,e){return a("el-option",{key:e,attrs:{label:t.name,value:t.id}})})),t._v(" "),a("div",{staticClass:"skip"},[a("span",{on:{click:t.checkVpc}},[t._v("查看虚拟私有云")])])],1),t._v(" "),a("el-form-item",{staticClass:"eipStyle",attrs:{label:"弹性公网IP：",prop:"chargeType",required:""}},[a("el-radio-group",{attrs:{size:"medium",fill:"#f9cc76"},on:{change:t.chargeChange},model:{value:t.ruleForm.chargeType,callback:function(e){t.$set(t.ruleForm,"chargeType",e)},expression:"ruleForm.chargeType"}},[a("el-radio-button",{staticClass:"radio-group-btn",attrs:{label:"使用已有"}})],1),t._v(" "),a("div",[t.eipShow?a("el-select",{attrs:{disabled:t.eipCheck},model:{value:t.ruleForm.eipid,callback:function(e){t.$set(t.ruleForm,"eipid",e)},expression:"ruleForm.eipid"}},t._l(t.eiplist,function(t,e){return a("el-option",{key:e,attrs:{label:t.ipaddress,value:t.id}})})):t._e(),t._v(" "),t.eipShow?a("div",{staticClass:"skip"},[a("span",{on:{click:t.checkEip}},[t._v("查看弹性公网IP")])]):t._e()],1)],1),t._v(" "),t.eipShow?t._e():a("el-form-item",{attrs:{label:"公网宽带：",required:""}},[a("el-slider",{attrs:{max:t.ruleForm.broadbandMax,"show-input":t.ruleForm.showInput,step:t.broadbandStep},on:{change:t.bandwidthChange},model:{value:t.ruleForm.bandwidth,callback:function(e){t.$set(t.ruleForm,"bandwidth",e)},expression:"ruleForm.bandwidth"}}),t._v(" "),a("div",{staticClass:"slider-mark"},[a("div",{staticClass:"scale"},[t._l(t.temp2,function(e){return a("span",{key:e,style:"width:"+100/t.temp2+"%"},[t._v("|")])}),t._v(" "),a("span",[t._v("|")])],2),t._v(" "),a("div",{staticClass:"scaleInfo"},[a("span",{staticStyle:{"margin-left":"-6px"}},[t._v("0M")]),t._v(" "),a("span",{staticStyle:{"margin-left":"28%"}},[t._v("100M")]),t._v(" "),a("span",{staticStyle:{"margin-left":"27%"}},[t._v("200M")]),t._v(" "),a("span",{staticStyle:{"margin-top":"0","margin-right":"-16px"}},[t._v("300M")])])])],1),t._v(" "),a("el-form-item",{attrs:{label:"描述：",prop:"desc"}},[a("el-input",{attrs:{type:"textarea"},model:{value:t.ruleForm.desc,callback:function(e){t.$set(t.ruleForm,"desc",e)},expression:"ruleForm.desc"}})],1)],1)],1),t._v(" "),a("el-aside",{attrs:{width:"200px"}},[a("div",{staticClass:"currentInfo"},[a("h4",[t._v("当前配置")]),t._v(" "),a("div",{staticClass:"message"},[a("dl",[a("dt",[t._v("名称：")]),t._v(" "),a("dd",[t._v(t._s(t.ruleForm.name?t.ruleForm.name:"--"))])]),t._v(" "),a("dl",[a("dt",[t._v("地域：")]),t._v(" "),a("dd",[t._v(t._s(t.ruleForm.regionName?t.ruleForm.regionName:"--"))])]),t._v(" "),a("dl",[a("dt",[t._v("所属VPC：")]),t._v(" "),a("dd",[t._v(t._s(t.vpcChange))])]),t._v(" "),t.eipShow?a("dl",[a("dt",[t._v("弹性公网IP：")]),t._v(" "),a("dd",[t._v(t._s(t.eipChange))])]):t._e(),t._v(" "),t.eipShow?t._e():a("dl",[a("dt",[t._v("公网带宽：")]),t._v(" "),a("dd",[t._v(t._s(t.ruleForm.bandwidths?t.ruleForm.bandwidths:"--"))])]),t._v(" "),a("dl",[a("dt",[t._v("描述：")]),t._v(" "),a("dd",[t._v(t._s(t.ruleForm.desc?t.ruleForm.desc:"--"))])])]),t._v(" "),a("el-button",{attrs:{type:"warning",icon:"el-icon-check"}},[t._v("预付费")]),t._v(" "),a("div",{staticClass:"show_money"},[a("span",{staticClass:" money_icon"},[t._v("￥")]),a("span",{staticClass:"money_icon price"},[t._v("0.00")]),t._v("元\n\t\t\t  \t\t")]),t._v(" "),a("p",{staticClass:"link",on:{click:t.openHelp}},[t._v("了解计费详情")])],1)])],1)],1)},staticRenderFns:[]};var wr={components:{ConsoleCreate:Xi,ConsoleConfirm:fi,ConsoleSuccess:bi,ElbCreateFirst:a("VU/8")(_r,yr,!1,function(t){a("EiFi"),a("NbBh")},"data-v-3e8d1c54",null).exports},data:function(){return{page:0,checked:!1,name:"负载均衡",return_url:"/ebs/ebsList",tableData:{system_name:"",elseData:[{system_type:"负载均衡",num:"1",total:"￥0.00",confirmData:[]}],tableOptions:[{prop:"length",label:u.ebs.length},{prop:"num",label:u.ebs.Number},{prop:"total",label:u.ebs.totalPrice}]},ruleFormData:""}},methods:{orderEvent:function(){this.$refs.createOrder.order()},goProtocol:function(){window.open("http://www.ctyun.cn/term/ecs")},orderResult:function(t,e){console.log(t),t&&(this.ruleFormData=e,console.log(this.ruleFormData),this.$refs.createProcess.next())},nextPage:function(t){console.log(t),this.page=t,1==t&&(this.ruleFormData.eipip?this.tableData.elseData=[{system_type:"负载均衡",num:1,total:"￥"+this.ruleFormData.price,confirmData:[{label:u.common.name,value:this.ruleFormData.name},{label:u.common.resourceNodes,value:this.ruleFormData.regionName},{label:u.common.VPC,value:this.ruleFormData.vpcname},{label:u.common.eip,value:this.ruleFormData.eipip},{label:u.bks.describe,value:this.ruleFormData.desc}]}]:this.tableData.elseData=[{system_type:"负载均衡",num:1,total:"￥"+this.ruleFormData.price,confirmData:[{label:u.common.name,value:this.ruleFormData.name},{label:u.common.resourceNodes,value:this.ruleFormData.regionName},{label:u.common.VPC,value:this.ruleFormData.vpcname},{label:u.vpc.publicbw,value:this.ruleFormData.bandwidths},{label:u.bks.describe,value:this.ruleFormData.desc}]}],this.tableData.system_name=this.ruleFormData.name)},submitForm:function(t){var e=this,a={regionid:F()},i="";Qt(a).then(function(n){console.log(n.data.platforms);var s=n.data.platforms;i=s.filter(function(t){return t.uuid==a.regionid}),console.log(i);var o,r={};e.ruleFormData.eipip&&(r={name:e.ruleFormData.name,publicipid:e.ruleFormData.eipid,network_uuid:e.ruleFormData.netid,regionid:e.ruleFormData.uuid,zoneId:i[0].details.zoneId}),(o=r,Ct({url:"/console/network/loadbalancer/",method:"post",data:o})).then(function(a){console.log(a),e.$message({message:"命令下发成功",type:"success"}),t()}).catch(function(t){console.log(t),e.$message({message:"命令下发失败",type:"error"})})}).catch(function(t){e.loading=!1,console.log(t)})}}},Cr={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("ConsoleCreate",{ref:"createProcess",attrs:{system_type:t.name,switchPage:t.nextPage,checked:!t.checked,submitForm:t.submitForm},on:{orderEvent:t.orderEvent}},[a("div",{directives:[{name:"show",rawName:"v-show",value:0==t.page,expression:"page==0"}],staticClass:"create_title",attrs:{slot:"create_title"},slot:"create_title"},[a("ElbCreateFirst",{ref:"createOrder",on:{orderResult:t.orderResult}})],1),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:1==t.page,expression:"page==1"}],staticClass:"confirm_title",attrs:{slot:"confirm_title"},slot:"confirm_title"},[a("div",{staticStyle:{padding:"20px 0","background-color":"#fff"}},[t._v("资源详情")]),t._v(" "),a("ConsoleConfirm",{attrs:{tableData:t.tableData}}),t._v(" "),a("div",{staticClass:"Agreement_component"},[a("p",[a("el-checkbox",{model:{value:t.checked,callback:function(e){t.checked=e},expression:"checked"}},[t._v("我已阅读并同意相关协议")]),t._v(" "),a("span",{staticClass:"agreement",on:{click:t.goProtocol}},[t._v("《 天翼云弹性云服务器服务等级协议 》")])],1)])],1),t._v(" "),2===t.page?a("div",{staticClass:"submit_title",attrs:{slot:"submit_title"},slot:"submit_title"},[a("ConsoleSuccess",{attrs:{return_url:t.return_url,orderWay:!0,system_type:t.name,system_name:t.tableData.system_name}})],1):t._e()])],1)},staticRenderFns:[]};var kr=a("VU/8")(wr,Cr,!1,function(t){a("aDQj"),a("as4P")},"data-v-27919fe4",null).exports,xr={props:{form:[Object,String]},data:function(){var t=function(t,e,a){console.log(t);var i=1,n=65535;"elbPortValue"==t.field||"ecmPortValue"==t.field?(i=1,n=65535):"intervalTime"==t.field?(i=1,n=20940):"timeout"==t.field?(i=2,n=60):"threshold"!=t.field&&"unThreshold"!=t.field||(i=1,n=10);/^[0-9]*$/.test(e)?e-0<i||e-0>n?a(new Error("取值范围 "+i+"~"+n)):a():a(new Error("只能输入数字"))};return{elbProOption:[{value:"http",label:"HTTP"},{value:"ftp",label:"FTP"}],ecmProOption:[{value:"http",label:"HTTP"},{value:"ftp",label:"FTP"}],elbWayOption:[{value:"http",label:"HTTP"},{value:"ftp",label:"FTP"}],sessionWayOption:[{value:"http",label:"HTTP"},{value:"ftp",label:"FTP"}],dataForm:{name:"",elbProValue:"HTTP",ecmProValue:"HTTP",ecmPortValue:"",elbPortValue:"",textArea:"",elbWay:"HTTP",healthCheck:!0,intervalTime:"",timeout:"",threshold:"",unThreshold:"",path:""},rules:{name:[{required:!0,message:"请输入监听器名称",trigger:"blur"},{validator:function(t,e,a){e?e.length>63||e.length<2?a(new Error("长度为2-63字符")):ia(e)&&a(new Error("不能使用中文")):a(new Error("名称不能为空！"))},trigger:"blur"}],elbWay:[{required:!0,message:"请选择负载方式",trigger:"blur"}],intervalTime:[{required:!0,message:"请输入间隔时间",trigger:"blur"},{validator:t,trigger:"blur"}],elbPortValue:[{required:!0,message:"请输入端口值",trigger:"blur"},{validator:t,trigger:"blur"}],ecmPortValue:[{required:!0,message:"请输入端口值",trigger:"blur"},{validator:t,trigger:"blur"}],timeout:[{required:!0,message:"请输入超时时间",trigger:"blur"},{validator:t,trigger:"blur"}],threshold:[{required:!0,message:"请输入健康阙值",trigger:"blur"},{validator:t,trigger:"blur"}],unThreshold:[{required:!0,message:"请输入不健康阙值",trigger:"blur"},{validator:t,trigger:"blur"}],path:[{required:!0,message:"请输入路径",trigger:"blur"},{min:1,max:80,message:"长度在 1 到 80 个字符",trigger:"blur"}]}}},methods:{changeForm:function(){this.form.name=this.dataForm.name,this.form.privateport=this.dataForm.name},validateForm:function(){return changeForm(),this.$refs.monitorForm.validate()}}},Dr={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"addMontior"},[a("el-form",{ref:"monitorForm",staticClass:"ruleForm",attrs:{"label-width":"120px",size:"small",model:t.dataForm,rules:t.rules}},[a("el-form-item",{staticClass:"monName",attrs:{label:"名称：",prop:"name"}},[a("el-input",{model:{value:t.dataForm.name,callback:function(e){t.$set(t.dataForm,"name","string"==typeof e?e.trim():e)},expression:"dataForm.name"}})],1),t._v(" "),a("el-form-item",{staticClass:"elbProtocol",attrs:{label:"负载均衡器协议/端口 ：",prop:"elbPortValue"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.dataForm.elbProValue,callback:function(e){t.$set(t.dataForm,"elbProValue",e)},expression:"dataForm.elbProValue"}},t._l(t.elbProOption,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),t._v(" "),a("el-input",{attrs:{type:"age"},model:{value:t.dataForm.elbPortValue,callback:function(e){t.$set(t.dataForm,"elbPortValue","string"==typeof e?e.trim():e)},expression:"dataForm.elbPortValue"}}),t._v(" "),a("p",{staticClass:"scope"},[t._v("取值范围1~65535")])],1),t._v(" "),a("el-form-item",{staticClass:"ecmProtocol",attrs:{label:"云主机协议/端口 ：",prop:"ecmPortValue"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.dataForm.ecmProValue,callback:function(e){t.$set(t.dataForm,"ecmProValue",e)},expression:"dataForm.ecmProValue"}},t._l(t.ecmProOption,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),t._v(" "),a("el-input",{attrs:{type:"age"},model:{value:t.dataForm.ecmPortValue,callback:function(e){t.$set(t.dataForm,"ecmPortValue","string"==typeof e?e.trim():e)},expression:"dataForm.ecmPortValue"}}),t._v(" "),a("p",{staticClass:"scope"},[t._v("取值范围1~65535")])],1),t._v(" "),a("el-form-item",{staticClass:"elbWay",attrs:{label:"负载方式 ：",prop:"elbWay"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.dataForm.elbWay,callback:function(e){t.$set(t.dataForm,"elbWay",e)},expression:"dataForm.elbWay"}},t._l(t.elbWayOption,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}))],1),t._v(" "),a("el-form-item",{staticClass:"textArea",attrs:{label:"描述 ：",prop:"textArea"}},[a("el-input",{attrs:{type:"textarea",rows:3,placeholder:"请输入内容"},model:{value:t.dataForm.textArea,callback:function(e){t.$set(t.dataForm,"textArea","string"==typeof e?e.trim():e)},expression:"dataForm.textArea"}})],1),t._v(" "),a("el-form-item",{staticClass:"healthCheck",attrs:{label:"健康检查 ：",prop:"healthCheck",required:""}},[a("el-switch",{attrs:{"active-color":"#56d6c4"},model:{value:t.dataForm.healthCheck,callback:function(e){t.$set(t.dataForm,"healthCheck",e)},expression:"dataForm.healthCheck"}})],1),t._v(" "),a("el-form-item",{staticClass:"intervalTime threshold",attrs:{label:"间隔时间（秒） ：",prop:"intervalTime"}},[a("el-input",{attrs:{type:"age"},model:{value:t.dataForm.intervalTime,callback:function(e){t.$set(t.dataForm,"intervalTime","string"==typeof e?e.trim():e)},expression:"dataForm.intervalTime"}}),t._v(" "),a("p",{staticClass:"scope"},[t._v("取值范围1~20940")])],1),t._v(" "),a("el-form-item",{staticClass:"intervalTime timeout",attrs:{label:"超时时间（秒） ：",prop:"timeout"}},[a("el-input",{attrs:{type:"age"},model:{value:t.dataForm.timeout,callback:function(e){t.$set(t.dataForm,"timeout","string"==typeof e?e.trim():e)},expression:"dataForm.timeout"}}),t._v(" "),a("p",{staticClass:"scope"},[t._v("取值范围2~60")])],1),t._v(" "),a("el-form-item",{staticClass:"intervalTime threshold",attrs:{label:"健康阙值 ：",prop:"threshold"}},[a("el-input",{attrs:{type:"age"},model:{value:t.dataForm.threshold,callback:function(e){t.$set(t.dataForm,"threshold","string"==typeof e?e.trim():e)},expression:"dataForm.threshold"}}),t._v(" "),a("p",{staticClass:"scope"},[t._v("取值范围1~10")])],1),t._v(" "),a("el-form-item",{staticClass:"intervalTime unThreshold",attrs:{label:"不健康阙值 ：",prop:"unThreshold"}},[a("el-input",{attrs:{type:"age"},model:{value:t.dataForm.unThreshold,callback:function(e){t.$set(t.dataForm,"unThreshold","string"==typeof e?e.trim():e)},expression:"dataForm.unThreshold"}}),t._v(" "),a("p",{staticClass:"scope"},[t._v("取值范围1~10")])],1),t._v(" "),a("el-form-item",{staticClass:"path",attrs:{label:"检查路径：",prop:"path"}},[a("el-input",{model:{value:t.dataForm.path,callback:function(e){t.$set(t.dataForm,"path","string"==typeof e?e.trim():e)},expression:"dataForm.path"}}),t._v(" "),a("p",{staticClass:"scope"},[t._v("长度范围1~80")])],1)],1)],1)},staticRenderFns:[]};var Tr=a("VU/8")(xr,Dr,!1,function(t){a("W4bX")},null,null).exports,Ir={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"backHost"})},staticRenderFns:[]};var Sr=a("VU/8")({data:function(){return{}}},Ir,!1,function(t){a("xRXf")},null,null).exports,Er={components:{ConsoleSearch:ge,MonitorAction:Tr,ElbBackHost:Sr},data:function(){var t=this;return{loading:!1,monitorList:[{elbProtocol:"2016-05-03",name:"王小虎",ecmProtocol:"上海",healthCheck:"普陀区",status:"error",state:"error",Dstrategy:"上海市普陀区金沙江路 1518 弄",Number:200333},{elbProtocol:"2016-05-02",name:"王小虎",ecmProtocol:"上海",healthCheck:"普陀区",status:"error",state:"error",Dstrategy:"上海市普陀区金沙江路 1518 弄",Number:200333}],tableOptions:[{prop:"name",label:u.common.name,temp:!0,detail:!0},{prop:"elbProtocol",label:u.elb.elbProtocol},{prop:"ecmProtocol",label:u.elb.ecmProtocol},{prop:"healthCheck",label:u.elb.healthCheck},{prop:"Dstrategy",label:u.elb.Dstrategy},{prop:"status",label:u.common.status,temp:!0,status:!0},{prop:"Number",label:u.elb.Number},{prop:"ecmNumber",label:u.elb.ecmNumber}],detilOptions:[{prop:"name",label:u.common.name},{prop:"volumename",label:u.bks.diskName},{prop:"id",label:u.common.ID}],monitorOperation:[{value:u.elb.modification,fun:function(e){return t.modification(e)}},{value:u.bks.deleter,fun:function(e){return t.deleter(e)}}]}},methods:{buttonClick:function(t,e){t(e)},addMonitor:function(){var t={data:{option:"",title:"添加监听器",actionTip:"",data:"",optionsValue:""},view:Tr,form:{}};this.$alertDialog(t).then(function(t){console.log(t)})},modification:function(){},deleter:function(){}},computed:{changeRowSty:function(t,e){return{background:"#f0f2f7"}},changethSty:function(t,e){return{background:"#f0f2f7",color:"#333333","font-size":"12px","font-weight":"600"}}}},Or={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"elb_monitor"},[a("div",{staticClass:"topTilte"},[a("el-row",[a("el-col",{attrs:{span:14}},[a("div",{staticClass:"quota"},[t._v("您还可以创建10个监听器")])]),t._v(" "),a("el-col",{attrs:{span:10}},[a("span",{staticClass:"btns_basic",on:{click:t.addMonitor}},[t._v("添加监听器")])])],1)],1),t._v(" "),a("div",{staticClass:"content"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:t.monitorList,border:!0,"tooltip-effect":"dark","header-row-style":t.changeRowSty,"header-cell-style":t.changethSty}},[a("el-table-column",{attrs:{type:"expand"},scopedSlots:t._u([{key:"default",fn:function(t){return[a("ElbBackHost")]}}])}),t._v(" "),t._l(t.tableOptions,function(t,e){return a("el-table-column",{key:e,attrs:{prop:t.prop,label:t.label,width:t.width,"show-overflow-tooltip":!0}})}),t._v(" "),a("el-table-column",{attrs:{label:"操作",width:100},scopedSlots:t._u([{key:"default",fn:function(e){return t._l(t.monitorOperation,function(i,n){return a("el-button",{key:n,attrs:{type:"text"},on:{click:function(a){t.click(i.fun,e.row)}}},[t._v(t._s(i.value))])})}}])})],2)],1)])},staticRenderFns:[]};var Fr={components:{ConsoleTable:Te,ConsoleDetail:Ia,DetailTab:Mi,ElbDetailMonitor:a("VU/8")(Er,Or,!1,function(t){a("vd32")},null,null).exports},data:function(){return{checkBox:!0,selectOrNot:!0,operationOrNot:!0,attachPoint:Y,attachShow:!0,detail_label:"负载均衡",detail_image:a("a0l7"),currentView:"ElbDetailMonitor",serverId:"",elbId:"",elbDetailData:[],elbDataList:[],detailList:[{name:"name",label:u.common.name,intro:"--"},{name:"vpcid",label:u.elb.belongsToVpcId,intro:"--"},{name:"vpcname",label:u.elb.belongsToVpcName,intro:"--"},{name:"serviceAddress",label:u.elb.serviceAddress,intro:"--"},{name:"subnet",label:u.vpc.subnet,intro:"--"},{name:"chargeMode",label:u.common.chargeMode,intro:"--"},{name:"createAt",label:u.common.createAt,intro:"--"},{name:"bw",label:u.vpc.bw,intro:"--"}],btnMsg:[],tabOption:[{label:"监听器",name:"ElbDetailMonitor",view:""}]}},methods:{refresh:function(t){},swtichTab:function(t){this.currentView=t.name},GetElbDetail:function(t,e){var a,i,n=this,s=this.detailList;(a=t,i={regionid:F(),ipaddress:a},Ct({url:"/console/network/loadbalancer/",method:"get",params:i})).then(function(t){var e=t.data.results[0];e.name=e.name||"--",e.createAt=e.create_date?Ce(e.create_date):"--",s.map(function(t){"ims"!=t.name&&(t.intro=e[t.name])}),n.detail_label=e.name}).catch(function(t){console.log(t)})}},created:function(){this.GetElbDetail(this.$route.params.serverId)}},Lr={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"box main"},[e("ConsoleDetail",{attrs:{detail_label:this.detail_label,detail_image:this.detail_image,detailList:this.detailList,btnMsg:this.btnMsg,elbshow:!0}}),this._v(" "),e("detail-tab",{attrs:{tabOption:this.tabOption},on:{click:this.swtichTab}},[e("div",{attrs:{slot:this.currentView},slot:this.currentView},[e(this.currentView,{tag:"component",on:{AttachRefresh:this.refresh}})],1)])],1)},staticRenderFns:[]};var Pr={path:"/elb",name:"elb",component:j,redirect:"/elb/ElbList",children:[{path:"elbList",name:"elbList",component:br},{path:"elbDetail/:serverId",name:"elbDetail",component:a("VU/8")(Fr,Lr,!1,function(t){a("8ASg"),a("/903")},"data-v-6a0a3e65",null).exports,meta:{dependOn:"elbSub"}},{path:"elbCreate",name:"elbCreate",component:kr,meta:{dependOn:"elbSub"}}]},Nr={data:function(){return{city:"guangzhou",tableData:Array(5).fill({date:"2016-05-02",name:"王小虎",address:"上海市普陀区金沙江路 1518 弄"}),type:"1",date:"",typeLst:[{value:"1",label:"类型1"},{value:"2",label:"类型2"},{value:"3",label:"类型3"}]}}},$r={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"logContent"},[a("el-container",[a("el-header",{staticClass:"content_bg",attrs:{height:"100px"}},[a("div",{staticClass:"contentInfo"},[a("div",{staticClass:"contentLeft"},[a("h4",{staticClass:"botton_15"},[t._v("所有日志")]),t._v(" "),a("el-radio-group",{attrs:{size:"mini",fill:"#f9cd76"},model:{value:t.city,callback:function(e){t.city=e},expression:"city"}},[a("el-radio-button",{staticClass:"radio-group-btn",attrs:{label:"guangzhou"}},[t._v("广州（3）")]),t._v(" "),a("el-radio-button",{staticClass:"radio-group-btn",attrs:{label:"shanxi"}},[t._v("陕西（0）")]),t._v(" "),a("el-radio-button",{staticClass:"radio-group-btn",attrs:{label:"beijing"}},[t._v("北京（5）")]),t._v(" "),a("el-radio-button",{staticClass:"radio-group-btn",attrs:{label:"hunan"}},[t._v("湖南（1）")]),t._v(" "),a("el-radio-button",{staticClass:"radio-group-btn",attrs:{label:"chengdu"}},[t._v("贵州（1）")]),t._v(" "),a("el-radio-button",{staticClass:"radio-group-btn",attrs:{label:"shanghai"}},[t._v("上海（2）")]),t._v(" "),a("el-radio-button",{staticClass:"radio-group-btn",attrs:{label:"wulu"}},[t._v("乌鲁木齐（2）")])],1)],1),t._v(" "),a("div",{staticClass:"contentRight"},[a("el-button",{attrs:{type:"primary"}},[a("router-link",{attrs:{to:"/logReport"}},[t._v("日志报表")])],1)],1)])]),t._v(" "),a("el-main",{staticClass:"content_bg top_10"},[a("div",{staticClass:"logTableHeader"},[a("el-select",{attrs:{size:"small",placeholder:"类型"},model:{value:t.type,callback:function(e){t.type=e},expression:"type"}},t._l(t.typeLst,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),t._v(" "),a("el-date-picker",{attrs:{type:"date",placeholder:"选择日期","default-value":"2010-10-01",size:"small"},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}}),t._v(" "),a("el-button",{attrs:{type:"primary",size:"small"}},[t._v("搜索")])],1),t._v(" "),a("el-table",{attrs:{data:t.tableData,headerCellClassName:"tableHeaderbg"}},[a("el-table-column",{attrs:{prop:"date",label:"时间",width:"140",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"类型",width:"120",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"状态",width:"120",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"操作人",width:"120",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"address",label:"描述",align:"center"}})],1),t._v(" "),a("el-pagination",{staticClass:"paging",attrs:{background:"",layout:"prev, pager, next",total:1e3}})],1)],1)],1)},staticRenderFns:[]};var Rr={data:function(){return{city:"guangzhou",tableData:Array(5).fill({date:"2016-05-02",name:"王小虎",address:"上海市普陀区金沙江路 1518 弄"}),type:"1",date:"",typeLst:[{value:"1",label:"类型1"},{value:"2",label:"类型2"},{value:"3",label:"类型3"}]}}},zr={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"logContent"},[a("el-container",[a("el-header",{staticClass:"content_bg",attrs:{height:"100px"}},[a("div",{staticClass:"contentInfo"},[a("div",{staticClass:"contentLeft"},[a("h4",{staticClass:"botton_15"},[t._v("日志报表")]),t._v(" "),a("el-radio-group",{attrs:{size:"mini",fill:"#f9cd76"},model:{value:t.city,callback:function(e){t.city=e},expression:"city"}},[a("el-radio-button",{staticClass:"radio-group-btn",attrs:{label:"guangzhou"}},[t._v("广州（3）")]),t._v(" "),a("el-radio-button",{staticClass:"radio-group-btn",attrs:{label:"shanxi"}},[t._v("陕西（0）")]),t._v(" "),a("el-radio-button",{staticClass:"radio-group-btn",attrs:{label:"beijing"}},[t._v("北京（5）")]),t._v(" "),a("el-radio-button",{staticClass:"radio-group-btn",attrs:{label:"hunan"}},[t._v("湖南（1）")]),t._v(" "),a("el-radio-button",{staticClass:"radio-group-btn",attrs:{label:"chengdu"}},[t._v("贵州（1）")]),t._v(" "),a("el-radio-button",{staticClass:"radio-group-btn",attrs:{label:"shanghai"}},[t._v("上海（2）")]),t._v(" "),a("el-radio-button",{staticClass:"radio-group-btn",attrs:{label:"wulu"}},[t._v("乌鲁木齐（2）")])],1)],1)])]),t._v(" "),a("el-main",{staticClass:"content_bg top_10"},[a("div",{staticClass:"logTableHeader"},[a("el-select",{attrs:{size:"small",placeholder:"类型"},model:{value:t.type,callback:function(e){t.type=e},expression:"type"}},t._l(t.typeLst,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),t._v(" "),a("el-date-picker",{attrs:{type:"date",placeholder:"选择日期","default-value":"2010-10-01",size:"small"},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}}),t._v(" "),a("el-button",{attrs:{type:"primary",size:"small"}},[t._v("搜索")])],1),t._v(" "),a("el-table",{attrs:{data:t.tableData,headerCellClassName:"tableHeaderbg"}},[a("el-table-column",{attrs:{prop:"name",label:"类型",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"操作",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"总数(次)",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"address",label:"操作人",align:"center"}})],1),t._v(" "),a("el-pagination",{staticClass:"paging",attrs:{background:"",layout:"prev, pager, next",total:1e3}})],1)],1)],1)},staticRenderFns:[]};var Ar={path:"/log",name:"log",component:j,redirect:"/log/allLog",children:[{path:"allLog",name:"allLog",component:a("VU/8")(Nr,$r,!1,function(t){a("Waud")},null,null).exports},{path:"logReport",name:"logReport",component:a("VU/8")(Rr,zr,!1,function(t){a("YCMu")},null,null).exports}]};function Mr(t){return t.regionid||(t.regionid=F()),Ct({url:"console/pay/orderlist/",method:"get",params:t})}function Vr(t){return t.regionid||(t.regionid=F()),Ct({url:"console/ecm/ecs/renew/",method:"post",data:t})}var Br={components:{ConsoleTable:Te},data:function(){var t=this;return{loading:!1,Pagination:{pagingData:[5,10,15],total:0,show:!0},filter:{pageSize:5,page:1,orderType:"",productType:"",state:"",createDate:""},tableData:[],type:"1",productList:[{value:"",label:"所有产品"},{value:"CVM",label:"云服务器"},{value:"CSTO",label:"云存储"},{value:"CNET",label:"云网络"}],productInfoList:[{value:"1",label:"所有产品明细"}],orderTypeList:[{value:"",label:"所有订单类型"},{value:"2HA",label:"订购"},{value:"2HB",label:"升级"},{value:"2HC",label:"退订"},{value:"2HD",label:"续订"},{value:"2HE",label:"添加硬盘"}],payStateList:[{value:"",label:"支付状态"},{value:"27A",label:"处理中"},{value:"27B",label:"已就绪(未激活)"},{value:"27C",label:"待审批"},{value:"27D",label:"预受理"},{value:"27E",label:"已注销"},{value:"27F",label:"已生效(已激活)"},{value:"27G",label:"已取消"},{value:"27Z",label:"异常"}],tableOptions:[{prop:"serial_number",label:"订单号",temp:!0,detail:!0,path:"orderInfo",key:"serial_number"},{prop:"product_type_str",label:"产品"},{prop:"order_type_str",label:"类型"},{prop:"create_date",label:"创建时间"},{prop:"state_str",label:"状态"},{prop:"price",label:"价格"}],ebsOperation:[{value:"详情",fun:function(e){return t.details(e)}}]}},methods:{tableHeaderbg:function(t){console.log(t,"123")},pagingChange:function(t,e){"num"==t?this.filter.pageSize=e:"page"==t&&(this.filter.page=e),this.getOrderLists()},getOrderLists:function(t){var e=this;this.loading=!0,Mr(this.filter).then(function(t){200==t.status&&(e.tableData=t.data.returnObj.orders,e.Pagination.total=t.data.returnObj.count),e.loading=!1},function(t){e.loading=!1,console.log("获取订单列表error")})},details:function(t){this.$router.push("/cost/orderInfo/"+t.serial_number)},pay:function(t){},toVoid:function(t){},options_callback:function(t,e){t(e)}},mounted:function(){this.getOrderLists(this.filter)}},jr={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"orderContent"},[a("el-container",[a("el-header",{attrs:{height:"80px"}},[a("h4",{staticClass:"botton_15 top_10"},[t._v("订单列表")]),t._v(" "),a("div",{},[a("el-select",{staticStyle:{width:"150px"},attrs:{size:"small",placeholder:"类型"},on:{change:t.getOrderLists},model:{value:t.filter.productType,callback:function(e){t.$set(t.filter,"productType",e)},expression:"filter.productType"}},t._l(t.productList,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),t._v(" "),a("el-select",{staticStyle:{width:"180px"},attrs:{size:"small",placeholder:"类型"},on:{change:t.getOrderLists},model:{value:t.type,callback:function(e){t.type=e},expression:"type"}},t._l(t.productInfoList,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),t._v(" "),a("el-select",{staticStyle:{width:"180px"},attrs:{size:"small",placeholder:"类型"},on:{change:t.getOrderLists},model:{value:t.filter.orderType,callback:function(e){t.$set(t.filter,"orderType",e)},expression:"filter.orderType"}},t._l(t.orderTypeList,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),t._v(" "),a("el-select",{staticStyle:{width:"150px"},attrs:{size:"small",placeholder:"类型"},on:{change:t.getOrderLists},model:{value:t.filter.state,callback:function(e){t.$set(t.filter,"state",e)},expression:"filter.state"}},t._l(t.payStateList,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),t._v(" "),a("el-date-picker",{staticStyle:{width:"200px"},attrs:{placeholder:"选择日期","value-format":"yyyy-MM-dd",size:"small"},model:{value:t.filter.createDate,callback:function(e){t.$set(t.filter,"createDate",e)},expression:"filter.createDate"}}),t._v(" "),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(e){e.stopPropagation(),t.getOrderLists(e)}}},[t._v("搜索")]),t._v(" "),a("el-button",{staticClass:"right",attrs:{type:"primary",size:"small"}},[t._v("导出订单")])],1)]),t._v(" "),a("el-main",[a("ConsoleTable",{attrs:{operationOrNot:!0,selectOrNot:!0,tableData:t.tableData,tableOptions:t.tableOptions,OperationEvents:t.ebsOperation,loading:t.loading,Pagination:t.Pagination},on:{pagingEvent:t.pagingChange,buttonClick:t.options_callback}})],1)],1)],1)},staticRenderFns:[]};var qr=a("VU/8")(Br,jr,!1,function(t){a("7QmV")},"data-v-933eea22",null).exports,Ur={components:{ConsoleConfirm:fi},data:function(){return{tableData:{system_name:"北京资源池",elseData:[],tableOptions:[{prop:"length",label:u.ebs.length},{prop:"cost",label:"费用"},{prop:"num",label:u.ebs.Number},{prop:"total",label:u.ebs.totalPrice}]},order_id:"",orderData:{}}},methods:{getOrderInfo:function(){var t=this;Mr({keyword:this.order_id}).then(function(e){console.log(e),200==e.status&&(t.orderData=e.data.returnObj.orders[0],t.tableData.elseData.push({length:"5",cost:"¥23.6/小时",num:"9",total:"￥"+t.orderData.price,system_type:t.orderData.product_type_str,confirmData:[{label:"CPU",value:"4核"},{label:"内存",value:"4GB"},{label:"系统盘",value:"100GB"},{label:"数据盘总和",value:"200GB"},{label:"操作系统",value:"windows/64位"}]}))},function(t){console.log(t)})},returnList:function(){this.$router.push("/cost/order")}},mounted:function(){this.order_id=this.$route.params.orderId,this.getOrderInfo()}},Hr={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"orderInfo"},[a("el-container",[a("el-main",[a("h4",{staticClass:"p_b_20"},[t._v("订单编号  "+t._s(t.order_id))]),t._v(" "),a("div",{staticClass:"tab_content p_b_20"},[a("div",{staticClass:"tab_title"},[t._v("订单概要")]),t._v(" "),a("div",{staticClass:"tab_content_row"},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:8}},[a("div",{staticClass:"grid-content bg-purple f_z_12 p_l_30"},[a("label",[t._v("订单编号：")]),t._v(" "),a("span",[t._v(t._s(t.order_id))])])]),t._v(" "),a("el-col",{attrs:{span:8}},[a("div",{staticClass:"grid-content bg-purple f_z_12"},[a("label",[t._v("创建时间：")]),t._v(" "),a("span",[t._v(t._s(t.orderData.create_date))])])]),t._v(" "),a("el-col",{attrs:{span:8}},[a("div",{staticClass:"grid-content bg-purple f_z_12"},[a("label",[t._v("支付时间：")]),t._v(" "),a("span",[t._v(t._s(t.orderData.eff_date))])])])],1)],1),t._v(" "),a("div",{staticClass:"tab_content_row"},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:8}},[a("div",{staticClass:"grid-content bg-purple f_z_12 p_l_30"},[a("label",[t._v("支付状态：")]),t._v(" "),a("span",{staticClass:"state_c"},[t._v(t._s(t.orderData.state_str))])])])],1)],1),t._v(" "),a("div")]),t._v(" "),a("div",{staticClass:"tab_content"},[a("div",{staticClass:"tab_title tab_title_border_b"},[t._v("订单详情")]),t._v(" "),a("ConsoleConfirm",{attrs:{tableData:t.tableData}})],1)])],1),t._v(" "),a("div",{staticClass:"return"},[a("el-button",{attrs:{plain:"",size:"small"},on:{click:function(e){e.stopPropagation(),t.returnList(e)}}},[t._v("返回订单列表")])],1)],1)},staticRenderFns:[]};var Wr=a("VU/8")(Ur,Hr,!1,function(t){a("k/ad"),a("wenA")},"data-v-36889a1f",null).exports,Gr={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"bill"},[a("el-container",[a("el-header",{staticClass:"content_bg",attrs:{height:"100px"}},[a("div",{staticClass:"contentInfo"},[a("h4",{staticClass:"botton_15 top_10"},[t._v("已出账单")]),t._v(" "),a("el-radio-group",{attrs:{size:"mini",fill:"#f9cd76"},model:{value:t.year,callback:function(e){t.year=e},expression:"year"}},[a("el-radio-button",{staticClass:"radio-group-btn",attrs:{label:"2017"}},[t._v("2017年")]),t._v(" "),a("el-radio-button",{staticClass:"radio-group-btn",attrs:{label:"2016"}},[t._v("2016年")]),t._v(" "),a("el-radio-button",{staticClass:"radio-group-btn",attrs:{label:"2015"}},[t._v("2015年")]),t._v(" "),a("el-radio-button",{staticClass:"radio-group-btn",attrs:{label:"2014"}},[t._v("2014年")])],1)],1)]),t._v(" "),a("div",{staticClass:"item_list"},t._l(t.temp,function(e,i){return a("el-row",{key:i},[a("el-col",{attrs:{span:24}},[a("div",{staticClass:"grid-content bg-purple-dark"},[a("div",{staticClass:"month"},[a("div",{staticClass:"month_border"},[t._v("\n\t\t\t  \t\t\t\t12月\n\t\t\t  \t\t\t")])]),t._v(" "),a("div",{staticClass:"info"},[a("div",{staticClass:"info_row"},[t._v("账单地址：新疆博乐博州五台工业区（湖北工业园）管理委员会")]),t._v(" "),a("div",{staticClass:"info_row"},[t._v("账单时间：2017-12-26 13:23")]),t._v(" "),a("div",[t._v("金额："),a("span",{staticClass:"money"},[t._v("¥1184.4")])])]),t._v(" "),a("div",{staticClass:"btns"},[a("el-button",{attrs:{size:"mini",icon:"el-icon-printer"}},[t._v("打印")]),t._v(" "),a("el-button",{attrs:{size:"mini",icon:"el-icon-message"}},[t._v("邮件")]),t._v(" "),a("el-button",{attrs:{size:"mini",icon:"el-icon-tickets"}},[t._v("查看明细")])],1)])])],1)}))],1)],1)},staticRenderFns:[]};var Qr=a("VU/8")({data:function(){return{year:2017,temp:3}}},Gr,!1,function(t){a("z+0B"),a("wD20")},"data-v-75203a5e",null).exports,Zr={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"billInfo"},[a("el-container",[a("el-header",{attrs:{height:"100px"}},[a("h4",{staticClass:"bill_info_title"},[t._v("账单明细")]),t._v(" "),a("div",{staticClass:"bill_info_tip"},[t._v("2017年11月明细查询，费用小记：10元（不足1小时按一小时计，小于10分钟不计费）")]),t._v(" "),a("el-date-picker",{attrs:{type:"date",placeholder:"选择日期","default-value":"2010-10-01",size:"small"},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}}),t._v(" "),a("el-button",{attrs:{type:"primary",size:"small"}},[t._v("搜索")]),t._v(" "),a("el-button",{staticClass:"right",attrs:{type:"primary",size:"small"}},[t._v("打印本月账单明细")])],1),t._v(" "),a("el-main",[a("el-table",{attrs:{data:t.tableData,headerCellClassName:"tableHeaderbg",emptyText:t.emptyText}},[a("el-table-column",{attrs:{prop:"name",label:"资源",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"使用量",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"费用",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"address",label:"使用时段",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"address",label:"账单说明",align:"center"}})],1)],1)],1)],1)},staticRenderFns:[]};var Jr=a("VU/8")({data:function(){return{date:"",emptyText:"账单数据未生成",tableData:[]}}},Zr,!1,function(t){a("PvF2")},null,null).exports,Kr={props:{dataList:{type:Object,default:{}}},data:function(){return{submit:!0,renewTime:"1m",cycleType:"M",cycleCnt:"1",so_number:"-",new_second_number:5,checkedAgreement:!1,renewTimes:[{name:"1月",value:"1m"},{name:"2月",value:"2m"},{name:"3月",value:"3m"},{name:"4月",value:"4m"},{name:"5月",value:"5m"},{name:"6月",value:"6m"},{name:"7月",value:"7m"},{name:"8月",value:"8m"},{name:"9月",value:"9m"},{name:"10月",value:"10m"},{name:"11月",value:"11m"},{name:"1年",value:"1y"},{name:"2年",value:"2y"},{name:"3年",value:"3y"}]}},methods:{renew_btn:function(){var t=this,e=this.$loading({lock:!0,text:"拼命续费中",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});Vr({id:[this.dataList.id],cycleType:this.cycleType,cycleCnt:this.cycleCnt}).then(function(a){e.close(),console.log(a),200==a.status?(t.so_number=a.data.returnObj.so_number,t.submit=!t.submit,t.timerOut()):t.$message({showClose:!0,message:a.data.reason||a.data.msg||"续费失败，请稍后重试",type:"error"})},function(a){e.close(),console.log(a),t.$message({showClose:!0,message:"续费失败，请联系管理员",type:"error"})})},returnUrl:function(){console.log("asdas"),this.$emit("callback")},timerOut:function(){var t=this;this.timer=setTimeout(function(){1===t.new_second_number?t.returnUrl():(t.new_second_number--,t.timerOut())},1e3)}},mounted:function(){console.log(this.dataList)},computed:{new_expire_date:function(){var t=parseInt(this.renewTime),e=new Date(this.dataList.expire_date);return-1!==this.renewTime.indexOf("y")?(e.setYear(e.getFullYear()+t),this.cycleType="Y"):(e.setMonth(e.getMonth()+t),this.cycleType="M"),this.cycleCnt=t,e.Format("yyyy-MM-dd hh:mm:ss")}}},Yr={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"renewInfo"},[t.submit?a("el-container",[a("el-main",[a("h4",{staticClass:"renew_info_title"},[t._v(t._s(t.dataList.titleName))]),t._v(" "),a("div",{staticClass:"renew_info_details"},[a("el-row",{staticClass:"border_bottom"},[a("el-col",{attrs:{span:12}},[a("div",{staticClass:"grid-content font_14_3"},[t._v("\n\t\t\t\t  \t\t实例名称："+t._s(t.dataList.name)+"\n\t\t\t\t  \t")])]),t._v(" "),a("el-col",{attrs:{span:12}},[a("div",{staticClass:"grid-content right"},[a("i",{staticClass:"el-icon-time time_color"}),t._v(" "),a("label",{staticClass:"font_14_6"},[t._v("到期时间：")]),t._v(" "),a("span",{staticClass:"time_color"},[t._v(t._s(t.dataList.expire_date))])])])],1),t._v(" "),a("el-row",t._l(t.dataList.nodeList,function(e,i){return a("el-col",{key:i,attrs:{span:8}},[a("div",{staticClass:"grid-content font_12"},[a("span",{staticClass:"color_6"},[t._v(t._s(e.title)+"：")]),t._v(" "),a("span",{staticClass:"color_3"},[t._v(t._s(e.value))])])])}))],1),t._v(" "),a("div",{staticClass:"ECSrenew_row"},[a("label",{staticClass:"color_3 font_12"},[t._v("续费时长：")]),t._v(" "),a("el-radio-group",{attrs:{size:"mini",fill:"#f9cd76"},model:{value:t.renewTime,callback:function(e){t.renewTime=e},expression:"renewTime"}},t._l(t.renewTimes,function(e,i){return a("el-radio-button",{key:i,staticClass:"radio-group-btn",attrs:{label:e.value}},[t._v(t._s(e.name))])}))],1),t._v(" "),a("div",{staticClass:"ECSrenew_row"},[a("label",{staticClass:"color_3 font_12"},[t._v("续费后到期时间：")]),t._v(" "),a("span",{staticClass:"span_color font_12",staticStyle:{"font-weight":"bold"}},[t._v(t._s(t.new_expire_date))])]),t._v(" "),a("div",{staticClass:"ECSrenew_row"},[a("label",{staticClass:"YaHei_14_3"},[t._v("配置费用：")]),t._v(" "),a("span",{staticClass:"pay_style"},[t._v("¥601.80")])]),t._v(" "),a("div",{staticClass:"ECSrenew_row font_12"},[t._v("续费价格按照基础带宽进行计算")]),t._v(" "),a("div",{staticClass:"ECSrenew_row"},[a("el-checkbox",{model:{value:t.checkedAgreement,callback:function(e){t.checkedAgreement=e},expression:"checkedAgreement"}},[t._v("我已经阅读并同意相关协议")]),t._v(" "),a("a",{staticClass:"agreement",attrs:{href:"http://www.ctyun.cn/term/ecs",target:"_blank"}},[t._v("《弹性公网IP服务协议》")])],1),t._v(" "),a("el-button",{staticClass:"payment_btn",attrs:{type:"primary",size:"small",disabled:!t.checkedAgreement},on:{click:function(e){e.stopPropagation(),t.renew_btn(e)}}},[t._v("去支付")])],1)],1):t._e(),t._v(" "),t.submit?t._e():a("div",{staticClass:"success_content"},[a("div",{staticClass:"success_component"},[t._m(0),t._v(" "),a("div",[a("div",{staticClass:"create_state div_left"},[t._v("ECS续费成功")]),t._v(" "),a("div",{staticClass:"div_left"},[a("span",[t._v("订单编号：")]),t._v(" "),a("span",[t._v(t._s(t.so_number))])]),t._v(" "),t._e(),t._v(" "),a("div",{staticClass:"reback_msg div_left"},[t._v("页面将于"+t._s(t.new_second_number)+"秒内返回"),a("span",{staticClass:"timer"},[t._v(t._s(t.new_second_number))])]),t._v(" "),a("div",{staticClass:"return_btn div_left"},[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(e){e.stopPropagation(),t.returnUrl(e)}}},[t._v("返回")])],1)])])])],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"success_icon"},[e("i",{staticClass:"el-icon-circle-check"})])}]};var Xr=a("VU/8")(Kr,Yr,!1,function(t){a("1Bxz"),a("gxt6")},"data-v-9a1f1346",null).exports,tl={props:{dataList:{type:Array,default:{}}},data:function(){return{submit:!0,checkedAgreement:!1,objStyle:{color:"#333",fontWeight:"bold"},new_second_number:5,renewTime:"1y",cycleType:"Y",cycleCnt:1,so_number:"-",tableData:[],nodeIdList:[],renewTimes:[{name:"1月",value:"1m"},{name:"2月",value:"2m"},{name:"3月",value:"3m"},{name:"4月",value:"4m"},{name:"5月",value:"5m"},{name:"6月",value:"6m"},{name:"7月",value:"7m"},{name:"8月",value:"8m"},{name:"9月",value:"9m"},{name:"10月",value:"10m"},{name:"11月",value:"11m"},{name:"1年",value:"1y"},{name:"2年",value:"2y"},{name:"3年",value:"3y"}]}},methods:{submitPay:function(){var t=this,e=this.$loading({lock:!0,text:"拼命续费中",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});Vr({id:this.nodeIdList,cycleType:this.cycleType,cycleCnt:this.cycleCnt}).then(function(a){console.log(a),e.close(),200==a.status?(t.so_number=a.data.returnObj.so_number,t.submit=!t.submit,t.timerOut()):t.$message({showClose:!0,message:a.data.reason||a.data.msg||"批量续费失败，请稍后重试",type:"error"})},function(a){e.close(),console.log(a),t.$message({showClose:!0,message:"批量续费失败，请联系管理员",type:"error"})})},returnUrl:function(){this.$emit("callback")},changeRenewTime:function(t){var e=parseInt(t),a="";-1!==t.indexOf("y")?(a="年",this.cycleType="Y"):(a="月",this.cycleType="M"),this.cycleCnt=e,this.tableData.map(function(t,i,n){var s=new Date(t.expire_date);"年"==a?s.setYear(s.getFullYear()+e):s.setMonth(s.getMonth()+e),t.renew_cycle=e+a,t.renew_expire_date=s.Format("yyyy-MM-dd hh:mm")})},remove:function(t){this.tableData.splice(t,1),this.nodeIdList.splice(t,1),0==this.tableData.length&&this.$emit("callback")},timerOut:function(){var t=this;this.timer=setTimeout(function(){1===t.new_second_number?t.returnUrl():(t.new_second_number--,t.timerOut())},1e3)}},mounted:function(){var t=this;this.dataList.map(function(e,a,i){t.nodeIdList.push(e.id);var n=new Date(e.expire_date);n.setYear(n.getFullYear()+1),t.tableData.push({name:e.displayname,dc_name:e.dc_name,ipaddress:e.nic[0].ipaddress||"未绑定",publicip:e.publicip||"未绑定",cup:"1",mem:"1",bandwidth:10,renew_cycle:"1年",expire_date:new Date(e.expire_date).Format("yyyy-MM-dd hh:mm"),renew_expire_date:n.Format("yyyy-MM-dd hh:mm"),total_price:"¥592.40"})}),this.timer&&clearTimeout(this.timer)},computed:{}},el={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"ECSbatchRenew"},[a("div",{staticClass:"stepBox"},[a("div",{staticClass:"step_title"},[t._v("ECS批量续费")]),t._v(" "),a("el-row",{},[a("el-col",{attrs:{span:12}},[a("div",{staticClass:"grid-content bg-purple steptitle_active"},[t._v("确认续费订单")]),t._v(" "),a("i",{staticClass:"step_line step_active"})]),t._v(" "),a("el-col",{attrs:{span:12}},[a("div",{staticClass:"grid-content bg-purple",class:{steptitle_active:!t.submit}},[t._v("提交")]),t._v(" "),a("i",{staticClass:"step_line",class:{step_active:!t.submit}})])],1)],1),t._v(" "),t.submit?a("div",{staticClass:"submit_content content"},[a("div",{staticClass:"order_title"},[t._v("订单详情")]),t._v(" "),a("el-table",{staticStyle:{width:"100%","margin-top":"20px"},attrs:{data:t.tableData,size:"mini","header-cell-style":t.objStyle}},[a("el-table-column",{attrs:{label:"实力名称&节点",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",[t._v(t._s(e.row.name))]),t._v(" "),a("div",[t._v(t._s(e.row.dc_name))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"公网／内网IP"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",[t._v("公网："+t._s(e.row.publicip))]),t._v(" "),a("div",[t._v("内网："+t._s(e.row.ipaddress))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"配置",width:"300"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",[a("label",{staticClass:"config_title"},[t._v("CPU：")]),a("span",[t._v(t._s(e.row.cup)+"核")]),t._v(" "),a("label",{staticClass:"config_title"},[t._v("内存：")]),a("span",[t._v(t._s(e.row.mem)+"GB")]),t._v(" "),a("label",{staticClass:"config_title"},[t._v("基础带宽：")]),a("span",[t._v(t._s(e.row.bandwidth)+"Mbps")])])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"renew_cycle",label:"续费周期"}}),t._v(" "),a("el-table-column",{attrs:{label:"详细时间"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",[t._v(t._s(e.row.expire_date)+" 至")]),t._v(" "),a("div",[t._v(t._s(e.row.renew_expire_date))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"总价",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticClass:"yellow_color"},[t._v(t._s(e.row.total_price))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){a.stopPropagation(),t.remove(e.$index)}}},[t._v("移除")])]}}])})],1),t._v(" "),a("div",{staticClass:"renew_row"},[a("label",{staticClass:"color_3 font_12"},[t._v("续费时长：")]),t._v(" "),a("el-radio-group",{attrs:{size:"mini",fill:"#f9cd76"},on:{change:t.changeRenewTime},model:{value:t.renewTime,callback:function(e){t.renewTime=e},expression:"renewTime"}},t._l(t.renewTimes,function(e,i){return a("el-radio-button",{key:i,staticClass:"radio-group-btn",attrs:{label:e.value}},[t._v(t._s(e.name))])}))],1),t._v(" "),t._m(0),t._v(" "),a("div",{staticClass:"agreement_row"},[a("el-checkbox",{model:{value:t.checkedAgreement,callback:function(e){t.checkedAgreement=e},expression:"checkedAgreement"}},[t._v("我已经阅读并同意相关协议")]),t._v(" "),a("a",{staticClass:"agreement",attrs:{href:"http://www.ctyun.cn/term/ecs",target:"_blank"}},[t._v("《弹性云主机服务协议》")])],1),t._v(" "),a("el-button",{staticClass:"payment_btn",attrs:{type:"primary",size:"small",disabled:!t.checkedAgreement},on:{click:t.submitPay}},[t._v("去支付")])],1):t._e(),t._v(" "),t.submit?t._e():a("div",{staticClass:"success_content "},[a("div",{staticClass:"success_component"},[t._m(1),t._v(" "),a("div",[a("div",{staticClass:"create_state div_left"},[t._v("ECS批量续费成功")]),t._v(" "),a("div",{staticClass:"div_left"},[a("span",[t._v("订单编号：")]),t._v(" "),a("span",[t._v(t._s(t.so_number))])]),t._v(" "),t._e(),t._v(" "),a("div",{staticClass:"reback_msg div_left"},[t._v("页面将于"+t._s(t.new_second_number)+"秒内返回"),a("span",{staticClass:"timer"},[t._v(t._s(t.new_second_number))])]),t._v(" "),a("div",{staticClass:"return_btn div_left"},[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(e){e.stopPropagation(),t.returnUrl(e)}}},[t._v("返回")])],1)])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"pay_row"},[e("label",{staticClass:"YaHei_14_3"},[this._v("应付款：")]),this._v(" "),e("span",{staticClass:"pay_style"},[this._v("¥601.80")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"success_icon"},[e("i",{staticClass:"el-icon-circle-check"})])}]};var al={components:{ConsoleTable:Te,ecsRenew:Xr,ecsBatchRenew:a("VU/8")(tl,el,!1,function(t){a("mNVO"),a("O3cX")},"data-v-670fd505",null).exports},data:function(){var t=this;return{isShowEcs:!1,isShowBatchEcs:!1,tableData:[],nodeItem:{},type:"",node:"",loading:!1,checkData:[],Pagination:{pagingData:[5,10,15],total:0,show:!0},nodeList:[{uuid:"",name:"全部节点"}],exampleList:[{value:"",label:"实例ID"}],filter:{limit:5,page:1,regionid:"",zoneid:"",list_all:1,expire_time:"",id:""},tableOptions:[{prop:"displayname",label:"实例名称",temp:!0,btn:!0,fun:function(e){return t.renew(e)}},{prop:"dc_name",label:"节点"},{prop:"publicip",label:"公网IP",isEmpty:!0,empty_st:"未绑定"},{prop:"nic[0].ipaddress",label:"内网IP",isIpaddress:!0,empty_st:"未绑定"},{prop:"expire_date",label:"产品到期时间"},{prop:"expire_days",label:"倒计时",companyDay:!0,company_st:"天"},{prop:"state",label:"自动续费／续费周期",width:150,replace:!0}],ebsOperation:[{value:"续费",fun:function(e){return t.renew(e)}},{value:"开通自动续费",fun:function(e){return t.autoRenew(e)}}]}},methods:{pagingChange:function(t,e){"num"==t?this.filter.limit=e:"page"==t&&(this.filter.page=e),this.getEcsServerData()},getEcsServerData:function(){var t,e=this;this.loading=!0,(t=this.filter,Ct({url:"console/ecm/ecs/servers/",method:"get",params:t})).then(function(t){console.log(t),200==t.status&&(e.tableData=t.data.results,e.Pagination.total=t.data.total_count),e.loading=!1},function(t){e.loading=!1,console.log("获取云服务续费列表错误")})},renew:function(t){this.nodeItem={titleName:"云服务器当前配置",name:t.displayname,expire_date:t.expire_date,id:t.id,nodeList:[{title:"实例ID",value:t.id},{title:"网络类型",value:"专用网络"},{title:"系统盘",value:t.memory+"GB"},{title:"地域",value:t.dc_name},{title:"交换机",value:"dads/dsfsd"},{title:"操作系统",value:t.templatename},{title:"付费类型",value:"包年包月"},{title:"内网IP",value:t.nic[0].ipaddress},{title:"数据盘",value:"无"},{title:"实例规格",value:"无"},{title:"公网IP",value:t.publicip}]},this.isShowEcs=!0},autoRenew:function(t){console.log(t)},batchRenew:function(){0==this.checkData.length?this.$message({showClose:!0,message:"请选择批量续费的云服务器",type:"warning"}):this.isShowBatchEcs=!0},renewCallback:function(){this.isShowEcs=!1,this.getEcsServerData()},batchRenewCallback:function(){this.isShowBatchEcs=!1,this.checkData=[],this.getEcsServerData()},options_callback:function(t,e){t(e)},changeTable:function(t){this.checkData=t},nodeChange:function(t){if(""==t)this.filter.list_all=1;else{var e=this._.find(this.nodeList,{uuid:t});this.filter.regionid=e.uuid,this.filter.zoneid=e.zoneid,this.filter.list_all=void 0}this.getEcsServerData()},search:function(){""==this.id?this.filter.list_all=1:this.filter.list_all=void 0,this.getEcsServerData()}},mounted:function(){this.nodeList=this.nodeList.concat(this.$store.state.user.regionList),this.filter.regionid=this.nodeList[1].uuid,this.getEcsServerData()}},il={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"billInfo"},[t.isShowEcs||t.isShowBatchEcs?t._e():a("el-container",[a("el-header",{attrs:{height:"80px"}},[a("h4",{staticClass:"bill_info_title"},[t._v("云服务器续费")]),t._v(" "),a("el-date-picker",{staticStyle:{width:"200px"},attrs:{placeholder:"选择日期","value-format":"yyyy-MM-dd",size:"small"},model:{value:t.filter.expire_time,callback:function(e){t.$set(t.filter,"expire_time",e)},expression:"filter.expire_time"}}),t._v(" "),a("el-select",{staticStyle:{width:"150px"},attrs:{size:"small",placeholder:"节点"},on:{change:t.nodeChange},model:{value:t.node,callback:function(e){t.node=e},expression:"node"}},t._l(t.nodeList,function(t){return a("el-option",{key:t.uuid,attrs:{label:t.name,value:t.uuid}})})),t._v(" "),a("el-select",{staticStyle:{width:"100px"},attrs:{size:"small",placeholder:"类型"},model:{value:t.type,callback:function(e){t.type=e},expression:"type"}},t._l(t.exampleList,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),t._v(" "),a("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"输入实例ID精确查找",size:"small"},model:{value:t.filter.id,callback:function(e){t.$set(t.filter,"id",e)},expression:"filter.id"}}),t._v(" "),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(e){e.stopPropagation(),t.search(e)}}},[t._v("搜索")]),t._v(" "),a("el-button",{staticClass:"right",attrs:{type:"primary",size:"small"}},[t._v("导出续费清单")]),t._v(" "),a("el-button",{staticClass:"right",attrs:{size:"small"},on:{click:function(e){e.stopPropagation(),t.batchRenew(e)}}},[t._v("批量续费")])],1),t._v(" "),a("el-main",[a("ConsoleTable",{attrs:{checkBox:!0,operationOrNot:!0,selectOrNot:!0,tableData:t.tableData,tableOptions:t.tableOptions,OperationEvents:t.ebsOperation,loading:t.loading,Pagination:t.Pagination},on:{pagingEvent:t.pagingChange,buttonClick:t.options_callback,changeTable:t.changeTable}})],1)],1),t._v(" "),t.isShowEcs?a("ecsRenew",{attrs:{dataList:t.nodeItem},on:{callback:t.renewCallback}}):t._e(),t._v(" "),t.isShowBatchEcs?a("ecsBatchRenew",{attrs:{dataList:t.checkData},on:{callback:t.batchRenewCallback}}):t._e()],1)},staticRenderFns:[]};var nl={components:{ConsoleTable:Te,ecsRenew:Xr},data:function(){var t=this;return{msg:"12345",inputType:"",selectVal:"ip",isShowEcs:!1,tableData:[],checkData:[],loading:!1,Pagination:{pagingData:[5,10,15],total:0,show:!0},tableOptions:[{prop:"ipaddress",label:"公网IP"},{prop:"state",label:"状态"},{prop:"vpcname",label:"已绑定主机名称"},{prop:"networkrate",label:"宽带大小（Mbps）"},{prop:"expire_date",label:"到期时间"},{prop:"zonename",label:"倒计时"}],ebsOperation:[{value:"续费",fun:function(e){return t.renew(e)}}],nodeItem:{},filter:{limit:5,page:1,regionid:"sjif259a8d3011e7aebb005056aaa8be",zoneid:"",list_all:1,expire_time:"",id:""}}},methods:{getIpServerData:function(){var t,e=this;this.loading=!0,(t=this.filter,t.regionid||(t.regionid=F()),Ct({url:"console/network/eipsdata/",method:"get",params:t})).then(function(t){console.log(t,"sdafghjk"),200==t.status&&(e.tableData=t.data.results,e.Pagination.total=t.data.total_count),e.loading=!1},function(t){e.loading=!1,console.log("获取公网IP续费列表错误")})},pagingChange:function(t,e){"num"==t?this.filter.limit=e:"page"==t&&(this.filter.page=e),this.getIpServerData()},options_callback:function(t,e){t(e)},renew:function(t){console.log(t),this.nodeItem={titleName:"弹性公网IP当前配置",name:t.vpcname,expire_date:"2018-06-10 12:40:32",nodeList:[{title:"实例ID",value:"wesdfgh234erty"},{title:"线路类型",value:"BGP（多线）"},{title:"购买时常",value:"1个月"},{title:"地域",value:"北京资源池"},{title:"网络类型",value:"公网"},{title:"操作系统",value:"windows/64"}]},this.isShowEcs=!0},renewCallback:function(){this.isShowEcs=!1,this.getIpServerData()},changeTable:function(t){this.checkData=t}},mounted:function(){this.getIpServerData()}},sl={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"ip_renew"},[t.isShowEcs?t._e():a("el-container",[a("el-header",{attrs:{height:"80px"}},[a("h4",{staticClass:"bill_info_title"},[t._v("弹性IP续费")]),t._v(" "),a("el-date-picker",{staticStyle:{width:"200px"},attrs:{placeholder:"选择日期","value-format":"yyyy-MM-dd",size:"small"},model:{value:t.filter.expire_time,callback:function(e){t.$set(t.filter,"expire_time",e)},expression:"filter.expire_time"}}),t._v(" "),a("div",{staticClass:"ip_search"},[a("el-input",{staticClass:"input-with-select",staticStyle:{width:"350px"},attrs:{placeholder:"请输入内容",size:"small"},model:{value:t.inputType,callback:function(e){t.inputType=e},expression:"inputType"}},[a("el-select",{attrs:{slot:"prepend",placeholder:"请选择"},slot:"prepend",model:{value:t.selectVal,callback:function(e){t.selectVal=e},expression:"selectVal"}},[a("el-option",{attrs:{label:"公网IP",value:"ip"}}),t._v(" "),a("el-option",{attrs:{label:"ID",value:"id"}})],1),t._v(" "),a("el-button",{attrs:{slot:"append",icon:"el-icon-search"},slot:"append"})],1)],1),t._v(" "),a("el-button",{staticClass:"right",attrs:{type:"primary",size:"small"}},[t._v("导出续费清单")])],1),t._v(" "),a("el-main",[a("ConsoleTable",{attrs:{checkBox:!0,operationOrNot:!0,selectOrNot:!0,tableData:t.tableData,tableOptions:t.tableOptions,OperationEvents:t.ebsOperation,loading:t.loading,Pagination:t.Pagination},on:{pagingEvent:t.pagingChange,buttonClick:t.options_callback,changeTable:t.changeTable}})],1)],1),t._v(" "),t.isShowEcs?a("ecsRenew",{attrs:{dataList:t.nodeItem}}):t._e()],1)},staticRenderFns:[]};var ol={path:"/cost",name:"cost",component:j,redirect:"/cost/order",children:[{path:"order",name:"order",component:qr},{path:"bill",name:"bill",component:Qr},{path:"billInfo",name:"billInfo",component:Jr},{path:"renew",name:"renew",component:a("VU/8")(al,il,!1,function(t){a("wXBK")},"data-v-f7d73a48",null).exports},{path:"EipRenew",name:"EipRenew",component:a("VU/8")(nl,sl,!1,function(t){a("EvWS"),a("QAQk")},"data-v-3da515e8",null).exports},{path:"orderInfo/:orderId",name:"orderInfo",component:Wr}]},rl=a("jVjw"),ll=a.n(rl),cl=bt()({data:function(){return{msg:"用户中心",user:{},userBig:ll.a,password_strength:"",editModule:!1,userType:"personal",userInfo:{company:{userType:[{label:"登录账号",id:"account",value:"--",span:24},{label:"公司名称",id:"company_name",value:"--"},{label:"公司类型",id:"company_type",value:"--"},{label:"账号ID",id:"account_id",value:"--"},{label:"注册时间",id:"create_date",value:"--"}],userInfo:[{label:"负责人",id:"customer_name",value:"--"},{label:"性别",id:"sex",value:"--"},{label:"注册邮箱",id:"email",value:"--"},{label:"手机号码",id:"mobile",value:"--"},{label:"联系地址",id:"address",value:"--"}]},personal:{userType:[{label:"姓名",id:"name",value:"--"},{label:"用户名",id:"customer_name",value:"--"},{label:"公司名称",id:"company_name",value:"--"},{label:"注册邮箱",id:"email",value:"--"},{label:"手机号码",id:"phone",value:"--"},{label:"联系地址",id:"address",value:"--"}]}},tipList:[{status:!0,value:"邮箱提醒"},{status:!0,value:"短信提醒"},{status:!1,value:"微信提醒"}]}},methods:{},computed:{userItems:function(){var t=this;return this.userInfo[this.userType].userType.map(function(e){e.value=t.user[e.id]||"--"}),this.userInfo[this.userType]}},created:function(){this.user=this.$store.state.user.user,this.password_strength=this.user.password_strength,console.log(this.user)}},"methods",{editImg:function(){console.log("修改头像")},editPwd:function(){console.log("修改密码"),this.$router.push("/user/userInfo/editPwd")},editInfo:function(){console.log("修改信息")}}),ul={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main"},[a("el-row",{staticClass:"user-title-row"},[a("el-col",[a("div",{staticClass:"user-title"},[t._v("\n\t\t\t\t基本信息\n\t\t\t")])])],1),t._v(" "),a("el-row",{staticClass:"border-bottom"},[a("el-col",{staticClass:"user-type-title",attrs:{span:22}},[a("span",{staticClass:"user-title"},[t._v("账号类型 ")]),t._v(" "),a("span",{staticClass:"user-type-vip"},[a("svg-icon",{staticStyle:{"margin-right":"5px","font-size":"14px"},attrs:{"icon-class":"vip"}}),t._v("\n\t\t\t\t\t"+t._s(t.userItems.userInfo?"VIP企业客户":"VIP用户")+"\n\t\t\t\t")],1)]),t._v(" "),t.editModule?a("el-col",{staticClass:"editInfo",attrs:{span:2}},[a("svg-icon",{attrs:{"icon-class":"edit"}}),t._v(" "),a("el-button",{attrs:{type:"text"},on:{click:t.editInfo}},[t._v("\n\t\t\t\t修改信息\n\t\t\t")])],1):t._e()],1),t._v(" "),a("el-row",{staticClass:"user-type"},[a("el-col",{attrs:{span:4}},[a("div",{staticClass:"user-img"},[a("img",{attrs:{src:t.userBig}})]),t._v(" "),t.editModule?a("div",{staticClass:"user-type-editImg"},[a("el-button",{attrs:{type:"text"},on:{click:t.editImg}},[t._v("\n\t\t\t\t\t修改头像\n\t\t\t\t")])],1):t._e()]),t._v(" "),a("el-col",{staticClass:"user-type-items",attrs:{span:20}},t._l(t.userItems.userType,function(e,i){return a("el-col",{key:e.label,staticClass:"user-type-item",attrs:{span:e.span||12}},[t._v("\n\t\t\t\t"+t._s(e.label)+" : "+t._s(e.value)+"\n\t\t\t")])}))],1),t._v(" "),t.userItems.userInfo?a("el-row",{staticClass:"border-bottom"},[a("el-col",{staticClass:"user-title",attrs:{span:22}},[t._v("\n\t\t\t负责人信息 \n\t\t")]),t._v(" "),t.editModule?a("el-col",{staticClass:"editInfo",attrs:{span:2}},[a("svg-icon",{attrs:{"icon-class":"edit"}}),t._v(" "),a("el-button",{attrs:{type:"text"},on:{click:t.editInfo}},[t._v("\n\t\t\t\t修改信息\n\t\t\t")])],1):t._e()],1):t._e(),t._v(" "),t.userItems.userInfo?a("el-row",{staticClass:"user-info"},t._l(t.userItems.userInfo,function(e){return a("el-col",{key:e.label,staticClass:"user-info-item",attrs:{span:12}},[t._v("\n\t\t\t"+t._s(e.label)+" : "+t._s(e.value)+"\n\t\t")])})):t._e(),t._v(" "),a("el-row",{staticClass:"border-bottom"},[a("el-col",{staticClass:"user-title"},[t._v("\n\t\t\t登录密码\n\t\t")])],1),t._v(" "),a("el-row",{staticClass:"pwdRow"},[a("el-col",{staticClass:"pwdInfo"},[a("div",[t._v("\n\t\t\t\t当前密码强度\n\t\t\t")]),t._v(" "),a("div",{staticClass:"pwdProgress"},[a("el-progress",{attrs:{percentage:t.password_strength?100:20,status:t.password_strength?"success":"exception"}})],1),t._v(" "),a("div",[a("el-button",{staticClass:"editButton",attrs:{type:"text"},on:{click:t.editPwd}},[t._v("\n\t\t\t\t\t修改密码\n\t\t\t\t")])],1)]),t._v(" "),a("el-col",{staticClass:"pwdTip"},[t._v("\n\t\t\t备注：安全性高的密码可以使账号更安全，建议您定期更换密码，设置一个包含英文字母（区分大小写）、符号和数字且长度为8-20位的密码。\n\t\t")])],1),t._v(" "),t.editModule?a("el-row",{staticClass:"border-bottom"},[a("el-col",{staticClass:"user-title",attrs:{span:22}},[t._v("\n\t\t\t提醒设置 \n\t\t")]),t._v(" "),a("el-col",{staticClass:"editInfo",attrs:{span:2}},[a("svg-icon",{attrs:{"icon-class":"edit"}}),t._v(" "),a("el-button",{attrs:{type:"text"}},[t._v("\n\t\t\t\t设置提醒\n\t\t\t")])],1)],1):t._e(),t._v(" "),t.editModule?a("el-row",{staticClass:"pwdRow"},[a("el-col",[t._v("\n\t\t\t提醒方式：\n\t\t\t"),t._l(t.tipList,function(e){return a("span",{staticClass:"tipSetting"},[e.status?a("svg-icon",{class:e.status?"correct":"error",attrs:{"icon-class":"correctInCircle"}}):t._e(),t._v(" "),e.status?t._e():a("svg-icon",{class:e.status?"correct":"error",attrs:{"icon-class":"error"}},[t._v(">")]),t._v("\n\t\t\t\t"+t._s(e.value)+"\n\t\t\t")],1)})],2),t._v(" "),a("el-col",{staticClass:"pwdTip"},[t._v("\n\t\t\t备注：开通提醒设置后会以相应方式发送提醒信息至预留账户。\n\t\t")])],1):t._e()],1)},staticRenderFns:[]};var dl=a("VU/8")(cl,ul,!1,function(t){a("Phjo")},"data-v-2f7892b8",null).exports,pl={render:function(){var t=this.$createElement;return(this._self._c||t)("div",[this._v("\n\t"+this._s(this.msg)+"\n")])},staticRenderFns:[]};var ml=a("VU/8")({data:function(){return{msg:"修改资料"}}},pl,!1,function(t){a("oMaD")},null,null).exports,hl={render:function(){var t=this.$createElement;return(this._self._c||t)("div",[this._v("\n\t"+this._s(this.msg)+"\n")])},staticRenderFns:[]};var fl=a("VU/8")({data:function(){return{msg:"实名认证"}}},hl,!1,function(t){a("3Din")},null,null).exports,vl={render:function(){var t=this.$createElement;return(this._self._c||t)("div",[this._v("\n\t"+this._s(this.msg)+"\n")])},staticRenderFns:[]};var gl=a("VU/8")({data:function(){return{msg:"提醒设置"}}},vl,!1,function(t){a("brcG")},null,null).exports,bl={components:{DetailBtn:Pa},props:{nextBtn:[Array,Object],stepValues:[Array]},data:function(){return{active:0,defaultValue:[{title:"步骤1"},{title:"步骤2"},{title:"步骤3"}],btnsMsg:[{value:"下一步",fun:"dianjixiayibu"}]}},methods:{next:function(t){return t?(this.active=t,this.active):(this.active>=2?this.active=0:this.active++,console.log(this.active),this.active)},validate:function(){this.$emit("validate")}},computed:{btnMsg:function(){return this.nextBtn||this.btnsMsg},stepValue:function(){return this.stepValues||this.defaultValue}}},_l={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"console-progress"},[a("el-row",{staticClass:"progress-content"},t._l(t.stepValue,function(e,i){return a("el-col",{key:i,staticClass:"console-step",class:{"console-active":i<=t.active},attrs:{span:24/t.stepValue.length}},[a("div",{staticClass:"step-title"},[t._v("\n\t\t\t\t\t"+t._s(e.title)+"\n\t\t\t\t")]),t._v(" "),a("span",{staticClass:"step-progress"},[t._v("\n\t\t\t\t\t"+t._s(i+1)+"\n\t\t\t\t")]),t._v(" "),a("span",{staticClass:"step-line"}),t._v(" "),a("span",{staticClass:"step-line2"})])})),t._v(" "),a("el-row",{staticClass:"progress-form"},[t._t("formContent")],2),t._v(" "),a("el-row",[a("div",{staticClass:"console-btn"},[a("DetailBtn",{attrs:{btnMsg:t.btnMsg},on:{deatilBtnClick:t.validate}})],1)])],1)},staticRenderFns:[]};var yl={components:{ConsoleProgress:a("VU/8")(bl,_l,!1,function(t){a("pJMe")},"data-v-6905ac23",null).exports},data:function(){var t=this,e=this;return{active:0,oldPwdSuccess:!1,newPwdSuccess:!1,formShow:!0,autoRefresh:!1,interval:5,loading:!1,changePwdSuc:!1,passGrade:0,pwd:{oldPwd:"",newPwd1:"",newPwd2:""},btnMsg:[{value:"下一步",fun:"dianjixiayibu"}],loginBtn:[{value:"登录",fun:function(){return t.login()}}],rebackBtn:[{value:"返回",fun:function(){return t.login()}}],stepValues:[{title:"验证身份"},{title:"修改密码"},{title:"完成"}],rules:{oldPwd:[{validator:function(t,e,a){if(e){var i={password:e,regionid:F()};(n=i.password,s=i.regionid,Ct({url:"/console/api/adminorder/verfiypassword/",method:"post",data:{password:n,regionid:s}})).then(function(t){console.log(t.data),"400"==t.data.returnCode?a(new Error("密码不正确")):"800"==t.data.returnCode&&a()}).catch(function(t){a(new Error("密码验证失败"))})}else a(new Error("密码不能为空"));var n,s},trigger:"blur"},{required:!0,message:"请输入旧密码",trigger:"blur"}],newPwd1:[{validator:function(t,a,i){if(a)if(a.length<8||a.length>20)i(new Error("密码长度在8-20位之间"));else{var n=Ze(a,8);e.passGrade=n,n>2?i():i(new Error("密码强度较低，请重新输入"))}else i(new Error("密码不能为空"))},trigger:"blur,change"},{required:!0,message:"不能为空1",trigger:"blur"},{min:8,max:20,message:"在8-20位之间",trigger:"change"}],newPwd2:[{validator:function(e,a,i){""==a?i(new Error("请再次输入密码")):a!=t.pwd.newPwd1?i(new Error("两次密码不一致")):i()},trigger:"blur"},{required:!0,message:"不能为空2",trigger:"blur"}]}}},computed:{nextBtn:function(){return this.formShow?this.btnMsg:this.changePwdSuc?this.loginBtn:this.rebackBtn}},methods:{next:function(){this.formShow?(console.log(this.formShow),this.validaForm("pwd")):this.changePwdSuc?this.login():this.reback()},fadeOut:function(){var t=this;this.$store.dispatch("FedLogOut").then(function(){t.timeOut()})},timeOut:function(){if(!this.autoRefresh){var t=this;setTimeout(function(){t.interval--<=1?t.changePwdSuc?location.href="/logout":t.reback():t.timeOut()},1e3)}},login:function(){this.$router.push("/login")},reback:function(){this.$router.push("/user/userInfo")},validaForm:function(t){var e=this;this.$refs[t].validate(function(t){if(t)if(2==e.$refs.progress.next()){var a=e.$loading({lock:!0,text:"正在修改密码，请稍后",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"}),i={pwdStrength:"strong",password:e.pwd.oldPwd,newpasswd:e.pwd.newPwd2};(n=i,Ct({url:"console/api/adminorder/changepasswd/",method:"post",params:{regionid:"all"},data:n})).then(function(t){a.close(),e.changePwdSuc=!0,e.formShow=!1,e.fadeOut()}).catch(function(t){a.close(),"pw400"==t.response.data.errstatus?e.$refs.progress.next(1):(e.formShow=!1,e.timeOut()),console.log(t.response)})}else e.oldPwdSuccess=!0,e.newPwdSuccess=!0;var n})}},beforeDestroy:function(){this.autoRefresh=!0}},wl={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"editTemp"},[a("el-row",{staticClass:"editemp-padding"}),t._v(" "),a("el-row",[a("el-col",[a("el-row",{staticClass:"editemp-step"},[a("el-col",[a("ConsoleProgress",{ref:"progress",attrs:{nextBtn:t.nextBtn,stepValues:t.stepValues},on:{validate:t.next}},[a("div",{staticClass:"formContent",attrs:{slot:"formContent"},slot:"formContent"},[t.formShow?a("el-form",{ref:"pwd",attrs:{model:t.pwd,"label-width":"90px",rules:t.rules,size:"mini"}},[t.oldPwdSuccess?t._e():a("el-form-item",{attrs:{label:"旧密码 :",prop:"oldPwd"}},[a("el-input",{attrs:{type:"password","auto-complete":"off",placeholder:"请输入旧密码"},model:{value:t.pwd.oldPwd,callback:function(e){t.$set(t.pwd,"oldPwd",e)},expression:"pwd.oldPwd"}})],1),t._v(" "),t.newPwdSuccess?a("el-form-item",{attrs:{label:"新密码 :",prop:"newPwd1"}},[a("el-input",{attrs:{type:"password"},model:{value:t.pwd.newPwd1,callback:function(e){t.$set(t.pwd,"newPwd1",e)},expression:"pwd.newPwd1"}}),t._v(" "),a("div",{staticClass:"passGrade"},[a("span",{staticClass:"infoTip"},[t._v("安全等级")]),t._v(" "),a("span",{staticClass:"gradeTabs"},[a("span",{staticClass:"gradeTab",class:{passSimple:t.passGrade>0}}),t._v(" "),a("span",{staticClass:"gradeTab",class:{passModerate:t.passGrade>1}}),t._v(" "),a("span",{staticClass:"gradeTab",class:{passComplex:t.passGrade>2}})])])],1):t._e(),t._v(" "),t.newPwdSuccess?a("el-form-item",{staticClass:"pwd-tip"},[t._v("\n\t\t\t\t\t\t\t\t\t密码必须为8-20位英文（区分大小写）、数字和符号的组合，不能是纯数字或字母\n\t\t\t\t\t\t\t\t")]):t._e(),t._v(" "),t.newPwdSuccess?a("el-form-item",{attrs:{label:"确认密码 :",prop:"newPwd2"}},[a("el-input",{attrs:{type:"password"},model:{value:t.pwd.newPwd2,callback:function(e){t.$set(t.pwd,"newPwd2",e)},expression:"pwd.newPwd2"}})],1):t._e()],1):t._e(),t._v(" "),t.formShow?t._e():a("div",{staticClass:"form-tip",attrs:{loading:t.loading}},[t.changePwdSuc?a("div",[a("p",{staticClass:"form-tip-title"},[a("svg-icon",{staticClass:"form-submit-success",attrs:{"icon-class":"created"}}),t._v("\n\t\t\t\t\t\t\t\t\t\t密码更换成功")],1),t._v(" "),a("p",[t._v("页面将于"),a("span",{staticClass:"form-tip-interval"},[t._v(t._s(t.interval||0))]),t._v(" 秒后返回登录界面")])]):t._e(),t._v(" "),t.changePwdSuc?t._e():a("div",[a("p",{staticClass:"form-tip-title"},[a("svg-icon",{staticClass:"form-submit-error",attrs:{"icon-class":"error"}}),t._v("\n\t\t\t\t\t\t\t\t\t\t密码更换失败")],1),t._v(" "),a("p",[t._v("页面将于"),a("span",{staticClass:"form-tip-interval"},[t._v(t._s(t.interval||0))]),t._v("秒后返回")])])])],1)])],1)],1),t._v(" "),a("el-row")],1)],1)],1)},staticRenderFns:[]};var Cl={path:"/user",name:"user",component:j,redirect:"/user/userInfo",children:[{path:"userInfo",name:"userInfo",component:dl},{path:"editAccount",name:"editAccount",component:ml},{path:"certification",name:"certification",component:fl},{path:"infoAlert",name:"infoAlert",component:gl},{path:"userInfo/editPwd",name:"editPwd",component:a("VU/8")(yl,wl,!1,function(t){a("qneb"),a("UREB")},"data-v-361f89e0",null).exports}]},kl=a("mvHQ"),xl=a.n(kl),Dl={ecs:[{metric_name:"cpu_util",name:"CPU使用率",unit:"%"},{metric_name:"disk_read_bytes_rate",name:"磁盘读速率",unit:"Bps"},{metric_name:"disk_read_requests_rate",name:"磁盘读请求速率",unit:"count/s"},{metric_name:"disk_util_inband",name:"磁盘使用率",unit:"%"},{metric_name:"disk_write_bytes_rate",name:"磁盘写速率",unit:"Bps"},{metric_name:"disk_write_requests_rate",name:"磁盘写请求速率",unit:"count/s"},{metric_name:"mem_util",name:"内存使用率",unit:"%"},{metric_name:"network_incoming_bytes_rate_inband",name:"网络流入速率",unit:"Bps"},{metric_name:"network_outing_bytes_rate_inband",name:"网络流出速率",unit:"Bps"}],evs:[{metric_name:"disk_read_bytes_rate",name:"磁盘读速率",unit:"Bps"},{metric_name:"disk_read_requests_rate",name:"磁盘读请求速率",unit:"count/s"},{metric_name:"disk_write_bytes_rate",name:"磁盘写速率",unit:"Bps"},{metric_name:"disk_write_requests_rate",name:"磁盘写请求速率",unit:"count/s"}],hash:{cpu_util:"CPU使用率",disk_read_bytes_rate:"磁盘读速率",disk_read_requests_rate:"磁盘读请求速率",disk_util_inband:"磁盘使用率",disk_write_bytes_rate:"磁盘写速率",disk_write_requests_rate:"磁盘写请求速率",mem_util:"内存使用率",network_incoming_bytes_rate_inband:"网络流入速率",network_outing_bytes_rate_inband:"网络流出速率",avg:"平均值",max:"最大值",min:"最小值",var:"方差",ge:"≥",gt:">",le:"≤",lt:"<",eq:"=",5:"5分钟",20:"20分钟",60:"1小时",240:"4小时",720:"12小时",1440:"24小时"},hashUnit:{cpu_util:"%",disk_read_bytes_rate:"Bps",disk_read_requests_rate:"count/s",disk_util_inband:"%",disk_write_bytes_rate:"Bps",disk_write_requests_rate:"count/s",mem_util:"%",network_incoming_bytes_rate_inband:"Bps",network_outing_bytes_rate_inband:"Bps"}},Tl={times:[{name:"5分钟",value:5},{name:"20分钟",value:20},{name:"1小时",value:60},{name:"4小时",value:240},{name:"12小时",value:720},{name:"24小时",value:1440}],methods:[{name:"平均值",value:"avg"},{name:"最大值",value:"max"},{name:"最小值",value:"min"},{name:"方差",value:"var"}],operator:[{name:"≥",value:"ge"},{name:">",value:"gt"},{name:"≤",value:"le"},{name:"<",value:"lt"},{name:"=",value:"eq"}]},Il=[{name:"近1小时",value:1,time_range:"1h",index:5,defaultTime:"5分钟",cheDisabled:!1,times:[{name:"5分钟",value:5}]},{name:"近3小时",value:3,time_range:"3h",active:!0,index:5,defaultTime:"5分钟",cheDisabled:!1,times:[{name:"5分钟",value:5},{name:"20分钟",value:20}]},{name:"近12小时",value:12,time_range:"12h",index:20,defaultTime:"20分钟",cheDisabled:!1,times:[{name:"5分钟",value:5},{name:"20分钟",value:20},{name:"1小时",value:60}]},{name:"近24小时",value:24,time_range:"1d",index:60,defaultTime:"1小时",cheDisabled:!1,times:[{name:"5分钟",value:5},{name:"20分钟",value:20},{name:"1小时",value:60},{name:"4小时",value:240}]},{name:"近1周",value:168,time_range:"7d",index:240,defaultTime:"4小时",cheDisabled:!0,times:[{name:"1小时",value:60},{name:"4小时",value:240},{name:"12小时",value:720}]},{name:"近1月",value:720,time_range:"30d",index:1440,defaultTime:"24小时",cheDisabled:!0,times:[{name:"12小时",value:720},{name:"24小时",value:1440}]}],Sl=[{name:"云服务器",sub:[{name:"云服务器"}]},{name:"云硬盘",sub:[{name:"磁盘"}]}],El=a("Icdr");a("4UDB"),a("Oq2I");var Ol={props:{id:{type:String,default:"myChart"},width:{type:String,default:"300px"},height:{type:String,default:"300px"},monitorData:{type:Object,default:{metric_name:"------",data:{xAxis_data:[],chartData:[]},id:(new Date).getTime()+""}},isMax:{type:Boolean,default:!1},isCollect:{type:Boolean,default:!1}},data:function(){return{msg:"echarts",e_obj:{width:"300px",height:"300px"},myChart:"",_btnDatas:[],visible:!1,checkedOriginal:!0,disabledOriginal:!1,times:Il[1].times,methods:Tl.methods,form:{region:"shanghai"},params:{uuid:void 0,metric_name:this.monitorData.id,period:300,filter:"avg",time_range:"3h",time_from:void 0,time_till:void 0},pickerOptions2:{disabledDate:function(t){return t.getTime()<(new Date).getTime()-6048e5||t.getTime()>Date.now()},shortcuts:[{text:"最近一周",onClick:function(t){var e=new Date,a=new Date;a.setTime(a.getTime()-5184e5),t.$emit("pick",[a,e])}}]},value7:""}},created:function(){this.e_obj={width:this.width,height:this.height},this._btnDatas=Il},mounted:function(){this.myChart=El.init(document.getElementById(this.id)),this.$store.commit("ADD_ECHARTS",this.myChart),this.drawLine()},methods:{drawLine:function(){this.myChart.clear();var t=[],e=[];this.monitorData.series?(t=this.monitorData.series,e=this.monitorData.xAxis_data):(t.push({name:this.monitorData.metric_name,type:"line",smooth:!0,connectNulls:!0,data:this.monitorData.data.chartData}),e=this.monitorData.data.xAxis_data);var a={tooltip:{trigger:"axis",confine:!0,formatter:function(t){var e=[];return e.push(t[0].name+"<br />"),t.map(function(t,a,i){if(t.seriesName.indexOf("%")>-1)""===t.value||"无"===t.value||"-"===t.value?e.push(t.marker+t.seriesName+":-<br />"):e.push(t.marker+t.seriesName+":"+t.value+"%<br />");else if(t.seriesName.indexOf("Bps")>-1){var n="";n=""===t.value||"无"===t.value||"-"===t.value?"-":t.value<1?(1024*t.value).toFixed(2)+"Bps":1<=t.value&&t.value<1024?t.value.toFixed(2)+"KBps":1024<=t.value&&t.value<1048576?(t.value/1024).toFixed(2)+"MBps":(t.value/1048576).toFixed(2)+"1GBps",e.push(t.marker+t.seriesName+":"+n+"<br />")}else""===t.value||"无"===t.value||"-"===t.value?e.push(t.marker+t.seriesName+":-<br />"):e.push(t.marker+t.seriesName+":"+t.value+"<br />")}),e.join("")}},legend:{height:this.$refs.echarts.clientWidth,width:this.$refs.echarts.clientHeight},grid:{top:this.isMax?"120px":"80px",left:this.isMax?"5%":"3%",right:"4%",bottom:"3%",containLabel:!0},toolbox:{feature:{saveAsImage:{}}},xAxis:{type:"category",boundaryGap:!1,data:e},yAxis:{type:"value"},series:t,color:["#3dc7fa","#5de1c6","#9799f7","#f185f2","#fcb36d"]};this.myChart.setOption(a)},_maximization:function(t){this.$emit("maximization",t)},_minimization:function(){this.$emit("minimization")},del:function(){this.$emit("delItem")},update:function(){this.$emit("updateItem")},timeRangeChange:function(t){var e=this,a=this._.find(Il,{time_range:t});this.params.period=60*a.index,this.times=a.times,this.disabledOriginal=a.cheDisabled,this.checkedOriginal=!0,this.params.time_range=t,this.params.time_from=void 0,this.params.time_till=void 0,this.value7="",this.$emit("getMonitor",this.params,function(){e.drawLine()})},changeOriginal:function(t){console.log(t)},refresh:function(){var t=this,e=null;this.checkedOriginal?e=this.params:(e=JSON.parse(xl()(this.params))).period=60,this.$emit("getMonitor",e,function(){t.drawLine()})},dateChange:function(t){var e=this;t?(this.params.time_from=parseInt(t[0].getTime()/1e3),this.params.time_till=parseInt(t[1].getTime()/1e3),this.params.time_range=void 0,this.times=Il[4].times,this.disabledOriginal=Il[4].cheDisabled,this.params.period=60*Il[4].index,this.checkedOriginal=!0,this.$emit("getMonitor",this.params,function(){e.drawLine()})):(this.times=Il[1].times,this.disabledOriginal=Il[1].cheDisabled,this.params.time_range=Il[1].time_range,this.params.period=60*Il[1].index,this.checkedOriginal=!0,this.params.time_from=void 0,this.params.time_till=void 0,this.$emit("getMonitor",this.params,function(){e.drawLine()}))},setCallback:function(){var t=this;this.visible=!1;var e=null;this.checkedOriginal?e=this.params:(e=JSON.parse(xl()(this.params))).period=60,this.$emit("getMonitor",e,function(){t.drawLine()})}},computed:{maxVal:function(){if(this.monitorData.series)return"--";var t=xl()(this.monitorData.data.chartData).replace(/"无",/g,"").replace(/,"无"/g,"");return this._.max(JSON.parse(t))},minVal:function(){if(this.monitorData.series)return"--";var t=xl()(this.monitorData.data.chartData).replace(/"无",/g,"").replace(/,"无"/g,"");return this._.min(JSON.parse(t))}},watch:{"monitorData.series":function(t,e){t.length==JSON.parse(this.monitorData.content).length&&this.drawLine()}},beforeDestory:function(){console.log("销毁echart")},destoryed:function(){console.log("销毁echart-------")}},Fl={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"echarts",staticClass:"e-charts"},[a("el-popover",{ref:"popover5",attrs:{placement:"top",width:"200"},model:{value:t.visible,callback:function(e){t.visible=e},expression:"visible"}},[a("p",[t._v("聚合是云监控系统对原始采样数据按照不同的周期采取平均值、最大值、最小值、求和值、方差值计算的过程。")]),t._v(" "),a("el-checkbox",{attrs:{disabled:t.disabledOriginal},on:{change:t.changeOriginal},model:{value:t.checkedOriginal,callback:function(e){t.checkedOriginal=e},expression:"checkedOriginal"}},[t._v("聚合")]),t._v(" "),a("el-form",{ref:"form",attrs:{model:t.params,"label-width":"60px",size:"mini"}},[a("el-form-item",{attrs:{label:"周期",required:""}},[a("el-select",{attrs:{placeholder:"请选择周期",disabled:!t.checkedOriginal},model:{value:t.params.period,callback:function(e){t.$set(t.params,"period",e)},expression:"params.period"}},t._l(t.times,function(t,e){return a("el-option",{key:e,attrs:{label:t.name,value:60*t.value}})}))],1),t._v(" "),a("el-form-item",{attrs:{label:"方法",required:""}},[a("el-select",{attrs:{placeholder:"请选择方法",disabled:!t.checkedOriginal},model:{value:t.params.filter,callback:function(e){t.$set(t.params,"filter",e)},expression:"params.filter"}},t._l(t.methods,function(t,e){return a("el-option",{key:e,attrs:{label:t.name,value:t.value}})}))],1)],1),t._v(" "),a("div",{staticStyle:{"text-align":"right",margin:"0"}},[a("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(e){t.visible=!1}}},[t._v("取消")]),t._v(" "),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:t.setCallback}},[t._v("确定")])],1)],1),t._v(" "),a("div",{staticClass:"title"},[a("label",{staticClass:"title_name"},[t._v(t._s(t.monitorData.metric_name))]),t._v(" "),t.isMax?a("div",{staticClass:"btn f_right"},[t._e(),t._v(" "),a("el-button",{attrs:{type:"text",size:"medium"},on:{click:function(e){e.stopPropagation(),t.refresh(e)}}},[a("svg-icon",{attrs:{"icon-class":"m_refresh"}})],1),t._v(" "),a("el-button",{directives:[{name:"popover",rawName:"v-popover:popover5",arg:"popover5"}],attrs:{type:"text",size:"medium"}},[a("svg-icon",{attrs:{"icon-class":"m_set"}})],1),t._v(" "),a("el-button",{attrs:{type:"text",size:"medium"},on:{click:function(e){e.stopPropagation(),t._minimization(e)}}},[a("svg-icon",{attrs:{"icon-class":"m_retract"}})],1)],1):t.isCollect?a("div",{staticClass:"btn f_right"},[a("el-button",{attrs:{type:"text",size:"medium"},on:{click:function(e){e.stopPropagation(),t.del(e)}}},[a("svg-icon",{attrs:{"icon-class":"delete"}})],1),t._v(" "),a("el-button",{attrs:{type:"text",size:"medium"},on:{click:function(e){e.stopPropagation(),t.update(e)}}},[a("svg-icon",{attrs:{"icon-class":"m_set"}})],1),t._v(" "),a("el-button",{attrs:{type:"text",size:"medium"},on:{click:function(e){e.stopPropagation(),t._maximization(t.monitorData)}}},[a("svg-icon",{attrs:{"icon-class":"m_open"}})],1)],1):a("div",{staticClass:"btn f_right"},[t._e(),t._v(" "),a("el-button",{attrs:{type:"text",size:"medium"},on:{click:function(e){e.stopPropagation(),t._maximization(t.monitorData)}}},[a("svg-icon",{attrs:{"icon-class":"m_open"}})],1)],1),t._v(" "),a("el-row",["--"!=t.maxVal?a("el-col",{attrs:{span:8}},[a("div",{staticClass:"grid-content"},[a("div",{staticClass:"f_12_6 p_l_20 p_t_10"},[a("label",{staticClass:"val"},[t._v("最大值")]),a("label",{staticClass:"p_l_10 val"},[t._v("最小值")])]),t._v(" "),a("div",{staticClass:"f_16_e3 p_l_20 p_t_5"},[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:t.maxVal+"",placement:"top"}},[a("label",{staticClass:"val overflow"},[t._v(t._s(t.maxVal))])]),t._v(" "),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:t.minVal+"",placement:"top"}},[a("label",{staticClass:"p_l_10 val overflow"},[t._v(t._s(t.minVal))])])],1)])]):t._e(),t._v(" "),a("el-col",{attrs:{span:"--"!=t.maxVal?16:24}},[t.isMax?t._e():a("div",{staticClass:"grid-content location_info"},[a("i",{staticClass:"el-icon-location location_icon"}),t._v(t._s(t.monitorData.region_name||"---"))]),t._v(" "),t.isMax?a("div",{staticClass:"grid-content t_a_r"},[a("el-radio-group",{attrs:{size:"mini"},on:{change:t.timeRangeChange},model:{value:t.params.time_range,callback:function(e){t.$set(t.params,"time_range",e)},expression:"params.time_range"}},t._l(t._btnDatas,function(e,i){return a("el-radio-button",{key:i,attrs:{label:e.time_range}},[t._v(t._s(e.name))])}))],1):t._e(),t._v(" "),t.isMax?a("div",{staticClass:"p_t_5 t_a_r"},[a("label",{staticClass:"f_12_6"},[t._v("自定义时间段：")]),t._v(" "),a("el-date-picker",{attrs:{type:"daterange",align:"right","unlink-panels":"","range-separator":"-","start-placeholder":"开始日期","end-placeholder":"结束日期","picker-options":t.pickerOptions2,size:"mini"},on:{change:t.dateChange},model:{value:t.value7,callback:function(e){t.value7=e},expression:"value7"}})],1):t._e()])],1)],1),t._v(" "),a("div",{staticClass:"chart",attrs:{id:t.id}})],1)},staticRenderFns:[]};var Ll=a("VU/8")(Ol,Fl,!1,function(t){a("wbA/"),a("AhG5")},"data-v-996a43a4",null).exports,Pl={props:{radius:{type:Number,default:100},percent:{type:Number,default:0}},data:function(){return{dashArray:100*Math.PI}},computed:{dashOffset:function(){return(1-this.percent)*this.dashArray}}},Nl={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"progress-circle"},[e("svg",{attrs:{width:this.radius,height:this.radius,viewBox:"0 0 100 100",version:"1.1",xmlns:"http://www.w3.org/2000/svg"}},[e("circle",{staticClass:"progress-background",attrs:{r:"50",cx:"50",cy:"50",fill:"transparent"}}),this._v(" "),e("circle",{staticClass:"progress-bar",attrs:{r:"50",cx:"50",cy:"50",fill:"transparent","stroke-dasharray":this.dashArray,"stroke-dashoffset":this.dashOffset}})]),this._v(" "),this._t("default")],2)},staticRenderFns:[]};var $l={components:{echarts:Ll,progressCircle:a("VU/8")(Pl,Nl,!1,function(t){a("GpoE")},"data-v-f71eda1e",null).exports,MainRight:st},data:function(){return{msg:"云监控概览界面",radius:75,percent_cpu:.0384,percent_memory:.2803,percent_disk:.06,monitorData:{metric_name:"网络连接数",data:{xAxis_data:["周一","周二","周三","周四","周五","周六","周日"],chartData:[220,332,901,,1290,130,1320]},id:(new Date).getTime()},dashboarList:[{name:"云服务器",bg:"ecm",path:"/ecm/ecmList",id:"VM"},{name:"弹性负载均衡",bg:"elb",path:"/elb/elbList",id:"elbs"},{name:"云硬盘",bg:"ebs",path:"/ebs/ebsList",id:"Volume"}]}},mounted:function(){},methods:{},computed:{percentage_cpu:function(){return Math.round(1e4*this.percent_cpu)/100+"%"},percentage_memory:function(){return Math.round(1e4*this.percent_memory)/100+"%"},percentage_disk:function(){return Math.round(1e4*this.percent_disk)/100+"%"}}},Rl={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"monitor_overview"},[a("el-container",[a("el-main",{staticClass:"p_t_l_0"},[a("el-row",{attrs:{gutter:20}},t._l(t.dashboarList,function(e){return a("el-col",{key:e.bg,staticClass:"monitor-product",attrs:{span:8}},[a("router-link",{staticClass:"grid-content bg-purple server m_b_20",attrs:{tag:"div",to:e.path}},[a("div",{staticClass:"monitor-product-grid"},[a("i",{staticClass:"dashboar_icon monitor-product-grid-icon",class:"monitor-img-"+e.bg}),t._v(" "),a("label",{staticClass:"monitor-product-grid-title"},[t._v(t._s(e.name))]),t._v(" "),a("span",{staticClass:"monitor-product-grid-number"},[t._v("\n\t\t\t\t\t\t\t\t"+t._s(e.num||0)+"\n\t\t\t\t\t\t\t")])])])],1)})),t._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:24}},[a("div",{staticClass:"grid-content bg-purple alarm"},[a("h4",{staticClass:"alarm_title"},[a("span",{staticClass:"p_l_20"},[t._v("告警概览")])]),t._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{staticClass:"scanning",attrs:{span:8}},[a("div",{staticClass:"scanning_chart"},[a("div",{staticClass:"radar scanning_gif"},[a("span",{staticClass:"scanning_num"},[t._v("5")])])]),t._v(" "),a("label",{staticClass:"scanning_chart_tip"},[t._v("近7日报警总数")])]),t._v(" "),a("el-col",{staticClass:"scanning",attrs:{span:8}},[a("div",{staticClass:"scanning_chart"},[a("div",{staticClass:"radar scanning_gif"},[a("span",{staticClass:"scanning_num"},[t._v("7")])])]),t._v(" "),a("label",{staticClass:"scanning_chart_tip"},[t._v("正在报警")])]),t._v(" "),a("el-col",{staticClass:"scanning",attrs:{span:8}},[a("div",{staticClass:"scanning_chart"},[a("div",{staticClass:"radar scanning_gif"},[a("span",{staticClass:"scanning_num"},[t._v("9")])])]),t._v(" "),a("label",{staticClass:"scanning_chart_tip"},[t._v("数据不足")])])],1)],1)])],1),t._v(" "),a("div",{staticClass:"p_t_b_15"},[t._v("资源概览")]),t._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:12}},[a("div",{staticClass:"grid-content bg-purple resources"},[a("h4",{staticClass:"alarm_title"},[a("span",{staticClass:"p_l_20"},[t._v("主机")]),t._v(" "),a("el-button",{staticClass:"f_right p_r_20 p_l_5",attrs:{type:"text",icon:"el-icon-delete"}}),t._v(" "),a("el-button",{staticClass:"f_right",attrs:{type:"text",icon:"el-icon-edit"}})],1),t._v(" "),a("el-row",{staticClass:"m_t_10",attrs:{gutter:20}},[a("el-col",{attrs:{span:8}},[a("progress-circle",{staticClass:"center",attrs:{radius:t.radius,percent:t.percent_cpu}},[a("div",{staticClass:"percentage font_z_c"},[t._v(t._s(t.percentage_cpu))]),t._v(" "),a("div",{staticClass:"font_z_c m_t_10"},[t._v("CPU使用率（%）")])])],1),t._v(" "),a("el-col",{attrs:{span:8}},[a("progress-circle",{staticClass:"center",attrs:{radius:t.radius,percent:t.percent_memory}},[a("div",{staticClass:"percentage font_z_c"},[t._v(t._s(t.percentage_memory))]),t._v(" "),a("div",{staticClass:"font_z_c m_t_10"},[t._v("内存使用率（%）")])])],1),t._v(" "),a("el-col",{attrs:{span:8}},[a("progress-circle",{staticClass:"center",attrs:{radius:t.radius,percent:t.percent_disk}},[a("div",{staticClass:"percentage font_z_c"},[t._v(t._s(t.percentage_disk))]),t._v(" "),a("div",{staticClass:"font_z_c m_t_10"},[t._v("磁盘使用率（%）")])])],1)],1)],1)]),t._v(" "),a("el-col",{attrs:{span:12}},[a("div",{staticClass:"grid-content bg-purple resources add_resources"},[a("el-button",{attrs:{type:"text",icon:"el-icon-circle-plus"}},[t._v("添加资源项")])],1)])],1),t._v(" "),a("div",{staticClass:"p_t_b_15"},[t._v("实例监控预览（告警中）")]),t._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:12}},[a("div",{staticClass:"grid-content bg-purple lineChart"},[a("echarts",{attrs:{id:"myChart",width:"408px",height:"280px",monitorData:t.monitorData}})],1)]),t._v(" "),a("el-col",{attrs:{span:12}},[a("div",{staticClass:"grid-content bg-purple lineChart"},[a("echarts",{attrs:{id:"myChart1",width:"408px",height:"280px",monitorData:t.monitorData}})],1)])],1)],1),t._v(" "),a("el-aside",[a("MainRight")],1)],1)],1)},staticRenderFns:[]};var zl=a("VU/8")($l,Rl,!1,function(t){a("M7xh")},"data-v-5d51c132",null).exports,Al={props:{form:[Object,String],tableData:[Object,Array]},data:function(){return{formData:{boardName:""},rules:{boardName:[{required:!0,message:"请输入面板名称",trigger:"blur"},{min:3,max:15,message:"长度在 3 到 15 个字符",trigger:"blur"}]}}},methods:{validateForm:function(){var t=this;return new rt.a(function(e,a,i){var n=!1;t.$refs.formData.validate(function(t){t&&(n=!0)}),t.form.boardName=t.formData.boardName,n?e():a()})}},created:function(){this.formData.boardName=this.form.boardName}},Ml={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"edit-board"},[a("el-form",{ref:"formData",attrs:{model:t.formData,"label-width":"80px",size:"mini","label-position":"left",rules:t.rules}},[a("el-form-item",{attrs:{label:"名称：",prop:"boardName"}},[a("el-input",{attrs:{placeholder:"请输入内容",clearable:""},model:{value:t.formData.boardName,callback:function(e){t.$set(t.formData,"boardName",e)},expression:"formData.boardName"}})],1)],1)],1)},staticRenderFns:[]};var Vl=a("VU/8")(Al,Ml,!1,function(t){a("TRL5")},null,null).exports,Bl={props:{tableData:[Object,Array]},data:function(){return{}},methods:{}},jl={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"del_board"},[e("div",{staticClass:"action-img"},[e("svg-icon",{attrs:{"icon-class":"warn"}}),this._v(" "),e("span",{staticClass:"tipContent"},[this._v(this._s(this.tableData.actionTip))])],1),this._v(" "),e("div",{staticClass:"delName"},[this._v(this._s(this.tableData.delName))])])},staticRenderFns:[]};var ql=a("VU/8")(Bl,jl,!1,function(t){a("o7bZ")},"data-v-aebe7c48",null).exports;function Ul(t){return t.regionid||(t.regionid=F()),Ct({url:"/console/ces/ecs/list/",method:"get",params:t})}function Hl(t){return t.regionid||(t.regionid=F()),Ct({url:"/console/ces/evs/list/",method:"get",params:t})}function Wl(t){return t.regionid||(t.regionid=F()),Ct({url:"/console/ces/zds/"+t.uuid+"/",method:"get",params:t})}function Gl(t){return t.regionid||(t.regionid=F()),Ct({url:"/console/ces/zbdata/",method:"get",params:t})}var Ql={props:{form:[Object,String],tableData:[Object,Array]},data:function(){return{serData:Sl,ecmOptions:[],evsOptions:[],regionList:[],formData:{region:"",configName:"",tableConfig:[]},rules:{configName:[{required:!0,message:"请输入配置名称",trigger:"blur"},{min:2,max:40,message:"长度在 2 到 40 个字符",trigger:"blur"}],region:[{required:!0,message:"请选择资源池",trigger:"change"}]}}},methods:{validateForm:function(){var t=this;return new rt.a(function(e,a){var i=!1;t.$refs.formData.validate(function(t){t&&(i=!0)});var n=[];i&&(t.formData.tableConfig.map(function(e,a,s){""==e.item||""==e.uuid?i=!1:n.push({ser:e.ser,dim:e.dim,item:e.item,uuid:e.uuid,uuidName:t._.find(e.options,{zabbix_name:e.uuid}).name,regionid:t.formData.region})}),t.$message("请完善选择下拉框内容")),t.form.regionid=t.formData.region,t.form.title=t.formData.configName,t.form.content=xl()(n),i?e():a()})},delConfig:function(t){this.formData.tableConfig.splice(t,1)},addConfig:function(){this.formData.tableConfig.push({ser:Sl[0].name,dim:Sl[0].sub[0].name,uuid:"",item:"",items:Dl.ecs,dimData:Sl[0].sub,options:this.ecmOptions})},serverChange:function(t,e){e.dimData=this._.find(Sl,{name:e.ser}).sub,e.dim=e.dimData[0].name,"云硬盘"==e.ser?(e.items=Dl.evs,e.item="",e.options=this.evsOptions):(e.items=Dl.ecs,e.item="",e.options=this.ecmOptions),e.uuid=""},getMonitorObj:function(t){var e=this,a={page_size:9999,page:1,regionid:t};this.ecmOptions.splice(0,this.ecmOptions.length),this.evsOptions.splice(0,this.evsOptions.length),Ul(a).then(function(t){200==t.data.code&&t.data.results.map(function(t){e.ecmOptions.push(t)})},function(t){}),Hl(a).then(function(t){200==t.data.code&&t.data.results.map(function(t){e.evsOptions.push(t)})},function(t){})},regionChange:function(t){this.getMonitorObj(t),this.formData.tableConfig.length>1?(this.formData.tableConfig.splice(1,this.formData.tableConfig.length),this.formData.tableConfig[0].uuid="",this.formData.tableConfig[0].item=""):this.formData.tableConfig.length>0&&(this.formData.tableConfig[0].uuid="",this.formData.tableConfig[0].item="")}},mounted:function(){},created:function(){var t,e=this;this.form.regionid&&this.getMonitorObj(this.form.regionid),this.formData.region=this.form.regionid,this.formData.configName=this.form.title,""==this.form.content?this.addConfig():(this.formData.tableConfig=JSON.parse(this.form.content),this.formData.tableConfig.map(function(t,a,i){e.$set(t,"dimData",e._.find(e.serData,{name:t.ser}).sub),"云硬盘"==t.ser?(e.$set(t,"items",Dl.evs),e.$set(t,"options",e.evsOptions)):(e.$set(t,"items",Dl.ecs),e.$set(t,"options",e.ecmOptions))})),(t={regionid:"all",details:0},t.regionid||(t.regionid=F()),Ct({url:"/console/ecm/ecs/resources/",method:"get",params:t})).then(function(t){console.log(t,"---------"),200==t.data.code&&t.data.results.length>0?e.regionList=t.data.results:e.$message({message:error.msg||error.data.msg||"加载资源池失败，请联系管理员",type:"error"})})},computed:{metricUnit:function(){return this.formData.tableConfig.length>0&&""!=this.formData.tableConfig[0].item?this._.find(Dl.ecs,{metric_name:this.formData.tableConfig[0].item}).unit:"--"}}},Zl={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"monitor_config"},[a("el-form",{ref:"formData",attrs:{model:t.formData,"label-width":"80px",size:"mini","label-position":"left",rules:t.rules}},[a("el-form-item",{attrs:{label:"资源池：",prop:"region"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择资源池",disabled:t.tableData.isUpdate},on:{change:t.regionChange},model:{value:t.formData.region,callback:function(e){t.$set(t.formData,"region",e)},expression:"formData.region"}},t._l(t.regionList,function(t){return a("el-option",{key:t.uuid,attrs:{label:t.name,value:t.uuid}})}))],1),t._v(" "),a("el-form-item",{attrs:{label:"标题：",prop:"configName"}},[a("el-input",{attrs:{placeholder:"请输入内容",clearable:""},model:{value:t.formData.configName,callback:function(e){t.$set(t.formData,"configName",e)},expression:"formData.configName"}})],1)],1),t._v(" "),a("div",{staticClass:"table_config"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.formData.tableConfig}},[a("el-table-column",{attrs:{label:"服务"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-select",{attrs:{placeholder:"请选择服务",size:"mini"},on:{change:function(a){t.serverChange(e.$index,e.row)}},model:{value:e.row.ser,callback:function(a){t.$set(e.row,"ser",a)},expression:"scope.row.ser"}},t._l(t.serData,function(t,e){return a("el-option",{key:e,attrs:{label:t.name,value:t.name}})}))]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"维度"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-select",{attrs:{placeholder:"请选择维度",size:"mini"},model:{value:e.row.dim,callback:function(a){t.$set(e.row,"dim",a)},expression:"scope.row.dim"}},t._l(e.row.dimData,function(t,e){return a("el-option",{key:e,attrs:{label:t.name,value:t.name}})}))]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"监控对象",width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-select",{attrs:{filterable:"",placeholder:"请选择监控对象",size:"mini"},model:{value:e.row.uuid,callback:function(a){t.$set(e.row,"uuid",a)},expression:"scope.row.uuid"}},t._l(e.row.options,function(e){return e.zabbix_name&&""!=e.zabbix_name?a("el-option",{key:e.zabbix_name,attrs:{label:e.name,value:e.zabbix_name}}):t._e()}))]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"指标"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-select",{attrs:{placeholder:"请选择指标",size:"mini"},model:{value:e.row.item,callback:function(a){t.$set(e.row,"item",a)},expression:"scope.row.item"}},t._l(e.row.items,function(e,i){return a("el-option",{key:i,attrs:{label:e.name,value:e.metric_name,disabled:"--"!=t.metricUnit&&e.unit!=t.metricUnit}})}))]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(a){t.delConfig(e.$index,e.row)}}},[t._v("移除")])]}}])})],1),t._v(" "),a("el-button",{attrs:{size:"mini",type:"text",icon:"el-icon-circle-plus-outline",disabled:t.tableData.num_index-t.formData.tableConfig.length==0},on:{click:function(e){t.addConfig()}}},[t._v("增加一个服务")]),t._v(" "),a("span",{staticClass:"config_tip_num"},[t._v("您还可以添加"+t._s(t.tableData.num_index-t.formData.tableConfig.length)+"个监控项")])],1)],1)},staticRenderFns:[]};var Jl=a("VU/8")(Ql,Zl,!1,function(t){a("vNyW"),a("a+Bf")},"data-v-31c1ad52",null).exports,Kl={components:{echarts:Ll},data:function(){return{title:"监控面板",selectBoard:"",selectBoard_id:"",boardList:[],collectList:[],monitorData:{metric_name:"网络连接数",data:{xAxis_data:["周一","周二","周三","周四","周五","周六","周日"],chartData:[220,332,901,534,1290,130,1320]},id:(new Date).getTime()+""},dialogMaxEchartVisible:!1,maxEchart:{}}},created:function(){this._getBoard()},mounted:function(){},methods:{machiningCollectData:function(){var t=this;this.collectList.map(function(e,a,i){t.$set(e,"series",[]),t.$set(e,"xAxis_data",[]);var n=JSON.parse(e.content);t.$set(e,"metric_name",e.title),t.$set(e,"region_name",t._.find(t.$store.state.user.regionList,{uuid:n[0].regionid}).name);for(var s=function(a){Gl({uuid:n[a].uuid,metric_name:n[a].item,period:300,filter:"avg",time_range:"3h",regionid:n[a].regionid}).then(function(i){if(0==i.data.status){var s=t.machiningMonitorData(i.data.data,"3h");e.series.push({name:n[a].ser+"-"+n[a].uuidName+"-"+Dl.hash[n[a].item]+"("+Dl.hashUnit[n[a].item]+")",type:"line",smooth:!0,connectNulls:!0,data:s.chartData}),e.xAxis_data=s.xAxis_data}else e.series.push({name:n[a].ser+"-"+n[a].uuidName+"-"+Dl.hash[n[a].item],type:"line",smooth:!0,connectNulls:!0,data:[]}),t.$notify.info({title:"消息",message:e.title+"-"+n[a].ser+"-"+n[a].uuidName+"-"+Dl.hash[n[a].item]+":"+i.data.msg})},function(t){})},o=0;o<n.length;o++)s(o)})},getMonitor:function(t,e){var a=this,i=JSON.parse(this.maxEchart.content);this.maxEchart.series=[],this.maxEchart.xAxis_data=[];for(var n=function(n){Gl({uuid:i[n].uuid,metric_name:i[n].item,period:t.period,filter:t.filter,time_range:t.time_range,time_from:t.time_from,time_till:t.time_till,regionid:i[n].regionid}).then(function(s){if(0==s.data.status){var o=a.machiningMonitorData(s.data.data,t.time_range||t.time_from);a.maxEchart.series.push({name:i[n].ser+"-"+i[n].uuidName+"-"+Dl.hash[i[n].item]+"("+Dl.hashUnit[i[n].item]+")",type:"line",smooth:!0,connectNulls:!0,data:o.chartData}),a.maxEchart.xAxis_data=o.xAxis_data,e&&e()}else a.maxEchart.series.push({name:i[n].ser+"-"+i[n].uuidName+"-"+Dl.hash[i[n].item],type:"line",smooth:!0,connectNulls:!0,data:[]}),a.$notify.info({title:"消息",message:a.maxEchart.title+"-"+i[n].ser+"-"+i[n].uuidName+"-"+Dl.hash[i[n].item]+":"+s.data.msg})},function(t){})},s=0;s<i.length;s++)n(s)},machiningMonitorData:function(t,e){for(var a=[],i=[],n=t.v_list.length,s=0;s<n;s++){var o=new Date(t.v_list[s].timestamp);e&&"1h"!=e&&"3h"!=e&&"12h"!=e&&"1d"!=e?a.push(o.Format("yyyy-MM-dd hh:mm")):a.push(o.Format("hh:mm")),"string"==typeof t.v_list[s].value?i.push("无"):i.push(t.v_list[s].value)}return{xAxis_data:a,chartData:i}},_getBoard:function(){var t,e=this;(t={regionid:"all"},t.regionid||(t.regionid=F()||"all"),Ct({url:"console/ces/collect/board/",method:"get",params:t})).then(function(t){0==t.data.status?(e.boardList=t.data.data,e.boardList.length>0?(""==e.selectBoard_id&&(e.selectBoard_id=e.boardList[0].id),e.getMonitorConfig()):(e.selectBoard_id="",e.collectList=[])):e.$message({message:t.msg||t.data.msg||"获取监控面板失败",type:"error"})},function(t){})},createBoard:function(){var t=this,e={data:{data:[],title:"创建监控面板"},view:Vl,form:{boardName:""}};this.$alertDialog(e).then(function(e){var a,i=t.$loading({lock:!0,text:"拼命创建中...",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});(a={name:e.boardName,regionid:"all"},a.regionid||(a.regionid=F()),Ct({url:"console/ces/collect/board/",method:"post",data:a})).then(function(a){i.close(),0==a.data.status?(t.boardList.push({id:a.data.data.id,name:e.boardName,os_id:"all"}),t.$message({message:"创建监控面板成功",type:"success"})):t.$message({message:a.msg||a.data.msg||"创建监控面板失败",type:"error"}),i=null},function(t){i.close(),i=null})},function(t){loading.close(),loading=null})},updateBoard:function(){var t=this;""===this.selectBoard_id&&this.$message({message:"请在下拉框中选择您要修改的监控面板",type:"warning"});var e=this._.find(this.boardList,{id:this.selectBoard_id}),a={data:{data:this.$store.state.user.regionList,title:"修改面板名称",isUpdate:!0},view:Vl,form:{boardName:e.name}};this.$alertDialog(a).then(function(a){var i,n=t.$loading({lock:!0,text:"拼命修改中...",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});(i={id:e.id,name:a.boardName,regionid:"all"},i.regionid||(i.regionid=F()),Ct({url:"console/ces/collect/board/",method:"put",data:i})).then(function(i){n.close(),0==i.data.status?(e.name=a.boardName,t.$message({message:"重命名监控面板成功",type:"success"})):t.$message({message:i.msg||i.data.msg||"重命名监控面板失败",type:"error"}),n=null},function(t){n.close(),n=null})},function(t){loading.close(),loading=null})},delBoard:function(){var t=this;""===this.selectBoard_id&&this.$message({message:"请在下拉框中选择您要删除的监控面板",type:"warning"});var e=this._.find(this.boardList,{id:this.selectBoard_id}),a={data:{title:"删除监控面板",actionTip:"删除监控面板将会删除该面板上所有监控项，确定要删除吗？",delName:e.name},view:ql};this.$alertDialog(a).then(function(a){var i,n=t.$loading({lock:!0,text:"拼命删除中...",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});(i={id:e.id,regionid:"all"},i.regionid||(i.regionid=F()),Ct({url:"console/ces/collect/board/",method:"delete",data:i})).then(function(e){n.close(),0==e.data.status?(t.selectBoard_id="",t._getBoard(),t.$message({message:"删除监控面板成功",type:"success"})):t.$message({message:e.msg||e.data.msg||"删除监控面板失败",type:"error"}),n=null},function(t){n.close(),n=null})},function(t){loading.close(),loading=null})},getMonitorConfig:function(){var t,e=this,a=this.$loading({lock:!0,text:"获取配置项中...",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});(t={cb_id:this.selectBoard_id,regionid:"all"},t.regionid||(t.regionid=F()),Ct({url:"/console/ces/collect/info/",method:"get",params:t})).then(function(t){a.close(),a=null,0==t.data.status?(e.collectList=t.data.data,e.machiningCollectData()):e.$message({message:t.msg||t.data.msg||"获取收藏列表失败",type:"error"})},function(t){a.close(),a=null})},updateMonitorConfig:function(t){var e=this,a={data:{data:this.$store.state.user.regionList,isUpdate:!0,title:"配置监控项",num_index:5},view:Jl,form:{cid:t.id,regionid:JSON.parse(t.content)[0].regionid,title:t.title,content:t.content}};this.$alertDialog(a).then(function(t){var a,i=e.$loading({lock:!0,text:"拼命修改中...",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});(a=t,a.regionid||(a.regionid=F()),Ct({url:"/console/ces/collect/info/",method:"PUT",data:a})).then(function(t){i.close(),i=null,0==t.data.status?(e.getMonitorConfig(),e.$message({message:"修改监控项成功",type:"success"})):e.$message({message:t.msg||t.data.msg||"修改监控项失败",type:"error"})},function(t){i.close(),i=null})},function(t){loading.close(),loading=null})},delMonitorConfig:function(t){var e=this,a={data:{title:"删除监控项",actionTip:"确定要删除以下监控项吗？",delName:t.title},view:ql};this.$alertDialog(a).then(function(a){var i,n=e.$loading({lock:!0,text:"拼命修改中...",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});(i={cid:t.id,regionid:"all"},i.regionid||(i.regionid=F()),Ct({url:"/console/ces/collect/info/",method:"DELETE",data:i})).then(function(t){n.close(),n=null,0==t.data.status?(e.getMonitorConfig(),e.$message({message:"删除监控项成功",type:"success"})):e.$message({message:t.msg||t.data.msg||"删除监控项失败",type:"error"})},function(t){n.close(),n=null,e.$message({message:t.msg||t.data.msg||"删除监控项失败",type:"error"})})},function(t){loading.close(),loading=null})},boardChange:function(){this.getMonitorConfig()},addMonitorConfig:function(){var t=this;if(""!=this.selectBoard_id)if(this.collectList.length>=30)this.$message("每个监控面板最多添加30个监控视图");else{var e={data:{data:this.$store.state.user.regionList,title:"配置监控项",num_index:5},view:Jl,form:{cb_id:this.selectBoard_id,regionid:"",title:"",content:""}};this.$alertDialog(e).then(function(e){var a,i=t.$loading({lock:!0,text:"拼命添加中...",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});(a=e,a.regionid||(a.regionid=F()),Ct({url:"/console/ces/collect/info/",method:"post",data:a})).then(function(e){i.close(),i=null,0==e.data.status?(t.getMonitorConfig(),t.$message({message:"添加监控项成功",type:"success"})):t.$message({message:e.msg||e.data.msg||"添加监控项失败",type:"error"})},function(t){i.close(),i=null})},function(t){loading.close(),loading=null})}else this.$message("请选择下拉框监控面板或者添加监控面板后添加配置项")},openMax:function(t){this.maxEchart=JSON.parse(xl()(t)),this.dialogMaxEchartVisible=!0},closeMin:function(){this.dialogMaxEchartVisible=!1}},computed:{}},Yl={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"monitor_dashboard"},[a("div",{staticClass:"header"},[a("h4",{staticClass:"font_14_3"},[t._v(t._s(t.title))]),t._v(" "),a("div",{staticClass:"operation"},[a("label",{staticClass:"font_12_6"},[t._v("监控面板：")]),t._v(" "),a("el-select",{attrs:{placeholder:"请选择",size:"small"},on:{change:t.boardChange},model:{value:t.selectBoard_id,callback:function(e){t.selectBoard_id=e},expression:"selectBoard_id"}},t._l(t.boardList,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})})),t._v(" "),a("el-button",{attrs:{type:"success",size:"small"},on:{click:function(e){e.stopPropagation(),t.updateBoard(e)}}},[t._v("重命名")]),t._v(" "),a("el-button",{attrs:{size:"small"},on:{click:function(e){e.stopPropagation(),t.delBoard(e)}}},[t._v("删除")]),t._v(" "),a("el-button",{attrs:{icon:"el-icon-refresh",size:"small"},on:{click:function(e){e.stopPropagation(),t._getBoard(e)}}}),t._v(" "),a("el-button",{staticClass:"f_right",attrs:{type:"primary",size:"small"},on:{click:function(e){e.stopPropagation(),t.createBoard(e)}}},[t._v("创建监控面板")])],1),t._v(" "),a("p",{staticClass:"font_12_6"},[t._v("单击“+”配置监控项可以添加监控视图至选择的监控面板，您还可以添加"+t._s(30-t.collectList.length)+"个监控视图")])]),t._v(" "),a("div",{staticClass:"main m_t_20"},[a("el-row",{attrs:{gutter:20}},[t._l(t.collectList,function(e,i){return a("el-col",{key:i,attrs:{span:8}},[a("div",{staticClass:"grid-content bg-line"},[a("echarts",{attrs:{id:e.id+"",width:"370px",height:"280px",monitorData:e,isCollect:!0},on:{maximization:t.openMax,delItem:function(a){t.delMonitorConfig(e)},updateItem:function(a){t.updateMonitorConfig(e)}}})],1)])}),t._v(" "),a("el-col",{attrs:{span:8}},[a("div",{staticClass:"grid-content bg-line add_config"},[a("i",{staticClass:"el-icon-plus",staticStyle:{cursor:"pointer"},on:{click:function(e){e.stopPropagation(),t.addMonitorConfig(e)}}})])])],2)],1),t._v(" "),t.dialogMaxEchartVisible?a("div",[a("el-dialog",{staticClass:"maxEchartContent",attrs:{visible:t.dialogMaxEchartVisible,showClose:!1},on:{"update:visible":function(e){t.dialogMaxEchartVisible=e}}},[a("echarts",{attrs:{id:t.maxEchart.id+"__",width:"700px",height:"400px",monitorData:t.maxEchart,isMax:!0},on:{minimization:t.closeMin,getMonitor:t.getMonitor}})],1)],1):t._e()])},staticRenderFns:[]};var Xl=a("VU/8")(Kl,Yl,!1,function(t){a("KyA8"),a("VHMT")},"data-v-3b90cc16",null).exports,tc=a("woOf"),ec=a.n(tc),ac={components:{echarts:Ll},props:{itemData:[Object],infoKeyValue:[Array]},data:function(){return{echartList:[],dialogMaxEchartVisible:!1,region_name:this._.find(this.$store.state.user.regionList,{uuid:F()}).name,maxEchart:{metric_name:"",data:{xAxis_data:[],chartData:[]},id:""}}},created:function(){var t=this;Dl[this.itemData.evs?"evs":"ecs"].map(function(e,a,i){t._getMonitorData({uuid:t.itemData.zabbix_name,metric_name:e.metric_name,period:300,filter:"avg",time_range:"3h"},e.name+"("+e.unit+")")})},mounted:function(){},methods:{_getMonitorData:function(t,e){var a=this;Gl(t).then(function(i){0==i.data.status?a.echartList.push({metric_name:e,data:a.machiningMonitorData(i.data.data),id:t.metric_name,region_name:a.region_name}):a.echartList.push({metric_name:e,data:i.data,region_name:a.region_name})},function(t){a.echartList.push({metric_name:e,data:{msg:t.data.msg||"数据获取失败"},region_name:a.region_name})})},returnList:function(){this.$emit("returnList")},getMonitor:function(t,e){var a=this;t.uuid||(t.uuid=this.itemData.zabbix_name),Gl(t).then(function(i){0==i.data.status&&(a.maxEchart.data=a.machiningMonitorData(i.data.data,t.time_range||t.time_from),e&&e())},function(t){console.log(t)})},machiningMonitorData:function(t,e){for(var a=[],i=[],n=t.v_list.length,s=0;s<n;s++){var o=new Date(t.v_list[s].timestamp);e&&"1h"!=e&&"3h"!=e&&"12h"!=e&&"1d"!=e?a.push(o.Format("yyyy-MM-dd hh:mm")):a.push(o.Format("hh:mm")),"string"==typeof t.v_list[s].value?i.push("无"):i.push(t.v_list[s].value)}return{xAxis_data:a,chartData:i}},openMax:function(t){this.maxEchart.metric_name=t.metric_name,this.maxEchart.data.xAxis_data=t.data.xAxis_data,this.maxEchart.data.chartData=t.data.chartData,this.maxEchart.id=t.id,this.dialogMaxEchartVisible=!0},closeMin:function(){this.dialogMaxEchartVisible=!1}},computed:{random:function(){return(new Date).getTime()+""}}},ic={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"monitor_info"},[a("div",{staticClass:"header"},[a("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[a("el-breadcrumb-item",[a("span",{on:{click:t.returnList}},[t._v(t._s(t.itemData.returnName))])]),t._v(" "),a("el-breadcrumb-item",{staticClass:"font_14_3"},[t._v(t._s(t.infoKeyValue[0].value)+" 监控图表")])],1),t._v(" "),a("div",{staticClass:"info"},[a("div",{staticClass:"info_title font_12_3"},[t._v(t._s(t.itemData.infoName))]),t._v(" "),a("el-row",t._l(t.infoKeyValue,function(e,i){return a("el-col",{key:i,attrs:{span:8}},[a("div",{staticClass:"grid-content p_b_10 font_12_6"},[a("label",[t._v(t._s(e.label))]),t._v(" "),a("span",{class:[e.className?e.className:""]},[t._v(t._s(e.value))])])])}))],1)],1),t._v(" "),a("div",{staticClass:"main m_t_20"},[a("el-row",{attrs:{gutter:20}},t._l(t.echartList,function(e,i){return a("el-col",{key:i,attrs:{span:8}},[a("div",{staticClass:"grid-content bg-line"},[e.data.msg?a("div",[a("el-container",[a("el-header",{attrs:{height:"30px"}},[a("span",[t._v(t._s(e.metric_name))]),t._v(" "),a("span",{staticClass:"fl_r"},[t._v("周期：60s  聚合方式：平均值")])]),t._v(" "),a("el-main",[t._v(t._s(e.data.msg))])],1)],1):a("echarts",{attrs:{id:e.id,width:"370px",height:"280px",monitorData:e},on:{maximization:t.openMax}})],1)])}))],1),t._v(" "),t.dialogMaxEchartVisible?a("div",[a("el-dialog",{staticClass:"maxEchartContent",attrs:{visible:t.dialogMaxEchartVisible,showClose:!1},on:{"update:visible":function(e){t.dialogMaxEchartVisible=e}}},[a("echarts",{attrs:{id:t.random,width:"700px",height:"400px",monitorData:t.maxEchart,isMax:!0},on:{minimization:t.closeMin,getMonitor:t.getMonitor}})],1)],1):t._e()])},staticRenderFns:[]};var nc=a("VU/8")(ac,ic,!1,function(t){a("F9D4"),a("W8jo")},"data-v-7fd5af82",null).exports,sc={props:{form:[Object,String,Array],tableData:[Object,Array]},data:function(){return{serData:Sl,tableItem:[],ecmOptions:[]}},methods:{addItem:function(){this.tableItem.push({ser:this.tableData.defaultData.defaultSer,dim:this.tableData.defaultData.defaultDim,uuid:"",item_key:this.tableData.defaultData.defaultKey})},delItem:function(t){this.tableItem.splice(t,1)},getEcmMonitorList:function(){var t=this;Ul(this.tableData.defaultData.params).then(function(e){200==e.data.code?t.ecmOptions=e.data.results:t.$message({message:e.msg||e.data.msg||"获取云服务器监控列表失败",type:"error"})}).catch(function(t){console.log(t)})},getEvsMonitorList:function(){var t=this;Hl(this.tableData.defaultData.params).then(function(e){200==e.data.code?t.ecmOptions=e.data.results:t.$message({message:e.msg||e.data.msg||"获取云服务器监控列表失败",type:"error"})}).catch(function(t){console.log(t)})},validateForm:function(){var t=this;return new rt.a(function(e,a){var i=!0,n=[];t.tableItem.forEach(function(e,a,s){""==e.uuid||""==e.item_key?i=!1:n.push({uuid:e.uuid,metric_name:e.item_key,name:t._.find(t.ecmOptions,{zabbix_name:e.uuid}).name})}),i?t.exportMonitorData(n):t.$message("请完善选择下拉框内容"),i?e():a()})},download:function(t){if(t){var e=window.URL.createObjectURL(new Blob([t.data])),a=document.createElement("a");a.style.display="none",a.href=e,a.setAttribute("download","export-"+(new Date).getTime()+".csv"),document.body.appendChild(a);try{a.click()}catch(e){navigator.msSaveBlob(new Blob([t.data]),"export-"+(new Date).getTime()+".csv")}document.body.removeChild(a),this.$message({message:"导出数据成功",type:"success"})}},exportMonitorData:function(t){var e,a=this,i=this.$loading({lock:!0,text:"数据导出中...",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});(e={export:xl()(t),regionid:this.tableData.defaultData.params.regionid},e.regionid||(e.regionid=F()),Ct({url:"/console/ces/export/",method:"post",data:e})).then(function(t){i.close(),i=null,a.download(t)},function(t){i.close(),i=null,a.$message({message:t.msg||t.data.msg||"文件下载失败，请稍后重试",type:"error"})})}},created:function(){this.addItem(),"云服务器"==this.tableData.defaultData.defaultSer?this.getEcmMonitorList():this.getEvsMonitorList()},mounted:function(){},computed:{dimData:function(){var t=this._.find(this.serData,{name:this.tableData.defaultData.defaultSer}).sub;return t},items:function(){return"云服务器"==this.tableData.defaultData.defaultSer?Dl.ecs:Dl.evs}}},oc={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"export-data"},[a("h4",{staticClass:"note_tip"},[t._v("导出监控数据，支持导出近两天的实时监控数据")]),t._v(" "),a("div",{staticClass:"table_config"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableItem}},[a("el-table-column",{attrs:{label:"服务"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-select",{attrs:{placeholder:"请选择服务",size:"mini"},model:{value:e.row.ser,callback:function(a){t.$set(e.row,"ser",a)},expression:"scope.row.ser"}},t._l(t.serData,function(e,i){return a("el-option",{key:i,attrs:{label:e.name,value:e.name,disabled:e.name!==t.tableData.defaultData.defaultSer}})}))]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"维度"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-select",{attrs:{placeholder:"请选择维度",size:"mini"},model:{value:e.row.dim,callback:function(a){t.$set(e.row,"dim",a)},expression:"scope.row.dim"}},t._l(t.dimData,function(t,e){return a("el-option",{key:e,attrs:{label:t.name,value:t.name}})}))]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"监控对象",width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-select",{attrs:{filterable:"",placeholder:"请选择监控对象",size:"mini"},model:{value:e.row.uuid,callback:function(a){t.$set(e.row,"uuid",a)},expression:"scope.row.uuid"}},t._l(t.ecmOptions,function(e){return e.zabbix_name&&""!=e.zabbix_name?a("el-option",{key:e.zabbix_name,attrs:{label:e.name,value:e.zabbix_name}}):t._e()}))]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"指标"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-select",{attrs:{placeholder:"请选择指标",size:"mini"},model:{value:e.row.item_key,callback:function(a){t.$set(e.row,"item_key",a)},expression:"scope.row.item_key"}},t._l(t.items,function(t,e){return a("el-option",{key:e,attrs:{label:t.name,value:t.metric_name}})}))]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(a){t.delItem(e.$index,e.row)}}},[t._v("移除")])]}}])})],1),t._v(" "),a("el-button",{attrs:{size:"mini",type:"text",icon:"el-icon-circle-plus-outline",disabled:t.tableData.defaultData.num_index-this.tableItem.length==0},on:{click:function(e){t.addItem()}}},[t._v("增加一个服务")]),t._v(" "),a("span",{staticClass:"config_tip_num"},[t._v("您还可以添加"+t._s(t.tableData.defaultData.num_index-this.tableItem.length)+"个监控项")])],1)])},staticRenderFns:[]};var rc=a("VU/8")(sc,oc,!1,function(t){a("RAWX"),a("aBxx")},"data-v-7b038a70",null).exports,lc={components:{RegionList:me,ConsoleTable:Te,monitorInfo:nc},data:function(){var t=this;return{name:"云服务器监控",buttonText:"导出监控数据",loading:!1,isMonitorInfo:!1,keyword:"",searchType:"name",zabbixQueue:[],itemData:{},regionData:[],infoKeyValue:[],filter:{page_size:10,page:1,keyword:void 0,instance_uuid:void 0,status:void 0,regionid:void 0},Pagination:{pagingData:[10,20,50],total:0,show:!0},ecmMonitorData:[],tableOptions:[{prop:"name",label:u.common.name,EipIp:!0,temp:!0},{prop:"status",label:u.common.status,status:!0,temp:!0,filter:!0,selectOptions:[{value:"Running",text:u.common.active},{value:"Stopped",text:u.common.shutOff}]},{prop:"zabbixStatus",label:"监控状态",fun:function(e){return t.catchGuide(e)}},{prop:"id",label:"ID",width:300},{prop:"indexNum",label:"指标个数"}],ecmOperation:[{value:"查看监控图表",id:"info",fun:function(e){return t.monitorInfo(e)}}]}},methods:{exportData:function(){var t={data:{defaultData:{defaultSer:"云服务器",defaultDim:"云服务器",defaultKey:"cpu_util",num_index:10,params:{page_size:this.Pagination.total+20,page:1,regionid:this.filter.regionid}},title:"导出监控数据"},view:rc,form:[]};this.$alertDialog(t).then(function(t){})},selectChange:function(t){this.filter.status=t,this.filter.page=1,this.getEcmMonitorList()},monitorInfo:function(t){var e=this;if(t.id&&""!=t.id){var a=this.$loading({lock:!0,text:"获取详情中...",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});Ul({page_size:10,page:1,instance_uuid:t.id,regionid:this.filter.regionid}).then(function(i){a.close(),a=null,200==i.data.code&&i.data.results.length>0?(e.itemData=ec()({infoName:"云服务器详情",returnName:"云服务器监控列表"},t,i.data.results[0]),e.infoKeyValue=[{label:"名称：",value:e.itemData.name},{label:"ID：",value:e.itemData.id},{label:"创建时间：",value:new Date(e.itemData.created).Format("yyyy-MM-dd hh:mm:ss")},{label:"状态：",value:e.itemData.status,className:"Running"==e.itemData.state?"status_normal":"status_error"},{label:"虚拟私有云：",value:e.itemData.metadata.vpcname||"-----"},{label:"到期时间：",value:e.itemData.expire_date?new Date(e.itemData.expire_date).Format("yyyy-MM-dd hh:mm:ss"):"-----"},{label:"规格：",value:e.itemData.flavor.vcpus+"核 | "+e.itemData.flavor.ram/1024+"GB"},{label:"镜像：",value:e.itemData.metadata.image_name},{label:"磁盘：",value:"-----"},{label:"网卡：",value:e.itemData.nic.length+"个"},{label:"操作系统：",value:e.itemData.metadata.ostypename}],qt(t.id).then(function(t){200==t.data.code&&(e.infoKeyValue[8].value=t.data.current_count+"个")},function(t){}),e.isMonitorInfo=!0):(e.$message({message:i.msg||i.data.msg||"获取云服务器详情失败",type:"error"}),a.close(),a=null)}).catch(function(t){a&&(a.close(),a=null)})}else this.$message({message:"查看失败，ID不存在，请联系管理员",type:"warning"})},returnList:function(){this.isMonitorInfo=!1,this.getEcmMonitorList()},changeRegion:function(t){Ct.cancle("CancelToken"),this.filter.regionid=t,this.getEcmMonitorList()},getEcmMonitorList:function(){var t=this;this.getRegionNums();var e=this.filter;this.zabbixQueue=[],e.keyword=e.instance_uuid=void 0,"name"==this.searchType&&""!=this.keyword?e.keyword=this.keyword:"uuid"==this.searchType&&""!=this.keyword&&(e.instance_uuid=this.keyword),this.loading=!0,this.ecmMonitorData=[],Ul(e).then(function(e){if(200==e.data.code){t.ecmMonitorData=e.data.results,t.Pagination.total=e.data.total_count;var a=Dl.ecs.length;t.ecmMonitorData.map(function(e,i,n){t.$set(e,"indexNum",a),e.zabbix_name&&""!=e.zabbix_name?(t.$set(e,"zabbixStatus","获取中..."),t.zabbixQueue.push({uuid:e.zabbix_name,id:e.id,getZabbixStatus:"notStart",_zabbixStatus:!1,_index:i})):t.$set(e,"zabbixStatus","获取失败")}),t.openQueue()}else t.$message({message:e.msg||e.data.msg||"获取云服务器监控列表失败",type:"error"});t.loading=!1}).catch(function(e){t.loading=!1})},handleClick:function(t,e){t(e)},openQueue:function(){var t=this.zabbixQueue.length;t=t>5?5:t;for(var e=0;e<t;e++)this._getZabbixStatus(this.zabbixQueue[e])},queueNext:function(){for(var t=0;t<this.zabbixQueue.length;t++)if("notStart"==this.zabbixQueue[t].getZabbixStatus)return void this._getZabbixStatus(this.zabbixQueue[t])},_getZabbixStatus:function(t){var e=this;t.getZabbixStatus="loading",Wl({uuid:t.uuid}).then(function(a){0==a.data.status?(t.getZabbixStatus="success",t._zabbixStatus=a.data.data.agent_status,t._zabbixStatus?e.ecmMonitorData[t._index].zabbixStatus="正常":e.ecmMonitorData[t._index].zabbixStatus="异常"):(t.getZabbixStatus="fail",e.ecmMonitorData[t._index].zabbixStatus="获取失败"),e.queueNext()},function(a){t.getZabbixStatus="error",e.ecmMonitorData[t._index].zabbixStatus="获取失败",e.queueNext()})},pagingChange:function(t,e){"num"==t?this.filter.page_size=e:"page"==t&&(this.filter.page=e),this.getEcmMonitorList()},getRegionNums:function(){var t=this;Vt({resource:"vm"}).then(function(e){if(200==e.data.code){var a=e.data.results[0].VM;a&&a.detail&&(t.regionData=a.detail)}})},catchGuide:function(t){console.log(t,"----------",this),this.$alert('<div><p><div>Linux系统</div>内部服务异常，请登录并运行curl  <a href="/tool/qga/install_qga.sh" target="_blank">'+location.host+'/tool/qga/install_qga.sh</a> | bash 如已无法登陆，请提交工单处理</p><p><div>Windows系统</div>内部服务异常请从以下链接下载，并解压运行install.bat  <a href="/tool/qga/qga.zip" target="_blank"> '+location.host+"/tool/qga/qga.zip</a></p></div>","异常指引",{dangerouslyUseHTMLString:!0,confirmButtonClass:"dsafsdfas"})}},created:function(){this.getEcmMonitorList()},mounted:function(){},beforeDestroy:function(){}},cc={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"ecm_monitor"},[t.isMonitorInfo?t._e():a("RegionList",{attrs:{name:t.name,regionData:t.regionData,buttonText:t.buttonText},on:{create:t.exportData,changeRegion:t.changeRegion}}),t._v(" "),t.isMonitorInfo?t._e():a("div",{staticClass:"content"},[a("div",{staticClass:"content_top"},[a("el-input",{staticClass:"input-with-select",staticStyle:{width:"350px"},attrs:{placeholder:"请根据下拉框选项输入内容",size:"small",clearable:""},model:{value:t.keyword,callback:function(e){t.keyword=e},expression:"keyword"}},[a("el-select",{attrs:{slot:"prepend",placeholder:"请选择"},slot:"prepend",model:{value:t.searchType,callback:function(e){t.searchType=e},expression:"searchType"}},[a("el-option",{attrs:{label:"名称",value:"name"}}),t._v(" "),a("el-option",{attrs:{label:"ID",value:"uuid"}})],1),t._v(" "),a("el-button",{staticStyle:{"line-height":"2"},attrs:{slot:"append",icon:"el-icon-search"},on:{click:function(e){e.stopPropagation(),t.getEcmMonitorList(e)}},slot:"append"})],1),t._v(" "),a("el-button",{staticStyle:{"vertical-align":"top"},attrs:{icon:"el-icon-refresh",size:"small"},on:{click:function(e){e.stopPropagation(),t.getEcmMonitorList(e)}}})],1),t._v(" "),a("div",[a("ConsoleTable",{attrs:{tableData:t.ecmMonitorData,tableOptions:t.tableOptions,operationOrNot:!0,OperationEvents:t.ecmOperation,loading:t.loading,dragable:!0,Pagination:t.Pagination},on:{buttonClick:t.handleClick,pagingEvent:t.pagingChange,selectChange:t.selectChange}})],1)]),t._v(" "),t.isMonitorInfo?a("monitorInfo",{attrs:{itemData:t.itemData,infoKeyValue:t.infoKeyValue},on:{returnList:t.returnList}}):t._e()],1)},staticRenderFns:[]};var uc=a("VU/8")(lc,cc,!1,function(t){a("HdUd"),a("LJjF")},"data-v-2a9b276d",null).exports,dc={components:{RegionList:me,ConsoleTable:Te},data:function(){var t=this;return{name:"弹性公网IP",buttonText:"导出监控数据",loading:!1,input5:"",select:"",filter:{status:"",limit:10,page:1,keyword:"",id:""},Pagination:{pagingData:[10,20,50],total:0,show:!1},ecmListData:[],tableOptions:[{prop:"displayname",label:u.common.name},{prop:"status",label:u.common.status,temp:!0,status:!0},{prop:"templatedisplaytext",label:"ID"},{prop:"privateIp",label:"指标个数"}],ecmOperation:[{value:u.ecm.telnet,id:"telnet",fun:function(e){return t.telnet(e)}},{value:u.ecm.changeSpc,id:"changeSpc",fun:function(e){return t.changeSpc(e)}}]}},methods:{create:function(){this.$router.push("/ecm/ecmCreate")},changeRegion:function(t){this.getEcmList()},getEcmList:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(t){var e=this,a=this.filter;this.loading=!0,getEcmList(a).then(function(a){var i=ue()(a.data.results),n=a.data.total_count;e.filterServers(i,t),e.ecmListData=i,e.totalCount=n,e.Pagination.total=e.totalCount,n>e.Pagination.pagingData[0]&&(e.Pagination.show=!0),e.loading=!1}).catch(function(t){e.loading=!1,console.log(t)})}),handleClick:function(t,e){t(e)},pagingChange:function(t,e){"num"==t?this.filter.limit=e:"page"==t&&(this.filter.page=e),this.getEcmList()}},mounted:function(){},beforeDestroy:function(){}},pc={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"ecm_monitor"},[a("RegionList",{attrs:{name:t.name,buttonText:t.buttonText},on:{create:t.create,changeRegion:t.changeRegion}}),t._v(" "),a("div",{staticClass:"content"},[a("div",{staticClass:"content_top"},[a("el-input",{staticClass:"input-with-select",staticStyle:{width:"350px"},attrs:{placeholder:"请输入内容",size:"small"},model:{value:t.input5,callback:function(e){t.input5=e},expression:"input5"}},[a("el-select",{attrs:{slot:"prepend",placeholder:"请选择"},slot:"prepend",model:{value:t.select,callback:function(e){t.select=e},expression:"select"}},[a("el-option",{attrs:{label:"餐厅名",value:"1"}}),t._v(" "),a("el-option",{attrs:{label:"订单号",value:"2"}}),t._v(" "),a("el-option",{attrs:{label:"用户电话",value:"3"}})],1),t._v(" "),a("el-button",{attrs:{slot:"append",icon:"el-icon-search"},slot:"append"})],1)],1),t._v(" "),a("div",[a("ConsoleTable",{attrs:{tableData:t.ecmListData,tableOptions:t.tableOptions,operationOrNot:!0,OperationEvents:t.ecmOperation,loading:t.loading,dragable:!0,Pagination:t.Pagination},on:{buttonClick:t.handleClick,pagingEvent:t.pagingChange}})],1)])],1)},staticRenderFns:[]};var mc=a("VU/8")(dc,pc,!1,function(t){a("+07k"),a("H6Sz")},"data-v-d362bf5a",null).exports,hc={components:{RegionList:me,ConsoleTable:Te},data:function(){var t=this;return{name:"弹性负载均衡监控",buttonText:"导出监控数据",loading:!1,input5:"",select:"",filter:{status:"",limit:10,page:1,keyword:"",id:""},Pagination:{pagingData:[10,20,50],total:0,show:!1},ecmListData:[],tableOptions:[{prop:"displayname",label:u.common.name},{prop:"status",label:u.common.status,temp:!0,status:!0},{prop:"flavor",label:"监控状态"},{prop:"templatedisplaytext",label:"ID"},{prop:"privateIp",label:"指标个数"}],ecmOperation:[{value:u.ecm.telnet,id:"telnet",fun:function(e){return t.telnet(e)}},{value:u.ecm.changeSpc,id:"changeSpc",fun:function(e){return t.changeSpc(e)}}]}},methods:{create:function(){this.$router.push("/ecm/ecmCreate")},changeRegion:function(t){this.getEcmList()},getEcmList:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(t){var e=this,a=this.filter;this.loading=!0,getEcmList(a).then(function(a){var i=ue()(a.data.results),n=a.data.total_count;e.filterServers(i,t),e.ecmListData=i,e.totalCount=n,e.Pagination.total=e.totalCount,n>e.Pagination.pagingData[0]&&(e.Pagination.show=!0),e.loading=!1}).catch(function(t){e.loading=!1,console.log(t)})}),handleClick:function(t,e){t(e)},pagingChange:function(t,e){"num"==t?this.filter.limit=e:"page"==t&&(this.filter.page=e),this.getEcmList()}},mounted:function(){},beforeDestroy:function(){}},fc={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"ecm_monitor"},[a("RegionList",{attrs:{name:t.name,buttonText:t.buttonText},on:{create:t.create,changeRegion:t.changeRegion}}),t._v(" "),a("div",{staticClass:"content"},[a("div",{staticClass:"content_top"},[a("el-input",{staticClass:"input-with-select",staticStyle:{width:"350px"},attrs:{placeholder:"请输入内容",size:"small"},model:{value:t.input5,callback:function(e){t.input5=e},expression:"input5"}},[a("el-select",{attrs:{slot:"prepend",placeholder:"请选择"},slot:"prepend",model:{value:t.select,callback:function(e){t.select=e},expression:"select"}},[a("el-option",{attrs:{label:"餐厅名",value:"1"}}),t._v(" "),a("el-option",{attrs:{label:"订单号",value:"2"}}),t._v(" "),a("el-option",{attrs:{label:"用户电话",value:"3"}})],1),t._v(" "),a("el-button",{attrs:{slot:"append",icon:"el-icon-search"},slot:"append"})],1)],1),t._v(" "),a("div",[a("ConsoleTable",{attrs:{tableData:t.ecmListData,tableOptions:t.tableOptions,operationOrNot:!0,OperationEvents:t.ecmOperation,loading:t.loading,dragable:!0,Pagination:t.Pagination},on:{buttonClick:t.handleClick,pagingEvent:t.pagingChange}})],1)])],1)},staticRenderFns:[]};var vc=a("VU/8")(hc,fc,!1,function(t){a("lDE/"),a("diGR")},"data-v-4acac0cf",null).exports,gc={components:{RegionList:me,ConsoleTable:Te,monitorInfo:nc},data:function(){var t=this;return{isMonitorInfo:!1,name:"云硬盘监控",buttonText:"导出监控数据",loading:!1,keyword:"",searchType:"name",regionData:[],filter:{page_size:10,page:1,keyword:void 0,volume_uuid:void 0,regionid:void 0},evsMonitorData:[],zabbixQueue:[],itemData:{},infoKeyValue:[],disksTypeObj:{SATA:"普通IO",SAS:"高IO",SSD:"超高IO"},Pagination:{pagingData:[10,20,50],total:0,show:!0},tableOptions:[{prop:"name",label:u.common.name},{prop:"zabbixStatus",label:"监控状态"},{prop:"id",label:"ID",width:400},{prop:"indexNum",label:"指标个数"}],ecmOperation:[{value:"查看监控图表",id:"info",fun:function(e){return t.monitorInfo(e)}}]}},methods:{exportData:function(){var t={data:{defaultData:{defaultSer:"云硬盘",defaultDim:"磁盘",defaultKey:"disk_read_bytes_rate",num_index:10,params:{page_size:this.Pagination.total+20,page:1,regionid:this.filter.regionid}},title:"导出监控数据"},view:rc,form:[]};this.$alertDialog(t).then(function(t){})},create:function(){this.$router.push("/ecm/ecmCreate")},monitorInfo:function(t){var e=this;if(t.id&&""!=t.id){var a=this.$loading({lock:!0,text:"获取详情中...",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});Hl({page_size:10,page:1,volume_uuid:t.id,regionid:this.filter.regionid}).then(function(i){a.close(),a=null,200==i.data.code&&i.data.results.length>0?(e.itemData=ec()({infoName:"云硬盘详情",returnName:"云硬盘监控列表"},t,i.data.results[0],{evs:!0}),e.infoKeyValue=[{label:"名称：",value:e.itemData.name},{label:"磁盘ID：",value:e.itemData.id},{label:"创建时间：",value:new Date(e.itemData.created).Format("yyyy-MM-dd hh:mm:ss")},{label:"磁盘属性：",value:"DATADISK"==e.itemData.type?"数据盘":"系统盘"},{label:"容量(GB)：",value:e.itemData.size/1073741824},{label:"到期时间：",value:e.itemData.expire_date?new Date(e.itemData.expire_date).Format("yyyy-MM-dd hh:mm:ss"):"-----"},{label:"状态：",value:e.itemData.status,className:"Ready"==e.itemData.state?"status_normal":"status_error"},{label:"磁盘类型：",value:e.disksTypeObj[e.itemData.disk_types]},{label:"云服务器ID：",value:e.itemData.virtualmachineid||"-----"},{label:"镜像：",value:"-----"}],e.itemData.virtualmachineid&&Ul({page_size:10,page:1,instance_uuid:e.itemData.virtualmachineid,regionid:e.filter.regionid}).then(function(t){200==t.data.code&&t.data.results.length>0&&(e.infoKeyValue[9].value=t.data.results[0].metadata.image_name)}),e.isMonitorInfo=!0):e.$message({message:i.msg||i.data.msg||"获取云服务器详情失败",type:"error"})}).catch(function(t){a&&(a.close(),a=null)})}else this.$message({message:"查看失败，ID不存在，请联系管理员",type:"warning"})},returnList:function(){this.isMonitorInfo=!1,this.getEvsMonitorList()},changeRegion:function(t){Ct.cancle("CancelToken"),this.filter.regionid=t,this.getEvsMonitorList()},getEvsMonitorList:function(){var t=this;this.getRegionNums();var e=this.filter;this.zabbixQueue=[],e.keyword=e.volume_uuid=void 0,"name"==this.searchType&&""!=this.keyword?e.keyword=this.keyword:"uuid"==this.searchType&&""!=this.keyword&&(e.volume_uuid=this.keyword),this.loading=!0,this.evsMonitorData=[],Hl(e).then(function(e){if(200==e.data.code){t.evsMonitorData=e.data.results,t.Pagination.total=e.data.total_count;var a=Dl.evs.length;t.evsMonitorData.map(function(e,i,n){t.$set(e,"indexNum",a),e.zabbix_name&&""!=e.zabbix_name?(t.$set(e,"zabbixStatus","获取中..."),t.zabbixQueue.push({uuid:e.zabbix_name,id:e.id,getZabbixStatus:"notStart",_zabbixStatus:!1,_index:i})):t.$set(e,"zabbixStatus","获取失败")}),t.openQueue()}else t.$message({message:e.msg||e.data.msg||"获取云服务器监控列表失败",type:"error"});t.loading=!1}).catch(function(e){t.loading=!1})},openQueue:function(){var t=this.zabbixQueue.length;t=t>5?5:t;for(var e=0;e<t;e++)this._getZabbixStatus(this.zabbixQueue[e])},queueNext:function(){for(var t=0;t<this.zabbixQueue.length;t++)if("notStart"==this.zabbixQueue[t].getZabbixStatus)return void this._getZabbixStatus(this.zabbixQueue[t])},_getZabbixStatus:function(t){var e=this;t.getZabbixStatus="loading",Wl({uuid:t.uuid}).then(function(a){0==a.data.status?(t.getZabbixStatus="success",t._zabbixStatus=a.data.data.agent_status,t._zabbixStatus?e.evsMonitorData[t._index].zabbixStatus="正常":e.evsMonitorData[t._index].zabbixStatus="异常"):(t.getZabbixStatus="fail",e.evsMonitorData[t._index].zabbixStatus="获取失败"),e.queueNext()},function(a){t.getZabbixStatus="error",e.evsMonitorData[t._index].zabbixStatus="获取失败",e.queueNext()})},handleClick:function(t,e){t(e)},pagingChange:function(t,e){"num"==t?this.filter.page_size=e:"page"==t&&(this.filter.page=e),this.getEvsMonitorList()},getRegionNums:function(){var t=this;Vt({resource:"volume"}).then(function(e){if(200==e.data.code){var a=e.data.results[0].Volume;a&&a.attatch_count&&(t.regionData=a.attatch_count)}})}},created:function(){this.getEvsMonitorList()},mounted:function(){},beforeDestroy:function(){}},bc={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"ebs_monitor"},[t.isMonitorInfo?t._e():a("RegionList",{attrs:{name:t.name,regionData:t.regionData,buttonText:t.buttonText},on:{create:t.exportData,changeRegion:t.changeRegion}}),t._v(" "),t.isMonitorInfo?t._e():a("div",{staticClass:"content"},[a("div",{staticClass:"content_top"},[a("el-input",{staticClass:"input-with-select",staticStyle:{width:"350px"},attrs:{placeholder:"请根据下拉框选项输入内容",size:"small",clearable:""},model:{value:t.keyword,callback:function(e){t.keyword=e},expression:"keyword"}},[a("el-select",{attrs:{slot:"prepend",placeholder:"请选择"},slot:"prepend",model:{value:t.searchType,callback:function(e){t.searchType=e},expression:"searchType"}},[a("el-option",{attrs:{label:"名称",value:"name"}}),t._v(" "),a("el-option",{attrs:{label:"ID",value:"uuid"}})],1),t._v(" "),a("el-button",{staticStyle:{"line-height":"2"},attrs:{slot:"append",icon:"el-icon-search"},on:{click:function(e){e.stopPropagation(),t.getEvsMonitorList(e)}},slot:"append"})],1),t._v(" "),a("el-button",{staticStyle:{"vertical-align":"top"},attrs:{icon:"el-icon-refresh",size:"small"},on:{click:function(e){e.stopPropagation(),t.getEvsMonitorList(e)}}})],1),t._v(" "),a("div",[a("ConsoleTable",{attrs:{tableData:t.evsMonitorData,tableOptions:t.tableOptions,operationOrNot:!0,OperationEvents:t.ecmOperation,loading:t.loading,dragable:!0,Pagination:t.Pagination},on:{buttonClick:t.handleClick,pagingEvent:t.pagingChange}})],1)]),t._v(" "),t.isMonitorInfo?a("monitorInfo",{attrs:{itemData:t.itemData,infoKeyValue:t.infoKeyValue},on:{returnList:t.returnList}}):t._e()],1)},staticRenderFns:[]};var _c=a("VU/8")(gc,bc,!1,function(t){a("TZWs"),a("G8BV")},"data-v-40fd64da",null).exports,yc={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"monitor_alarm"},[this._v("\n\t"+this._s(this.msg)+"\n")])},staticRenderFns:[]};var wc=a("VU/8")({data:function(){return{msg:"告警服务"}},mounted:function(){},methods:{},computed:{}},yc,!1,function(t){a("moIx")},"data-v-e3001296",null).exports,Cc={components:{RegionList:me,ConsoleTable:Te},data:function(){var t=this;return{name:"告警历史",loading:!1,input5:"",select:"",value4:"",pickerOptions2:{shortcuts:[{text:"最近一周",onClick:function(t){var e=new Date,a=new Date;a.setTime(a.getTime()-6048e5),t.$emit("pick",[a,e])}},{text:"最近一个月",onClick:function(t){var e=new Date,a=new Date;a.setTime(a.getTime()-2592e6),t.$emit("pick",[a,e])}},{text:"最近三个月",onClick:function(t){var e=new Date,a=new Date;a.setTime(a.getTime()-7776e6),t.$emit("pick",[a,e])}}]},currentId:"4m",areas:[{name:"1小时",uuid:"1m"},{name:"2小时",uuid:"2m"},{name:"4小时",uuid:"4m"},{name:"6小时",uuid:"6m"},{name:"12小时",uuid:"12m"},{name:"1天",uuid:"1y"},{name:"3天",uuid:"3y"},{name:"7天",uuid:"7y"},{name:"一个月",uuid:"1M"}],filter:{status:"",limit:10,page:1,keyword:"",id:""},Pagination:{pagingData:[10,20,50],total:0,show:!1},ecmListData:[{displayname:"ecs-a8fe",status:"dsafas",flavor:"正常",id:"adsfd2345dsdffsd",num:10}],tableOptions:[{prop:"displayname",label:"产品类型"},{prop:"status",label:"故障资源"},{prop:"flavor",label:"发生时间"},{prop:"id",label:"持续时间"},{prop:"num",label:"规则名称"},{prop:"num",label:"通知方式"},{prop:"num",label:"状态"},{prop:"num",label:"通知对象"}],ecmOperation:[{value:"展开",id:"telnet",fun:function(e){return t.monitorInfo(e)}}]}},methods:{monitorInfo:function(t){console.log(t)},changeRegion:function(t){this.getEcmList()},getEcmList:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(t){var e=this,a=this.filter;this.loading=!0,getEcmList(a).then(function(a){var i=ue()(a.data.results),n=a.data.total_count;e.filterServers(i,t),e.ecmListData=i,e.totalCount=n,e.Pagination.total=e.totalCount,n>e.Pagination.pagingData[0]&&(e.Pagination.show=!0),e.loading=!1}).catch(function(t){e.loading=!1,console.log(t)})}),handleClick:function(t,e){t(e)},pagingChange:function(t,e){"num"==t?this.filter.limit=e:"page"==t&&(this.filter.page=e),this.getEcmList()},changeArea:function(t){console.log(t)}},mounted:function(){},beforeDestroy:function(){}},kc={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"ecm_monitor"},[a("div",{staticClass:"top"},[a("el-row",[a("el-col",{attrs:{span:15}},[a("div",{staticClass:"left"},[a("p",{staticClass:"node_name"},[t._v(t._s(t.name))]),t._v(" "),t._l(t.areas,function(e,i){return a("span",{staticClass:"areaButton",class:{"areaButton-bg":t.currentId==e.uuid},on:{click:function(a){t.changeArea(e)}}},[t._v("\n\t\t  \t\t\t\t"+t._s(e.name)+"\n\t\t  \t\t\t")])})],2)]),t._v(" "),a("el-col",{attrs:{span:9}},[a("div",{staticClass:"right"},[a("el-date-picker",{attrs:{type:"datetimerange","picker-options":t.pickerOptions2,"range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期",align:"center",size:"small"},model:{value:t.value4,callback:function(e){t.value4=e},expression:"value4"}})],1)])],1)],1),t._v(" "),a("div",{staticClass:"line"}),t._v(" "),a("div",{staticClass:"content"},[a("div",{staticClass:"content_top"},[a("el-input",{staticClass:"input-with-select",staticStyle:{width:"350px"},attrs:{placeholder:"请输入内容",size:"small"},model:{value:t.input5,callback:function(e){t.input5=e},expression:"input5"}},[a("el-select",{attrs:{slot:"prepend",placeholder:"请选择"},slot:"prepend",model:{value:t.select,callback:function(e){t.select=e},expression:"select"}},[a("el-option",{attrs:{label:"餐厅名",value:"1"}}),t._v(" "),a("el-option",{attrs:{label:"订单号",value:"2"}}),t._v(" "),a("el-option",{attrs:{label:"用户电话",value:"3"}})],1),t._v(" "),a("el-button",{attrs:{slot:"append",icon:"el-icon-search"},slot:"append"})],1)],1),t._v(" "),a("div",[a("ConsoleTable",{attrs:{tableData:t.ecmListData,tableOptions:t.tableOptions,operationOrNot:!0,OperationEvents:t.ecmOperation,loading:t.loading,dragable:!0,Pagination:t.Pagination},on:{buttonClick:t.handleClick,pagingEvent:t.pagingChange}})],1)])])},staticRenderFns:[]};var xc={data:function(){return{name:"告警模版",template_type:"default",input5:"",select:"",tableData5:[{id:"12987122",name:"好滋好味鸡蛋仔",category:"江浙小吃、小吃零食",desc:"荷兰优质淡奶，奶香浓而不腻",address:"上海市普陀区真北路",shop:"王小虎夫妻店",shopId:"10333"},{id:"12987123",name:"好滋好味鸡蛋仔",category:"江浙小吃、小吃零食",desc:"荷兰优质淡奶，奶香浓而不腻",address:"上海市普陀区真北路",shop:"王小虎夫妻店",shopId:"10333"},{id:"12987125",name:"好滋好味鸡蛋仔",category:"江浙小吃、小吃零食",desc:"荷兰优质淡奶，奶香浓而不腻",address:"上海市普陀区真北路",shop:"王小虎夫妻店",shopId:"10333"},{id:"12987126",name:"好滋好味鸡蛋仔",category:"江浙小吃、小吃零食",desc:"荷兰优质淡奶，奶香浓而不腻",address:"上海市普陀区真北路",shop:"王小虎夫妻店",shopId:"10333"}],tableData5_1:[{index_name:"异常主机数 原始值>1",zhou:"2分钟",num:2},{index_name:"异常主机数 原始值>1",zhou:"2分钟",num:2},{index_name:"异常主机数 原始值>1",zhou:"2分钟",num:2}]}},mounted:function(){var t;(t.regionid||(t.regionid=F()),Ct({url:"console/ces/trigger/template/",method:"get",params:t})).then(function(t){console.log(t,"adfas")},function(t){})},methods:{create:function(){this.$router.push("/monitor/createTemplate")}},computed:{isDefault:function(){return"default"===this.template_type}}},Dc={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"monitor_template"},[a("div",{staticClass:"header"},[a("h4",{staticClass:"header_title"},[t._v(t._s(t.name))]),t._v(" "),a("el-row",[a("el-col",{attrs:{span:20}},[a("p",{staticClass:"header_tip"},[a("i",{staticClass:"el-icon-question"}),t._v(" "),a("span",[t._v("告警模版是一组以服务为单位的告警规则组合，您可食用系统默认推荐的或自己创建的告警模版，快速为云资源创建告警规则。")])])]),t._v(" "),a("el-col",{staticClass:"t_a_c",attrs:{span:4}},[a("el-button",{staticClass:"createButton",on:{click:t.create}},[t._v("创建自定义告警模版")])],1)],1)],1),t._v(" "),a("div",{staticClass:"line"}),t._v(" "),a("div",{staticClass:"content"},[a("div",{staticClass:"template_title"},[a("el-radio-group",{attrs:{size:"small",fill:"#3dc7fa"},model:{value:t.template_type,callback:function(e){t.template_type=e},expression:"template_type"}},[a("el-radio-button",{attrs:{label:"default"}},[t._v("默认告警模版")]),t._v(" "),a("el-radio-button",{attrs:{label:"custom"}},[t._v("自定义告警模版")])],1),t._v(" "),a("div",{staticClass:"fl_r"},[a("el-input",{staticClass:"input-with-select",staticStyle:{width:"350px"},attrs:{placeholder:"请输入内容",size:"small"},model:{value:t.input5,callback:function(e){t.input5=e},expression:"input5"}},[a("el-select",{attrs:{slot:"prepend",placeholder:"请选择"},slot:"prepend",model:{value:t.select,callback:function(e){t.select=e},expression:"select"}},[a("el-option",{attrs:{label:"餐厅名",value:"1"}}),t._v(" "),a("el-option",{attrs:{label:"订单号",value:"2"}}),t._v(" "),a("el-option",{attrs:{label:"用户电话",value:"3"}})],1),t._v(" "),a("el-button",{attrs:{slot:"append",icon:"el-icon-search"},slot:"append"})],1),t._v(" "),a("el-button",{staticClass:"m_l_10",attrs:{icon:"el-icon-refresh",size:"small"}})],1)],1),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.isDefault,expression:"isDefault"}],staticClass:"template_default p_t_20"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData5}},[a("el-table-column",{attrs:{type:"expand"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-form",{staticClass:"demo-table-expand",attrs:{"label-position":"left",inline:""}},[a("el-form-item",{attrs:{label:"名称："}},[a("span",[t._v(t._s(e.row.name))])]),t._v(" "),a("el-form-item",{attrs:{label:"服务："}},[a("span",[t._v(t._s(e.row.shop))])]),t._v(" "),a("el-form-item",{attrs:{label:"描述："}},[a("span",[t._v(t._s(e.row.id))])]),t._v(" "),a("el-form-item",{attrs:{label:"维度："}},[a("span",[t._v(t._s(e.row.shopId))])])],1),t._v(" "),a("h4",{staticClass:"header_title p_t_20"},[t._v("告警规则")]),t._v(" "),a("el-table",{staticClass:"row_table",attrs:{data:t.tableData5_1}},[a("el-table-column",{attrs:{label:"监控指标",prop:"index_name"}}),t._v(" "),a("el-table-column",{attrs:{label:"监控周期",prop:"zhou"}}),t._v(" "),a("el-table-column",{attrs:{label:"出现次数",prop:"num"}})],1)]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"名称",prop:"id"}}),t._v(" "),a("el-table-column",{attrs:{label:"描述",prop:"name"}}),t._v(" "),a("el-table-column",{attrs:{label:"服务",prop:"name"}}),t._v(" "),a("el-table-column",{attrs:{label:"告警规则数",prop:"desc"}})],1)],1),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:!t.isDefault,expression:"!isDefault"}],staticClass:"template_custom p_t_20"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData5}},[a("el-table-column",{attrs:{type:"expand"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-form",{staticClass:"demo-table-expand",attrs:{"label-position":"left",inline:""}},[a("el-form-item",{attrs:{label:"名称："}},[a("span",[t._v(t._s(e.row.name))])]),t._v(" "),a("el-form-item",{attrs:{label:"服务："}},[a("span",[t._v(t._s(e.row.shop))])]),t._v(" "),a("el-form-item",{attrs:{label:"描述："}},[a("span",[t._v(t._s(e.row.id))])]),t._v(" "),a("el-form-item",{attrs:{label:"维度："}},[a("span",[t._v(t._s(e.row.shopId))])])],1),t._v(" "),a("h4",{staticClass:"header_title p_t_20"},[t._v("告警规则")]),t._v(" "),a("el-table",{staticClass:"row_table",attrs:{data:t.tableData5_1}},[a("el-table-column",{attrs:{label:"监控指标",prop:"index_name"}}),t._v(" "),a("el-table-column",{attrs:{label:"监控周期",prop:"zhou"}}),t._v(" "),a("el-table-column",{attrs:{label:"出现次数",prop:"num"}})],1)]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"名称",prop:"id"}}),t._v(" "),a("el-table-column",{attrs:{label:"描述",prop:"name"}}),t._v(" "),a("el-table-column",{attrs:{label:"服务",prop:"name"}}),t._v(" "),a("el-table-column",{attrs:{label:"告警规则数",prop:"desc"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(a){t.handleEdit(e.$index,e.row)}}},[t._v("修改")]),t._v(" "),a("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(a){t.handleDelete(e.$index,e.row)}}},[t._v("删除")])]}}])})],1)],1)])])},staticRenderFns:[]};var Tc={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"create_template"},[a("el-header",{attrs:{height:"20px"}},[a("h4",{staticClass:"template_title"},[t._v(t._s(t.name))])]),t._v(" "),a("el-container",[a("el-main",{staticClass:"padding-left"},[a("el-steps",{attrs:{direction:"vertical",active:5,space:"auto"}},[a("el-step",{ref:"_obj",staticClass:"info-step",attrs:{title:"选择类型"}},[a("div",{staticClass:"stepContent",attrs:{slot:"description"},slot:"description"},[a("div",{staticClass:" stepIcon"},[a("div",{staticClass:"stepIcon-title"},[t._v("1")]),t._v(" "),a("div",{staticClass:"stepIcon-rectangle"},[a("div",{staticClass:"stepIcon-triangle"})])]),t._v(" "),a("el-form",{ref:"monitor_obj",attrs:{model:t.monitor_obj,"label-width":"110px","label-position":"left",size:"small"}},[a("el-form-item",{attrs:{label:"服务：",prop:"server",required:""}},[a("el-select",{staticClass:"width_430",attrs:{placeholder:"请选择活动区域"},model:{value:t.server,callback:function(e){t.server=e},expression:"server"}},[a("el-option",{attrs:{label:"服务1",value:"shanghai"}}),t._v(" "),a("el-option",{attrs:{label:"服务2",value:"beijing"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"维度：",prop:"server",required:""}},[a("el-select",{staticClass:"width_430",attrs:{placeholder:"请选择活动区域"},model:{value:t.server,callback:function(e){t.server=e},expression:"server"}},[a("el-option",{attrs:{label:"维度1",value:"shanghai"}}),t._v(" "),a("el-option",{attrs:{label:"维度2",value:"beijing"}})],1)],1),t._v(" "),a("el-form-item",{staticClass:"label_width",attrs:{label:"是否从现有模版导入：",required:""}},[a("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#d7deec"},model:{value:t.value2,callback:function(e){t.value2=e},expression:"value2"}})],1),t._v(" "),t.value2?a("el-form-item",{attrs:{label:"模版名称：",prop:"server",required:""}},[a("el-select",{staticClass:"width_430",attrs:{placeholder:"请选择活动区域"},model:{value:t.server,callback:function(e){t.server=e},expression:"server"}},[a("el-option",{attrs:{label:"模版名称1",value:"shanghai"}}),t._v(" "),a("el-option",{attrs:{label:"模版名称2",value:"beijing"}})],1)],1):t._e()],1)],1)]),t._v(" "),a("el-step",{ref:"_index",staticClass:"network-step",attrs:{title:"添加规则"}},[a("div",{staticClass:"stepContent",attrs:{slot:"description"},slot:"description"},[a("div",{staticClass:" stepIcon"},[a("div",{staticClass:"stepIcon-title"},[t._v("2")]),t._v(" "),a("div",{staticClass:"stepIcon-rectangle"},[a("div",{staticClass:"stepIcon-triangle"})])]),t._v(" "),a("el-form",{ref:"monitor_index",attrs:{model:t.monitor_index,"label-width":"110px","label-position":"left"}},[a("div",{},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData}},[a("el-table-column",{attrs:{label:"监控指标"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-select",{attrs:{placeholder:"请选择活动区域",size:"small"},model:{value:t.server,callback:function(e){t.server=e},expression:"server"}},[a("el-option",{attrs:{label:"服务1",value:"shanghai"}}),t._v(" "),a("el-option",{attrs:{label:"服务2",value:"beijing"}})],1)]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"聚合方式"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-select",{attrs:{placeholder:"请选择活动区域",size:"small"},model:{value:t.server,callback:function(e){t.server=e},expression:"server"}},[a("el-option",{attrs:{label:"服务1",value:"shanghai"}}),t._v(" "),a("el-option",{attrs:{label:"服务2",value:"beijing"}})],1)]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"阀值方式"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-select",{attrs:{placeholder:"请选择活动区域",size:"small"},model:{value:t.server,callback:function(e){t.server=e},expression:"server"}},[a("el-option",{attrs:{label:"服务1",value:"shanghai"}}),t._v(" "),a("el-option",{attrs:{label:"服务2",value:"beijing"}})],1)]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"告警阀值"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-input-number",{staticClass:"width_100",attrs:{"controls-position":"right",min:1,max:100,size:"small"},model:{value:t.num8,callback:function(e){t.num8=e},expression:"num8"}})]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"监控周期"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-select",{attrs:{placeholder:"请选择活动区域",size:"small"},model:{value:t.server,callback:function(e){t.server=e},expression:"server"}},[a("el-option",{attrs:{label:"服务1",value:"shanghai"}}),t._v(" "),a("el-option",{attrs:{label:"服务2",value:"beijing"}})],1)]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"出现次数"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-input-number",{staticClass:"width_100",attrs:{"controls-position":"right",min:1,max:100,size:"small"},model:{value:t.num8,callback:function(e){t.num8=e},expression:"num8"}})]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(a){t.delRule(e.$index,e.row)}}},[t._v("删除")])]}}])})],1)],1),t._v(" "),a("el-button",{attrs:{type:"text",icon:"el-icon-circle-plus"},on:{click:function(e){e.stopPropagation(),t.addRule(e)}}},[t._v("添加")]),t._v(" "),a("label",{staticClass:"f_c_6"},[t._v("您还可以添加18个告警规则")])],1)],1)]),t._v(" "),a("el-step",{ref:"_rule",staticClass:"create-step",attrs:{title:"模版信息"}},[a("div",{staticClass:"stepContent",attrs:{slot:"description"},slot:"description"},[a("div",{staticClass:" stepIcon"},[a("div",{staticClass:"stepIcon-title"},[t._v("3")]),t._v(" "),a("div",{staticClass:"stepIcon-rectangle"},[a("div",{staticClass:"stepIcon-triangle"})])]),t._v(" "),a("el-form",{ref:"monitor_rule",attrs:{model:t.monitor_rule,"label-width":"110px","label-position":"right",size:"small"}},[a("el-form-item",{attrs:{label:"名称：",prop:"",required:""}},[a("el-input",{staticClass:"width_430",attrs:{placeholder:"请输入内容",clearable:""},model:{value:t.obj_list_sr,callback:function(e){t.obj_list_sr=e},expression:"obj_list_sr"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"描述：",prop:""}},[a("el-input",{staticClass:"width_430",attrs:{type:"textarea",rows:4,placeholder:"请输入内容"},model:{value:t.textarea,callback:function(e){t.textarea=e},expression:"textarea"}})],1)],1)],1)])],1)],1)],1),t._v(" "),a("el-footer",{attrs:{height:"40px"}},[a("el-button",{attrs:{type:"info"},on:{click:function(e){e.stopPropagation(),t.cancel(e)}}},[t._v("取消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){e.stopPropagation(),t.order("indirect")}}},[t._v("确定")])],1)],1)},staticRenderFns:[]};var Ic={components:{ConsoleTable:Te},data:function(){var t=this;return{name:"告警规则",input5:"",select:"",value:"",tableData5:[],loading:!1,checkData:[],options:[{value:"选项1",label:"黄金糕"},{value:"选项2",label:"双皮奶"},{value:"选项3",label:"蚵仔煎"},{value:"选项4",label:"龙须面"},{value:"选项5",label:"北京烤鸭"}],Pagination:{pagingData:[10,20,50],total:0,show:!1},ruleListData:[],tableOptions:[{prop:"displayname",label:"名称"},{prop:"status",label:"服务"},{prop:"templatedisplaytext",label:"监控对象"},{prop:"privateIp",label:"监控对象ID"},{prop:"privateIp",label:"阀值"},{prop:"privateIp",label:"状态"},{prop:"privateIp",label:"最近状态改变时间"}],ruleOperation:[{value:"停用",id:"telnet",fun:function(e){return t.telnet(e)}},{value:"修改",id:"changeSpc",fun:function(e){return t.changeSpc(e)}},{value:"删除",id:"changeSpc",fun:function(e){return t.changeSpc(e)}}]}},mounted:function(){},methods:{create:function(){this.$router.push("/monitor/createTemplate")},handleClick:function(t,e){t(e)},pagingChange:function(t,e){"num"==t?this.filter.limit=e:"page"==t&&(this.filter.page=e),this.getEcmList()},changeTable:function(t){this.checkData=t}},computed:{}},Sc={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"monitor_rule"},[a("div",{staticClass:"header"},[a("h4",{staticClass:"header_title"},[t._v(t._s(t.name))]),t._v(" "),a("el-row",[a("el-col",{attrs:{span:20}},[a("p",{staticClass:"header_tip"},[a("i",{staticClass:"el-icon-question"}),t._v(" "),a("span",[t._v("添加告警规则时使用原始值可以提高告警触发速度1-5倍。")])])]),t._v(" "),a("el-col",{staticClass:"t_a_c",attrs:{span:4}},[a("el-button",{staticClass:"createButton",on:{click:t.create}},[t._v("创建告警规则")])],1)],1)],1),t._v(" "),a("div",{staticClass:"line"}),t._v(" "),a("div",{staticClass:"content"},[a("div",{staticClass:"rule_title"},[a("el-button",{attrs:{type:"success",size:"small"}},[t._v("启用")]),t._v(" "),a("el-button",{attrs:{type:"success",size:"small"}},[t._v("停用")]),t._v(" "),a("el-button",{attrs:{type:"success",size:"small"}},[t._v("删除")]),t._v(" "),a("el-button",{staticClass:"fl_r m_l_10",attrs:{icon:"el-icon-refresh",size:"small"}}),t._v(" "),a("el-input",{staticClass:"input-with-select fl_r",staticStyle:{width:"350px"},attrs:{placeholder:"请输入内容",size:"small"},model:{value:t.input5,callback:function(e){t.input5=e},expression:"input5"}},[a("el-select",{attrs:{slot:"prepend",placeholder:"请选择"},slot:"prepend",model:{value:t.select,callback:function(e){t.select=e},expression:"select"}},[a("el-option",{attrs:{label:"餐厅名",value:"1"}}),t._v(" "),a("el-option",{attrs:{label:"订单号",value:"2"}}),t._v(" "),a("el-option",{attrs:{label:"用户电话",value:"3"}})],1),t._v(" "),a("el-button",{attrs:{slot:"append",icon:"el-icon-search"},slot:"append"})],1),t._v(" "),a("el-select",{staticClass:"fl_r",attrs:{placeholder:"请选择",size:"small"},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}},t._l(t.options,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}))],1),t._v(" "),a("p",{staticClass:"tip_num"},[t._v("您还可以创建7个告警规则")]),t._v(" "),a("div",[a("ConsoleTable",{attrs:{checkBox:!0,tableData:t.ruleListData,tableOptions:t.tableOptions,operationOrNot:!0,OperationEvents:t.ruleOperation,loading:t.loading,dragable:!0,Pagination:t.Pagination},on:{buttonClick:t.handleClick,pagingEvent:t.pagingChange,changeTable:t.changeTable}})],1)])])},staticRenderFns:[]};var Ec={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"create_rule"},[a("el-header",{attrs:{height:"20px"}},[a("h4",{staticClass:"rule_title"},[t._v(t._s(t.name))])]),t._v(" "),a("el-container",[a("el-main",{staticClass:"padding-left"},[a("el-steps",{attrs:{direction:"vertical",active:5,space:"auto"}},[a("el-step",{ref:"_obj",staticClass:"info-step",attrs:{title:"选择监控对象"}},[a("div",{staticClass:"stepContent",attrs:{slot:"description"},slot:"description"},[a("div",{staticClass:" stepIcon"},[a("div",{staticClass:"stepIcon-title"},[t._v("1")]),t._v(" "),a("div",{staticClass:"stepIcon-rectangle"},[a("div",{staticClass:"stepIcon-triangle"})])]),t._v(" "),a("el-form",{ref:"monitor_obj",attrs:{model:t.monitor_obj,"label-width":"140px","label-position":"left",size:"small"}},[a("el-form-item",{attrs:{label:"云服务：",prop:"server",required:""}},[a("el-select",{staticClass:"width_430",attrs:{placeholder:"请选择活动区域"},model:{value:t.monitor_obj.server,callback:function(e){t.$set(t.monitor_obj,"server",e)},expression:"monitor_obj.server"}},[a("el-option",{attrs:{label:"云服务1",value:"shanghai"}}),t._v(" "),a("el-option",{attrs:{label:"云服务2",value:"beijing"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"维度：",prop:"server",required:""}},[a("el-select",{staticClass:"width_430",attrs:{placeholder:"请选择活动区域"},model:{value:t.monitor_obj.server,callback:function(e){t.$set(t.monitor_obj,"server",e)},expression:"monitor_obj.server"}},[a("el-option",{attrs:{label:"维度1",value:"shanghai"}}),t._v(" "),a("el-option",{attrs:{label:"维度2",value:"beijing"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"监控对象：",prop:"m_obj",required:""}},[a("el-input",{staticClass:"width_430",attrs:{placeholder:"请输入内容",clearable:"",readonly:!0},model:{value:t.monitor_obj.obj_list_sr,callback:function(e){t.$set(t.monitor_obj,"obj_list_sr",e)},expression:"monitor_obj.obj_list_sr"}}),t._v(" "),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){t.stopPropagation()}}},[t._v("选择")])],1)],1)],1)]),t._v(" "),a("el-step",{ref:"_index",staticClass:"network-step",attrs:{title:"选择监控指标"}},[a("div",{staticClass:"stepContent",attrs:{slot:"description"},slot:"description"},[a("div",{staticClass:" stepIcon"},[a("div",{staticClass:"stepIcon-title"},[t._v("2")]),t._v(" "),a("div",{staticClass:"stepIcon-rectangle"},[a("div",{staticClass:"stepIcon-triangle"})])]),t._v(" "),a("el-form",{ref:"monitor_index",attrs:{model:t.monitor_index,"label-width":"140px","label-position":"left",size:"small"}},[a("el-form-item",{attrs:{label:"选择类型：",prop:"",required:""}},[a("el-radio-group",{attrs:{size:"small",fill:"#3dc7fa"},model:{value:t.monitor_index.rule_type,callback:function(e){t.$set(t.monitor_index,"rule_type",e)},expression:"monitor_index.rule_type"}},[a("el-radio-button",{attrs:{label:"default"}},[t._v("从模版导入")]),t._v(" "),a("el-radio-button",{attrs:{label:"custom"}},[t._v("自定义创建")])],1)],1),t._v(" "),t.isDefault?[a("el-form-item",{attrs:{label:"模版：",prop:"",required:""}},[a("el-select",{staticClass:"width_430",attrs:{placeholder:"请选择活动区域"},model:{value:t.monitor_obj.server,callback:function(e){t.$set(t.monitor_obj,"server",e)},expression:"monitor_obj.server"}},[a("el-option",{attrs:{label:"维度1",value:"shanghai"}}),t._v(" "),a("el-option",{attrs:{label:"维度2",value:"beijing"}})],1)],1),t._v(" "),a("el-form-item",[a("el-table",{staticClass:"width_430",attrs:{data:t.tableData}},[a("el-table-column",{attrs:{prop:"date",label:"监控指标",width:"160"}}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"阀值",width:"160"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(a){t.handleDelete(e.$index,e.row)}}},[t._v("删除")])]}}])})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"发送通知：",prop:"",required:""}},[a("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#d7deec"},model:{value:t.monitor_index.value2,callback:function(e){t.$set(t.monitor_index,"value2",e)},expression:"monitor_index.value2"}})],1)]:t._e(),t._v(" "),t.isDefault?t._e():[a("el-form-item",{attrs:{label:"监控指标：",prop:"",required:""}},[a("el-select",{staticClass:"width_430",attrs:{placeholder:"请选择活动区域"},model:{value:t.monitor_obj.server,callback:function(e){t.$set(t.monitor_obj,"server",e)},expression:"monitor_obj.server"}},[a("el-option",{attrs:{label:"维度1",value:"shanghai"}}),t._v(" "),a("el-option",{attrs:{label:"维度2",value:"beijing"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"阀值：",prop:"",required:""}},[a("el-select",{staticClass:"width_160",attrs:{placeholder:"请选择活动区域"},model:{value:t.monitor_obj.server,callback:function(e){t.$set(t.monitor_obj,"server",e)},expression:"monitor_obj.server"}},[a("el-option",{attrs:{label:"维度1",value:"shanghai"}}),t._v(" "),a("el-option",{attrs:{label:"维度2",value:"beijing"}})],1),t._v(" "),a("el-select",{staticClass:"width_160",attrs:{placeholder:"请选择活动区域"},model:{value:t.monitor_obj.server,callback:function(e){t.$set(t.monitor_obj,"server",e)},expression:"monitor_obj.server"}},[a("el-option",{attrs:{label:"维度1",value:"shanghai"}}),t._v(" "),a("el-option",{attrs:{label:"维度2",value:"beijing"}})],1),t._v(" "),a("el-input-number",{staticClass:"width_100",attrs:{controls:!1,min:1,max:100},model:{value:t.monitor_index.num8,callback:function(e){t.$set(t.monitor_index,"num8",e)},expression:"monitor_index.num8"}}),t._v("%\n\t\t\t\t\t\t\t\t\t\t")],1),t._v(" "),a("el-form-item",{attrs:{label:"出现次数：",prop:"",required:""}},[a("el-input-number",{staticClass:"width_430",attrs:{"controls-position":"right",min:1,max:10},model:{value:t.monitor_obj.num8,callback:function(e){t.$set(t.monitor_obj,"num8",e)},expression:"monitor_obj.num8"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"出现周期：",prop:"",required:""}},[a("el-input-number",{staticClass:"width_430",attrs:{"controls-position":"right",min:1,max:10},model:{value:t.monitor_obj.num8,callback:function(e){t.$set(t.monitor_obj,"num8",e)},expression:"monitor_obj.num8"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"发送通知：",prop:"",required:""}},[a("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#d7deec"},model:{value:t.monitor_index.value2,callback:function(e){t.$set(t.monitor_index,"value2",e)},expression:"monitor_index.value2"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"选择告警联系组：",prop:"",required:""}},[a("el-input",{staticClass:"width_430",attrs:{placeholder:"请输入内容",clearable:"",readonly:!0},model:{value:t.monitor_obj.obj_list_sr,callback:function(e){t.$set(t.monitor_obj,"obj_list_sr",e)},expression:"monitor_obj.obj_list_sr"}}),t._v(" "),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){t.stopPropagation()}}},[t._v("选择")])],1),t._v(" "),a("el-form-item",{attrs:{label:"沉默时间：",prop:"",required:""}},[a("el-input-number",{staticClass:"width_430",attrs:{"controls-position":"right",min:1,max:10},model:{value:t.monitor_obj.num8,callback:function(e){t.$set(t.monitor_obj,"num8",e)},expression:"monitor_obj.num8"}}),t._v(" "),a("p",{staticClass:"display_inline"},[a("i",{staticClass:"el-icon-question c_yellow"}),t._v(" "),a("label",{staticClass:"f_c_6"},[t._v("指告警发生后如果未恢复正常，间隔多久重复发送一次告警通知")])])],1),t._v(" "),a("el-form-item",{attrs:{label:"触发场景：",prop:"",required:""}},[a("div",{staticClass:"width_430 display_inline"},[a("el-checkbox",{model:{value:t.monitor_index.checked,callback:function(e){t.$set(t.monitor_index,"checked",e)},expression:"monitor_index.checked"}},[t._v("出现告警")]),t._v(" "),a("el-checkbox",{model:{value:t.monitor_index.checked,callback:function(e){t.$set(t.monitor_index,"checked",e)},expression:"monitor_index.checked"}},[t._v("恢复正常")]),t._v(" "),a("el-checkbox",{model:{value:t.monitor_index.checked,callback:function(e){t.$set(t.monitor_index,"checked",e)},expression:"monitor_index.checked"}},[t._v("数据不足")])],1),t._v(" "),a("p",{staticClass:"display_inline"},[a("i",{staticClass:"el-icon-question c_yellow"}),t._v(" "),a("label",{staticClass:"f_c_6"},[t._v("连续三个小时未有监控数据数据上报，则判断当前状态为数据不足")])])])]],2)],1)]),t._v(" "),a("el-step",{ref:"_rule",staticClass:"create-step",attrs:{title:"规则信息"}},[a("div",{staticClass:"stepContent",attrs:{slot:"description"},slot:"description"},[a("div",{staticClass:" stepIcon"},[a("div",{staticClass:"stepIcon-title"},[t._v("3")]),t._v(" "),a("div",{staticClass:"stepIcon-rectangle"},[a("div",{staticClass:"stepIcon-triangle"})])]),t._v(" "),a("el-form",{ref:"monitor_rule",attrs:{model:t.monitor_rule,"label-width":"140px","label-position":"right"}},[a("el-form-item",{attrs:{label:"名称：",prop:"",required:""}},[a("el-input",{staticClass:"width_430",attrs:{placeholder:"请输入内容",clearable:""},model:{value:t.monitor_obj.obj_list_sr,callback:function(e){t.$set(t.monitor_obj,"obj_list_sr",e)},expression:"monitor_obj.obj_list_sr"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"描述：",prop:""}},[a("el-input",{staticClass:"width_430",attrs:{type:"textarea",rows:4,placeholder:"请输入内容"},model:{value:t.monitor_rule.textarea,callback:function(e){t.$set(t.monitor_rule,"textarea",e)},expression:"monitor_rule.textarea"}})],1)],1)],1)])],1)],1)],1),t._v(" "),a("el-footer",{attrs:{height:"40px"}},[a("el-button",{attrs:{type:"info"},on:{click:function(e){e.stopPropagation(),t.cancel(e)}}},[t._v("取消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){e.stopPropagation(),t.order("indirect")}}},[t._v("确定")])],1)],1)},staticRenderFns:[]};var Oc={components:{ConsoleTable:Te},data:function(){var t=this;return{name:"告警联系人管理",user_type:"user",input5:"",select:"",u_loading:!1,Pagination:{pagingData:[10,20,50],total:0,show:!1},userListData:[],userTableOptions:[{prop:"displayname",label:"姓名"},{prop:"status",label:"手机号码"},{prop:"templatedisplaytext",label:"邮箱"},{prop:"privateIp",label:"所属报警组"}],userOperation:[{value:"编辑",id:"telnet",fun:function(e){return t.telnet(e)}},{value:"删除",id:"changeSpc",fun:function(e){return t.changeSpc(e)}}],tableData5:[{id:"12987122",name:"好滋好味鸡蛋仔",category:"江浙小吃、小吃零食",desc:"荷兰优质淡奶，奶香浓而不腻",address:"上海市普陀区真北路",shop:"王小虎夫妻店",shopId:"10333"},{id:"12987123",name:"好滋好味鸡蛋仔",category:"江浙小吃、小吃零食",desc:"荷兰优质淡奶，奶香浓而不腻",address:"上海市普陀区真北路",shop:"王小虎夫妻店",shopId:"10333"},{id:"12987125",name:"好滋好味鸡蛋仔",category:"江浙小吃、小吃零食",desc:"荷兰优质淡奶，奶香浓而不腻",address:"上海市普陀区真北路",shop:"王小虎夫妻店",shopId:"10333"},{id:"12987126",name:"好滋好味鸡蛋仔",category:"江浙小吃、小吃零食",desc:"荷兰优质淡奶，奶香浓而不腻",address:"上海市普陀区真北路",shop:"王小虎夫妻店",shopId:"10333"}]}},mounted:function(){},methods:{handleClick:function(t,e){t(e)},pagingChange:function(t,e){"num"==t?this.filter.limit=e:"page"==t&&(this.filter.page=e),this.getEcmList()},changeTable:function(t){this.checkData=t}},computed:{isUser:function(){return"user"===this.user_type}}},Fc={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"monitor_userGroup"},[a("h4",{staticClass:"header_title"},[t._v(t._s(t.name))]),t._v(" "),a("div",{staticClass:"tab"},[a("el-radio-group",{attrs:{size:"small"},model:{value:t.user_type,callback:function(e){t.user_type=e},expression:"user_type"}},[a("el-radio-button",{attrs:{label:"user"}},[t._v("告警联系人")]),t._v(" "),a("el-radio-button",{attrs:{label:"group"}},[t._v("告警联系组")])],1)],1),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.isUser,expression:"isUser"}],staticClass:"user_content"},[a("div",{},[a("el-button",{attrs:{type:"success",size:"small"}},[t._v("添加联系人")]),t._v(" "),a("el-button",{attrs:{type:"success",size:"small"}},[t._v("删除")]),t._v(" "),a("el-button",{staticClass:"fl_r m_l_10",attrs:{icon:"el-icon-refresh",size:"small"}}),t._v(" "),a("el-input",{staticClass:"input-with-select fl_r",staticStyle:{width:"350px"},attrs:{placeholder:"请输入内容",size:"small"},model:{value:t.input5,callback:function(e){t.input5=e},expression:"input5"}},[a("el-select",{attrs:{slot:"prepend",placeholder:"请选择"},slot:"prepend",model:{value:t.select,callback:function(e){t.select=e},expression:"select"}},[a("el-option",{attrs:{label:"餐厅名",value:"1"}}),t._v(" "),a("el-option",{attrs:{label:"订单号",value:"2"}}),t._v(" "),a("el-option",{attrs:{label:"用户电话",value:"3"}})],1),t._v(" "),a("el-button",{attrs:{slot:"append",icon:"el-icon-search"},slot:"append"})],1)],1),t._v(" "),a("div",{staticClass:"user_table"},[a("ConsoleTable",{attrs:{checkBox:!0,tableData:t.userListData,tableOptions:t.userTableOptions,operationOrNot:!0,OperationEvents:t.userOperation,loading:t.u_loading,dragable:!0,Pagination:t.Pagination},on:{buttonClick:t.handleClick,pagingEvent:t.pagingChange,changeTable:t.changeTable}})],1)]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:!t.isUser,expression:"!isUser"}],staticClass:"group_content"},[a("div",{},[a("el-button",{attrs:{type:"success",size:"small"}},[t._v("添加联系组")]),t._v(" "),a("el-button",{attrs:{type:"success",size:"small"}},[t._v("删除")]),t._v(" "),a("el-button",{staticClass:"fl_r m_l_10",attrs:{icon:"el-icon-refresh",size:"small"}}),t._v(" "),a("el-input",{staticClass:"input-with-select fl_r",staticStyle:{width:"350px"},attrs:{placeholder:"请输入内容",size:"small"},model:{value:t.input5,callback:function(e){t.input5=e},expression:"input5"}},[a("el-select",{attrs:{slot:"prepend",placeholder:"请选择"},slot:"prepend",model:{value:t.select,callback:function(e){t.select=e},expression:"select"}},[a("el-option",{attrs:{label:"餐厅名",value:"1"}}),t._v(" "),a("el-option",{attrs:{label:"订单号",value:"2"}}),t._v(" "),a("el-option",{attrs:{label:"用户电话",value:"3"}})],1),t._v(" "),a("el-button",{attrs:{slot:"append",icon:"el-icon-search"},slot:"append"})],1)],1),t._v(" "),a("div",{staticClass:"group_table"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData5}},[a("el-table-column",{attrs:{type:"expand"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-form",{staticClass:"demo-table-expand",attrs:{"label-position":"left",inline:""}},[a("el-form-item",{attrs:{label:"商品名称"}},[a("span",[t._v(t._s(e.row.name))])]),t._v(" "),a("el-form-item",{attrs:{label:"所属店铺"}},[a("span",[t._v(t._s(e.row.shop))])]),t._v(" "),a("el-form-item",{attrs:{label:"商品 ID"}},[a("span",[t._v(t._s(e.row.id))])]),t._v(" "),a("el-form-item",{attrs:{label:"店铺 ID"}},[a("span",[t._v(t._s(e.row.shopId))])]),t._v(" "),a("el-form-item",{attrs:{label:"商品分类"}},[a("span",[t._v(t._s(e.row.category))])]),t._v(" "),a("el-form-item",{attrs:{label:"店铺地址"}},[a("span",[t._v(t._s(e.row.address))])]),t._v(" "),a("el-form-item",{attrs:{label:"商品描述"}},[a("span",[t._v(t._s(e.row.desc))])])],1)]}}])}),t._v(" "),a("el-table-column",{attrs:{type:"selection",width:"55"}}),t._v(" "),a("el-table-column",{attrs:{label:"组名称",prop:"id"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(a){t.handleEdit(e.$index,e.row)}}},[t._v("编辑")]),t._v(" "),a("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(a){t.handleDelete(e.$index,e.row)}}},[t._v("删除")])]}}])})],1)],1)])])},staticRenderFns:[]};var Lc={path:"/monitor",name:"monitor",component:j,redirect:"/monitor/dashboard",children:[{path:"overview",name:"overview",component:zl},{path:"dashboard",name:"dashboard",component:Xl},{path:"ecmMonitor",name:"ecmMonitor",component:uc},{path:"eipMonitor",name:"eipMonitor",component:mc},{path:"elbMonitor",name:"elbMonitor",component:vc},{path:"ebsMonitor",name:"ebsMonitor",component:_c},{path:"alarm",name:"alarm",component:wc},{path:"history",name:"history",component:a("VU/8")(Cc,kc,!1,function(t){a("ENAQ"),a("sl+k")},"data-v-0ae5620f",null).exports},{path:"template",name:"template",component:a("VU/8")(xc,Dc,!1,function(t){a("zUT6"),a("2szk")},"data-v-a448f320",null).exports},{path:"createTemplate",name:"createTemplate",component:a("VU/8")({components:{},data:function(){return{name:"创建自定义告警模版",server:"shanghai",value2:!0,num8:20,obj_list_sr:"",textarea:"",tableData:[{},{}],monitor_obj:{},monitor_index:{},monitor_rule:{}}},methods:{addRule:function(){this.tableData.push({})},delRule:function(t,e){this.tableData.splice(t,1)}},computed:{},mounted:function(){},beforeDestroy:function(){}},Tc,!1,function(t){a("yzMZ")},null,null).exports},{path:"rule",name:"rule",component:a("VU/8")(Ic,Sc,!1,function(t){a("V+fC"),a("7UPl")},"data-v-f45a507e",null).exports},{path:"createRule",name:"createRule",component:a("VU/8")({components:{},data:function(){return{name:"创建告警规则",tableData:[{date:"内存使用率",name:"原始值>=90%"},{date:"内存使用率",name:"原始值>=90%"}],monitor_obj:{server:"shanghai",obj_list_sr:"sdfs"},monitor_index:{rule_type:"default",value2:!0,num8:2,checked:!0},monitor_rule:{textarea:""}}},methods:{handleDelete:function(){}},computed:{isDefault:function(){return"default"===this.monitor_index.rule_type}},mounted:function(){},beforeDestroy:function(){}},Ec,!1,function(t){a("ux+7")},null,null).exports},{path:"userGroup",name:"userGroup",component:a("VU/8")(Oc,Fc,!1,function(t){a("vz8u"),a("ebHq")},"data-v-bd43c664",null).exports}]};i.default.use(c.a);var Pc=[{path:"/",component:j,redirect:"/console",children:[{path:"console",name:"console",component:Ft}]},{path:"/login",name:"login",component:G},{path:"*",redirect:"/error/404"},{path:"/error/:errorCode",name:"error",component:At}];Pc.push(vs),Pc.push(_s),Pc.push(sr),Pc.push(mr),Pc.push(Pr),Pc.push(Ar),Pc.push(ol),Pc.push(Cl),Pc.push(Lc);var Nc=new c.a({scrollBehavior:function(){return{y:0}},routes:Pc}),$c=(a("pyoj"),a("M4fF")),Rc=a.n($c),zc=["/login","/authredirect"];Nc.beforeEach(function(t,e,a){I()?vt.getters.email?(console.log(t.path),"/login"===t.path?a({path:"/"}):(Ct.cancle("CancelToken"),a())):vt.dispatch("GetUserInfo").then(function(){if(!vt.state.user.regionList.length){var t=n.Loading.service({fullscreen:!0,target:"main"});vt.dispatch("GetRegionId").then(function(e){vt.dispatch("changeRegionType",z()),a(),t.close()}).catch(function(e){console.log(e),a(),t.close()})}}).catch(function(t){vt.dispatch("FedLogOut").then(function(){a({path:"/login"})})}):-1!==zc.indexOf(t.path)?a():a("/login")});var Ac={name:"svg-icon",props:{iconClass:{type:String,required:!0},className:{type:String}},computed:{iconName:function(){return"#icon-"+this.iconClass},svgClass:function(){return this.className?"svg-icon "+this.className:"svg-icon"}}},Mc={render:function(){var t=this.$createElement,e=this._self._c||t;return e("svg",{class:this.svgClass,attrs:{"aria-hidden":"true"}},[e("use",{attrs:{"xlink:href":this.iconName}})])},staticRenderFns:[]};var Vc=a("VU/8")(Ac,Mc,!1,function(t){a("qyaU")},"data-v-3d563da0",null).exports;i.default.component("svg-icon",Vc);var Bc,jc=a("90Fk");(Bc=jc).keys().map(Bc);i.default.prototype.$alertDialog=function(t){var e=this,a=t.data,i=t.view||Qe,n=t.form?t.form:{},s=t.actionTips?t.actionTips:"",o=t.ref,r=void 0,l=this.$createElement,c=this,u=a.type?a.type:"info",d=!1!==t.showCancelButton;return new rt.a(function(t,p){e.$msgbox({title:a.title,showCancelButton:d,message:l(i,{props:{type:u,tableData:a,actionTip:a.actionTip,form:n||{},actionTips:s,thatVue:c}}),beforeClose:function(t,e,a){if("confirm"==t){var i=e.$children.find(function(t){return t.form});console.log(i),i&&i.validateForm?i.validateForm().then(function(t){a()}).catch(function(t){console.log(t)}):a(),o&&(r=window.open("","_blank"))}else a()},callback:function(e,a,i){"confirm"==e?(o&&(n.win=r),t(n),a.message=""):(console.log(n),a.message="")}})})};var qc={data:function(){return{thisView:""}},components:{ElDialog:n.Dialog,ElButton:n.Button},props:{title:{type:String,default:"提示"},visible:{type:Boolean,default:!1},dialogWidth:{type:[String,Number],default:"450px"},validateName:[String],dataName:[String]},methods:{handle:function(t){var e=this;if("confirm"==t){if(!this.validateName&&!this.dataName){if(this.visible=!1,this.win){var a=this;return void setTimeout(function(){a.win=window.open("","_blank"),a.callback(e.win)},300)}return void that.callback()}var i=this.$slots.content.length&&this.$slots.content[0].componentInstance;i[this.validateName]().then(function(t){e.callback(i[e.dataName],i),e.visible=!1}).catch(function(t){console.log(t)})}else this.visible=!1},close:function(){console.log("关闭")}}},Uc={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"consoledialog"},[a("el-dialog",{attrs:{title:t.title,visible:t.visible,width:t.dialogWidth},on:{"update:visible":function(e){t.visible=e},close:t.close}},[a("transition",{attrs:{name:"consoledialog-fade"}},[t.visible?a("div",{ref:"content",staticClass:"dialog-content"},[t._t("content")],2):t._e()]),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("div",{staticClass:"dialog-button dialog-button-cancel",on:{click:function(e){t.handle("cancel")}}},[t._v("取 消")]),t._v(" "),a("div",{staticClass:"dialog-button dialog-button-confirm",attrs:{type:"primary"},on:{click:function(e){t.handle("confirm")}}},[t._v("确 定")])])],1)],1)},staticRenderFns:[]};var Hc=a("VU/8")(qc,Uc,!1,function(t){a("pBiH")},"data-v-3750e952",null).exports,Wc={components:{ConsoleTable:Te},props:{type:{type:String,default:"info"},actionTips:[Array],tableData:[Object]},data:function(){return{}}},Gc={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"dialog-action"},["delete"!==t.type?a("el-row",{staticClass:"action-tip"},["warn"==t.type?a("div",{staticClass:"action-inline action-img-warn",attrs:{span:2}},[a("svg-icon",{attrs:{"icon-class":"warn"}})],1):t._e(),t._v(" "),a("div",{staticClass:"action-inline",class:{"action-tip-content":"warn"==t.type}},t._l(t.actionTips,function(e,i){return a("div",{key:i,class:[e.className,"action-tip-line"+i]},[e.html?a("div",{domProps:{innerHTML:t._s(e.template)}}):a("div",[t._v("\n\t\t\t\t\t\t"+t._s(e.template)+"\n\t\t\t\t\t")])])}))]):t._e(),t._v(" "),"delete"==t.type?a("el-row",{staticClass:"action-delete"},[a("el-col",{staticClass:"action-img-delete"},[a("svg-icon",{attrs:{"icon-class":"warn"}})],1),t._v(" "),a("el-col",{staticClass:"action-delete-content"},t._l(t.actionTips,function(e,i){return a("span",{class:["action-delete-subcontent"+i,e.className]},[e.html?a("span",{domProps:{innerHTML:t._s(e.template)}}):a("span",[t._v("\n\t\t\t\t\t"+t._s(e.template)+"\n\t\t\t\t")])])}))],1):t._e(),t._v(" "),t.tableData&&t.tableData.operationData?a("el-row",[a("console-table",{attrs:{tableData:t.tableData.operationData.data,operationOrNot:!1,tableOptions:t.tableData.operationData.option}})],1):t._e(),t._v(" "),t.tableData&&t.tableData.unOperationData?a("el-row",[t.tableData.unOperationData.tip?a("el-row"):t._e(),t._v(" "),a("console-table")],1):t._e()],1)},staticRenderFns:[]};var Qc=a("VU/8")(Wc,Gc,!1,function(t){a("FKoK")},"data-v-e4d70738",null).exports,Zc=new(i.default.extend(Hc))({el:document.createElement("div")}),Jc=function(t,e){var a=void 0,i=void 0,n=void 0,s=void 0,o=void 0,r=t.title||"提示",l=t.width||"450px";if(t.view)n=t.view,a=t.validateName,s=t.dataName,i=t.props;else{n=Qc,o=t.tableData;var c={type:t.type||"info",actionTips:t.actionTips||[],tableData:o||null};i=t.props||c}var u=t.win,d=(0,this.$createElement)(n,{props:i});Zc.$slots.content=[d],Zc.title=r,Zc.callback=e,Zc.dialogWidth=l,Zc.validateName=a,Zc.dataName=s,Zc.tableData=o,Zc.win=u,console.log(Zc),Zc.visible=!0,document.body.appendChild(Zc.$el)};i.default.prototype._=Rc.a,i.default.config.productionTip=!1,i.default.prototype.$dialog=Jc,i.default.use(s.a),new i.default({el:"#app",router:Nc,store:vt,template:"<App/>",components:{App:l}})},NbBh:function(t,e){},Nh09:function(t,e){},NkuK:function(t,e){},"Nm/Q":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("Wc9H"),n=a.n(i),s=a("IaZV"),o=a.n(s),r=new n.a({id:"icon-obs",use:"icon-obs-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" id="icon-obs"><path d="M825.6 947.2H198.4c-57.6 0-102.4-44.8-102.4-102.4v-640c0-57.6 44.8-102.4 102.4-102.4h51.2v313.6c0 32 25.6 51.2 51.2 51.2h422.4c32 0 51.2-25.6 51.2-51.2V102.4h51.2c57.6 0 102.4 44.8 102.4 102.4v633.6c6.4 57.6-44.8 108.8-102.4 108.8z m-128-531.2H326.4c-12.8 0-25.6-12.8-25.6-25.6V102.4h422.4v288c0 12.8-12.8 25.6-25.6 25.6zM614.4 230.4c0-12.8-12.8-25.6-25.6-25.6s-25.6 12.8-25.6 25.6v102.4c0 12.8 12.8 25.6 25.6 25.6s25.6-12.8 25.6-25.6V230.4z" /></symbol>'});o.a.add(r);e.default=r},NxKR:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("Wc9H"),n=a.n(i),s=a("IaZV"),o=a.n(s),r=new n.a({id:"icon-m_set",use:"icon-m_set-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" id="icon-m_set"><path d="M659.571499 538.985608c-2.12643 11.784394-13.334703 19.539009-24.991184 17.396205-11.67183-2.12643-19.442818-13.382798-17.300015-25.102724 1.375324-7.499811 1.998517-13.606903 1.998517-19.283182 0-59.544141-48.143487-107.927081-107.287515-107.927081-59.175751 0-107.271142 48.38294-107.271142 107.927081 0 59.560514 48.095391 107.943454 107.271142 107.943454 5.628184 0 11.719926-0.639566 19.186991-1.983167 11.67183-2.222621 22.816658 5.628184 24.926716 17.427928 2.142803 11.751648-5.611811 22.992667-17.284665 25.13547-10.041704 1.838881-18.547425 2.669806-26.830065 2.669806-82.887802 0-150.250002-67.825758-150.250002-151.193491 0-83.35136 67.3622-151.177118 150.250002-151.177118 82.839707 0 150.266375 67.825758 150.266375 151.177118C662.257677 520.341992 661.41038 528.943904 659.571499 538.985608L659.571499 538.985608zM955.179077 597.138052c-1.614777 8.442276-7.978718 15.110139-16.309454 17.028838-47.151903 10.889001-86.278016 39.957037-110.277616 81.768305-23.967878 41.811268-29.388331 90.418312-15.31787 136.883577 2.494821 8.170077-0.048095 17.028838-6.475482 22.657023-43.218314 37.57478-92.577488 66.275449-146.636708 85.158519-8.058536 2.814092-16.996093 0.639566-22.768563-5.659907-32.93818-35.55989-77.467349-55.067176-125.403105-55.067176-47.919383 0-92.449575 19.507286-125.386732 55.067176-4.173043 4.493338-9.897418 6.875594-15.733333 6.875594-2.39863 0-4.716418-0.367367-7.066953-1.215688-54.107315-18.962887-103.418394-47.583738-146.620335-85.221964-6.460132-5.564739-9.018398-14.470573-6.491855-22.64065 14.102183-46.416146 8.634658-95.02319-15.33322-136.835482-23.951505-41.811268-63.141062-70.832232-110.22952-81.768305-8.330736-1.918699-14.693654-8.586562-16.309454-17.028838-5.420453-28.764114-8.18645-57.416687-8.18645-85.143169 0-27.709085 2.765997-56.361659 8.18645-85.126796 1.614777-8.425903 7.978718-15.110139 16.309454-17.028838 47.088458-10.937097 86.22992-39.957037 110.22952-81.784678 23.967878-41.779545 29.436426-90.338495 15.33322-136.803759-2.526543-8.18645 0.031722-17.092283 6.460132-22.672372 43.234687-37.606503 92.545766-66.307172 146.653081-85.221964 8.058536-2.814092 16.96437-0.623193 22.800285 5.692652 32.93818 35.528168 77.467349 55.050804 125.386732 55.050804 47.935756 0 92.464925-19.522636 125.403105-55.050804 5.77247-6.315846 14.741749-8.506744 22.768563-5.692652 54.139038 18.914792 103.450117 47.615461 146.636708 85.173868 6.427386 5.628184 9.033747 14.485923 6.507204 22.720468-14.102183 46.416146-8.68173 95.02319 15.286148 136.803759 23.9996 41.827641 63.125713 70.847581 110.277616 81.784678 8.330736 1.918699 14.693654 8.601912 16.309454 17.028838 5.40408 28.812209 8.18645 57.481156 8.18645 85.126796C963.365526 539.67327 960.583157 568.325843 955.179077 597.138052L955.179077 597.138052zM915.253762 448.230628c-52.077076-15.844873-96.670713-51.148937-123.851772-98.55769-27.197432-47.344285-35.304064-103.817484-22.944572-157.029406-33.129538-26.973328-69.952188-48.38294-109.845781-63.812351-39.925315 37.830607-91.441619 58.504462-146.620335 58.504462-54.331419 0-106.999966-21.153786-146.636708-58.504462-39.860846 15.429411-76.68452 36.839023-109.829408 63.812351 12.359492 53.243645 4.221138 109.717867-22.976294 157.029406-27.133987 47.40773-71.77572 82.711793-123.771955 98.55769-3.437286 21.617343-5.164626 42.97886-5.164626 63.765279 0 20.786419 1.727341 42.164309 5.164626 63.765279 52.04433 15.844873 96.638991 51.181683 123.836423 98.573039 27.549449 48.095391 35.528168 103.370299 22.912849 157.014056 33.145911 26.989701 69.968561 48.38294 109.829408 63.828724 39.701211-37.350676 92.305289-58.504462 146.636708-58.504462 55.178717 0 106.696044 20.673855 146.620335 58.504462 39.829124-15.445784 76.668147-36.839023 109.797685-63.828724-12.311397-53.1802-4.157693-109.717867 22.992667-157.014056 27.117614-47.39238 71.77572-82.728166 123.851772-98.573039 3.405563-21.665439 5.132904-43.026956 5.132904-63.765279C920.386666 491.273956 918.659325 469.912439 915.253762 448.230628L915.253762 448.230628z" /></symbol>'});o.a.add(r);e.default=r},O3cX:function(t,e){},Oot4:function(t,e){},OvFx:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("Wc9H"),n=a.n(i),s=a("IaZV"),o=a.n(s),r=new n.a({id:"icon-portMapping",use:"icon-portMapping-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" id="icon-portMapping"><path d="M844.8 729.6H428.8c-57.6 0-102.4-44.8-102.4-102.4V211.2c0-57.6 44.8-102.4 102.4-102.4h416c57.6 0 102.4 44.8 102.4 102.4v416c0 57.6-44.8 102.4-102.4 102.4z m-441.6 51.2h332.8v51.2c0 57.6-44.8 102.4-102.4 102.4H224c-57.6 0-102.4-44.8-102.4-102.4V422.4c0-57.6 44.8-102.4 102.4-102.4h51.2v332.8c0 57.6 70.4 128 128 128z" /></symbol>'});o.a.add(r);e.default=r},Phjo:function(t,e){},PkQM:function(t,e){},PuhB:function(t,e){},PvF2:function(t,e){},QAQk:function(t,e){},QODl:function(t,e){},R0Wj:function(t,e){},RAWX:function(t,e){},Rt4S:function(t,e,a){t.exports=a.p+"static/img/ebsDetail.8c8fc1c.png"},S6WZ:function(t,e,a){"use strict";var i={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"ecm-outwraper"},[e("router-view")],1)},staticRenderFns:[]};e.a=i},S6tJ:function(t,e){},THVI:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("Wc9H"),n=a.n(i),s=a("IaZV"),o=a.n(s),r=new n.a({id:"icon-centos",use:"icon-centos-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" id="icon-centos"><path d="M509.866667 10.666667l-119.466667 119.466666h85.333333v298.666667l34.133334 34.133333 38.4-38.4V130.133333h81.066666z" fill="#F0A91F" /><path d="M142.933333 138.666667v209.066666l81.066667-81.066666 4.266667-4.266667 4.266666 4.266667 192 192h34.133334v-29.866667l-187.733334-192-4.266666-8.533333 4.266666-4.266667 81.066667-81.066667-209.066667-4.266666z" fill="#9DCF23" /><path d="M381.866667 138.666667l-89.6 89.6 174.933333 174.933333V138.666667zM232.533333 288l-89.6 89.6v85.333333h260.266667z" fill="#9DCF23" /><path d="M556.8 138.666667v264.533333l170.666667-170.666667-89.6-89.6c0-4.266667-81.066667-4.266667-81.066667-4.266666z" fill="#951B7A" /><path d="M663.466667 138.666667l85.333333 85.333333 4.266667 4.266667-4.266667 4.266666-192 196.266667v34.133333h34.133333l192-192 4.266667-4.266666 4.266667 4.266666 85.333333 85.333334v-213.333334c0-4.266667-213.333333-4.266667-213.333333-4.266666z" fill="#951B7A" /><path d="M787.2 288l-170.666667 170.666667h260.266667v-81.066667z" fill="#951B7A" /><path d="M134.4 392.533333L14.933333 512l119.466667 119.466667v-85.333334h298.666667l34.133333-34.133333-38.4-38.4H134.4v-8.533333z" fill="#9F3487" /><path d="M889.6 392.533333v81.066667h-298.666667L556.8 512l34.133333 34.133333h298.666667v85.333334l119.466667-119.466667zM142.933333 561.066667v85.333333l89.6 89.6 174.933334-174.933333z" fill="#1F1F77" /><path d="M433.066667 561.066667l-192 192-4.266667 4.266666-4.266667-4.266666-81.066666-81.066667v209.066667h209.066666l-81.066666-81.066667-4.266667-4.266667 4.266667-4.266666 192-192v-34.133334l-38.4-4.266666z" fill="#1F1F77" /><path d="M467.2 620.8l-174.933333 174.933333 85.333333 85.333334h85.333333V620.8z" fill="#1F1F77" /><path d="M512 561.066667l-34.133333 34.133333v298.666667h-89.6l123.733333 119.466666 119.466667-119.466666h-85.333334V599.466667c4.266667 0-34.133333-38.4-34.133333-38.4zM554.666667 558.933333V597.333333l192 192 4.266666 4.266667-4.266666 4.266667-81.066667 81.066666h213.333333v-209.066666l-85.333333 85.333333-4.266667 4.266667-4.266666-4.266667-200.533334-196.266667H554.666667z" fill="#9DCF23" /><path d="M610.133333 558.933333l174.933334 174.933334 89.6-89.6v-85.333334zM554.666667 622.933333v260.266667h85.333333l85.333333-85.333333z" fill="#9DCF23" /></symbol>'});o.a.add(r);e.default=r},"TO+z":function(t,e){},TRL5:function(t,e){},TXcT:function(t,e){},TZWs:function(t,e){},TqZv:function(t,e){},UDzg:function(t,e){},UEnB:function(t,e){},UREB:function(t,e){},UYtr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("Wc9H"),n=a.n(i),s=a("IaZV"),o=a.n(s),r=new n.a({id:"icon-created",use:"icon-created-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" id="icon-created"><path d="M755.2 339.2L486.4 608l-153.6-128c-12.8-6.4-25.6-6.4-38.4 6.4-6.4 12.8-6.4 25.6 6.4 38.4l166.4 134.4c6.4 6.4 12.8 6.4 19.2 6.4 6.4 0 19.2 0 25.6-6.4l281.6-281.6c12.8-12.8 12.8-25.6 0-38.4s-32-12.8-38.4 0z" /><path d="M524.8 19.2C256 19.2 44.8 230.4 44.8 499.2c0 262.4 217.6 480 480 480h19.2c12.8 0 19.2-12.8 19.2-25.6s-6.4-19.2-19.2-25.6h-19.2c-236.8 0-428.8-192-428.8-428.8S288 64 524.8 64 960 256 960 499.2c0 140.8-64 262.4-166.4 339.2-6.4 6.4-12.8 12.8-12.8 19.2 0 12.8 12.8 25.6 25.6 25.6s12.8 0 19.2-6.4c108.8-89.6 179.2-224 179.2-377.6 0-268.8-217.6-480-480-480z" /></symbol>'});o.a.add(r);e.default=r},"V+fC":function(t,e){},V4Zm:function(t,e){},VHMT:function(t,e){},VZZ8:function(t,e){},Ve8B:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("Wc9H"),n=a.n(i),s=a("IaZV"),o=a.n(s),r=new n.a({id:"icon-date",use:"icon-date-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" id="icon-date"><path d="M805.49888 981.49888l-602.3168-0.76288c-86.59456-8.192-154.56768-81.3056-154.56768-170.01472L48.6144 291.73248c0-94.1568 76.60032-170.75712 170.7776-170.75712l586.10176 0c94.1568 0 170.73152 76.60032 170.73152 170.75712L976.22528 810.7008C976.2304 904.87296 899.63008 981.49888 805.49888 981.49888L805.49888 981.49888zM219.3664 190.57152c-55.79776 0-101.20192 45.38368-101.20192 101.18144l0 518.96832c0 55.79776 45.40416 101.20704 101.20192 101.20704l586.13248 0c55.77728 0 101.16096-45.40928 101.16096-101.20704L906.65984 291.73248c0-55.79776-45.38368-101.18656-101.16096-101.18656L219.3664 190.54592 219.3664 190.57152z" /><path d="M698.84416 290.51904c-25.60512 0-46.38208-20.77696-46.38208-46.38208l0-158.6688c0-25.6 20.77696-46.38208 46.38208-46.38208 25.6 0 46.38208 20.78208 46.38208 46.38208L745.22624 244.1216C745.22624 269.7472 724.46976 290.51904 698.84416 290.51904L698.84416 290.51904z" /><path d="M315.65824 290.51904c-25.60512 0-46.38208-20.77696-46.38208-46.38208l0-158.6688c0-25.6 20.77696-46.38208 46.38208-46.38208 25.6 0 46.38208 20.78208 46.38208 46.38208L362.04032 244.1216C362.04032 269.7472 341.28896 290.51904 315.65824 290.51904L315.65824 290.51904z" /><path d="M534.8864 794.78784l-44.27264 0c-25.6 0-46.38208-20.77696-46.38208-46.38208 0-25.6 20.78208-46.38208 46.38208-46.38208l44.27264 0c25.6 0 46.38208 20.78208 46.38208 46.38208C581.26848 774.01088 560.4864 794.78784 534.8864 794.78784L534.8864 794.78784z" /><path d="M930.79552 452.608 121.24672 452.608c-25.60512 0-46.38208-20.78208-46.38208-46.38208 0-25.60512 20.77696-46.38208 46.38208-46.38208l809.5744 0c25.6 0 46.38208 20.77696 46.38208 46.38208C977.2032 431.82592 956.42624 452.608 930.79552 452.608L930.79552 452.608z" /><path d="M327.92576 649.03168l-44.27264 0c-25.6 0-46.38208-20.78208-46.38208-46.38208 0-25.60512 20.78208-46.38208 46.38208-46.38208l44.27264 0c25.6 0 46.38208 20.77696 46.38208 46.38208C374.30784 628.25472 353.52576 649.03168 327.92576 649.03168L327.92576 649.03168z" /><path d="M534.8864 649.03168l-44.27264 0c-25.6 0-46.38208-20.78208-46.38208-46.38208 0-25.60512 20.78208-46.38208 46.38208-46.38208l44.27264 0c25.6 0 46.38208 20.77696 46.38208 46.38208S560.4864 649.03168 534.8864 649.03168L534.8864 649.03168z" /><path d="M741.27872 649.03168l-44.26752 0c-25.60512 0-46.38208-20.78208-46.38208-46.38208 0-25.60512 20.77696-46.38208 46.38208-46.38208l44.26752 0c25.60512 0 46.38208 20.77696 46.38208 46.38208C787.6608 628.25472 766.90944 649.03168 741.27872 649.03168L741.27872 649.03168z" /><path d="M327.92576 794.78784l-44.27264 0c-25.6 0-46.38208-20.77696-46.38208-46.38208 0-25.6 20.78208-46.38208 46.38208-46.38208l44.27264 0c25.6 0 46.38208 20.78208 46.38208 46.38208C374.30784 774.01088 353.52576 794.78784 327.92576 794.78784L327.92576 794.78784z" /><path d="M741.27872 794.78784l-44.26752 0c-25.60512 0-46.38208-20.77696-46.38208-46.38208 0-25.6 20.77696-46.38208 46.38208-46.38208l44.26752 0c25.60512 0 46.38208 20.78208 46.38208 46.38208C787.6608 774.01088 766.90944 794.78784 741.27872 794.78784L741.27872 794.78784z" /></symbol>'});o.a.add(r);e.default=r},Vvfu:function(t,e){},Vy3V:function(t,e){},W2Vm:function(t,e){},W4bX:function(t,e){},W8jo:function(t,e){},W9c9:function(t,e){},WMDj:function(t,e){},WRQj:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("Wc9H"),n=a.n(i),s=a("IaZV"),o=a.n(s),r=new n.a({id:"icon-vip",use:"icon-vip-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" id="icon-vip"><path d="M969.142857 236.214857c-30.2848 0-54.857143 24.535771-54.857143 54.857143 0 18.570971 9.285486 34.929371 23.392914 44.856686l-203.893029 166.785829L520.928914 125.6064C546.929371 121.322057 566.857143 98.8928 566.857143 71.643429c0-30.321371-24.572343-54.857143-54.857143-54.857143s-54.857143 24.535771-54.857143 54.857143c0 26.7136 19.106743 48.892343 44.357486 53.7856l-211.428571 377.179429L86.321371 335.928686C100.4288 325.999543 109.714286 309.642971 109.714286 291.072c0-30.321371-24.572343-54.857143-54.857143-54.857143s-54.857143 24.535771-54.857143 54.857143 24.572343 54.857143 54.857143 54.857143c1.786514 0 3.499886-0.356571 5.249829-0.535771L189.856914 950.857143l644.286171 0 129.749943-605.463771c1.749943 0.1792 3.465143 0.535771 5.249829 0.535771 30.2848 0 54.857143-24.535771 54.857143-54.857143S999.429486 236.214857 969.142857 236.214857zM511.358171 257.464686l164.964571 292.286171L512 684.178286l-164.463543-134.535314L511.358171 257.464686zM249.000229 877.714286l-7.857371-36.571429 541.714286 0-7.857371 36.571429L249.000229 877.714286zM790.679771 804.571429 233.322057 804.571429 167.358171 496.6784 512 778.678857l344.643657-282.000457L790.679771 804.571429z" /></symbol>'});o.a.add(r);e.default=r},WSHa:function(t,e){},WY4m:function(t,e){},Waud:function(t,e){},X2wF:function(t,e){},XJHq:function(t,e){},XLTo:function(t,e){},XRKd:function(t,e){},YCMu:function(t,e){},YU8I:function(t,e){},YcVn:function(t,e){},Yfis:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("Wc9H"),n=a.n(i),s=a("IaZV"),o=a.n(s),r=new n.a({id:"icon-info",use:"icon-info-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" id="icon-info"><path d="M512.48914 66.861804c61.534472 0 119.269407 11.735275 173.202761 35.210943 53.900607 23.530926 100.907201 55.263651 140.925636 95.309716 40.018436 39.995923 71.806419 87.158059 95.282087 141.442406 23.475667 54.229089 35.238572 112.097054 35.238572 173.665295 0 61.512982-11.762905 119.269407-35.238572 173.175131-23.475667 53.955866-55.263651 100.907201-95.282087 140.953266-40.018436 40.046065-87.024006 71.77879-140.925636 95.254457-53.934376 23.530926-111.668289 35.266202-173.202761 35.266202-61.540611 0-119.408577-11.735275-173.692924-35.266202-54.229089-23.475667-101.397365-55.208393-141.414777-95.254457-40.045041-40.046065-71.806419-86.996376-95.282087-140.953266-23.503297-53.905724-35.237549-111.663172-35.237549-173.175131 0-61.568241 11.734252-119.436206 35.237549-173.665295 23.475667-54.284347 55.236022-101.447507 95.282087-141.442406 40.017412-40.046065 87.185688-71.77879 141.414777-95.309716C393.080563 78.597079 450.948529 66.861804 512.48914 66.861804M566.095036 450.9209c0-15.863293-5.135974-29.228695-15.379269-40.151465-10.271948-10.92277-22.985504-16.414855-38.226626-16.414855-15.21247 0-28.121478 5.492084-38.715767 16.414855-10.571776 10.92277-15.869433 24.288173-15.869433 40.151465l0 332.49572c0 15.869433 5.297656 28.639271 15.869433 38.254256 10.594289 9.564843 23.503297 14.344706 38.715767 14.344706 15.240099 0 28.121478-4.940522 38.715767-14.833847 10.594289-9.943466 15.863293-22.874987 15.863293-38.738279L566.095036 450.9209 566.095036 450.9209zM512.48914 327.845817c19.208481 0 35.560914-6.738471 49.148373-20.320814 13.532201-13.582343 20.320814-29.940916 20.320814-49.120744s-6.788613-35.594683-20.320814-49.120744c-13.58746-13.58746-29.940916-20.376073-49.148373-20.376073-19.179828 0-35.727713 6.788613-49.638537 20.376073-13.883195 13.527085-20.809955 29.940916-20.809955 49.120744s6.927783 35.538401 20.809955 49.120744C476.761428 321.108369 493.309312 327.845817 512.48914 327.845817" /></symbol>'});o.a.add(r);e.default=r},ZB01:function(t,e){},ZNW7:function(t,e){},"a+Bf":function(t,e){},"a/Ue":function(t,e){},a0l7:function(t,e,a){t.exports=a.p+"static/img/elbDetail.b19bdab.png"},a5SC:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("Wc9H"),n=a.n(i),s=a("IaZV"),o=a.n(s),r=new n.a({id:"icon-warn",use:"icon-warn-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" id="icon-warn"><path d="M572.074667 337.134933a57.275733 57.275733 0 1 0-114.176-6.007466h-0.170667l12.936533 272.896v0.443733a44.544 44.544 0 1 0 89.019734-1.194667l12.424533-266.1376z m-196.949334-191.214933c76.151467-130.048 199.816533-129.774933 275.797334 0l340.3776 581.085867c76.117333 130.048 15.7696 235.4176-135.236267 235.4176H169.984c-150.8352 0-211.217067-105.6768-135.202133-235.4176L375.125333 145.92z m140.049067 687.581867a57.275733 57.275733 0 1 0 0-114.517334 57.275733 57.275733 0 0 0 0 114.517334z" /></symbol>'});o.a.add(r);e.default=r},a7FZ:function(t,e){},aBxx:function(t,e){},aDQj:function(t,e){},aSFG:function(t,e){},as4P:function(t,e){},az2S:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("Wc9H"),n=a.n(i),s=a("IaZV"),o=a.n(s),r=new n.a({id:"icon-submenu",use:"icon-submenu-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" id="icon-submenu"><path d="M659.2 0L364.8 224V832l294.4 179.2V0z" fill="#F0F2F7" /><path d="M620.8 416c0 12.8-6.4 19.2-19.2 19.2H416c-12.8 0-19.2-6.4-19.2-19.2 0-12.8 6.4-19.2 19.2-19.2h179.2c12.8 0 25.6 12.8 25.6 19.2z m-12.8 89.6c0 12.8-6.4 19.2-19.2 19.2h-128c-6.4 0-12.8-6.4-12.8-19.2 0-12.8 6.4-19.2 19.2-19.2h128c6.4 0 12.8 12.8 12.8 19.2z m6.4 89.6c0 12.8-6.4 19.2-19.2 19.2H416c-12.8 0-19.2-6.4-19.2-19.2 0-12.8 6.4-19.2 19.2-19.2h179.2c12.8 6.4 19.2 12.8 19.2 19.2z m-172.8-57.6l-44.8-32 44.8-32v64z" fill="#323C4E" /></symbol>'});o.a.add(r);e.default=r},bQfC:function(t,e){},bhfg:function(t,e){},bqs6:function(t,e){},brcG:function(t,e){},cYB5:function(t,e){},cjmN:function(t,e){},cpz5:function(t,e){},d5Ey:function(t,e){},dASZ:function(t,e,a){"use strict";var i={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"vpc-outwraper"},[e("router-view")],1)},staticRenderFns:[]};e.a=i},dCis:function(t,e,a){t.exports=a.p+"static/img/adver.ca3b932.png"},dH9r:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("Wc9H"),n=a.n(i),s=a("IaZV"),o=a.n(s),r=new n.a({id:"icon-menu",use:"icon-menu-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" id="icon-menu"><path d="M32 212C32 178.86290000000002 58.67786000000001 152 92.05232000000001 152L931.94768 152C965.11364 152 992 178.63190000000003 992 212 992 245.13709999999998 965.32214 272 931.94768 272L92.05232000000001 272C58.886360000000025 272 32 245.36809999999997 32 212ZM32 512C32 478.86289999999997 58.67786000000001 452 92.05232000000001 452L931.94768 452C965.11364 452 992 478.6319 992 512 992 545.1370999999999 965.32214 572 931.94768 572L92.05232000000001 572C58.886360000000025 572 32 545.3680999999999 32 512ZM32 812C32 778.8629000000001 58.67786000000001 752 92.05232000000001 752L931.94768 752C965.11364 752 992 778.6319000000001 992 812 992 845.1370999999999 965.32214 872 931.94768 872L92.05232000000001 872C58.886360000000025 872 32 845.3680999999999 32 812Z" /></symbol>'});o.a.add(r);e.default=r},dew6:function(t,e){},diGR:function(t,e){},dn8F:function(t,e){},dtKi:function(t,e){},dtrc:function(t,e){},dzM4:function(t,e){},"e/EN":function(t,e){},ebHq:function(t,e){},end4:function(t,e){},esiz:function(t,e){},evM5:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("Wc9H"),n=a.n(i),s=a("IaZV"),o=a.n(s),r=new n.a({id:"icon-sec",use:"icon-sec-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" id="icon-sec"><path d="M953.6 108.8H140.8c-12.8 0-25.6 12.8-25.6 25.6v76.8h-38.4c-12.8 0-25.6 12.8-25.6 25.6v582.4c0 12.8 12.8 25.6 25.6 25.6h531.2c12.8 0 19.2-12.8 19.2-25.6s-12.8-19.2-19.2-19.2H108.8c-6.4 0-12.8-6.4-12.8-12.8V268.8c0-6.4 6.4-12.8 12.8-12.8h755.2c6.4 0 12.8 6.4 12.8 12.8v492.8c0 12.8 12.8 19.2 19.2 19.2 12.8 0 19.2-12.8 19.2-19.2v-19.2h44.8c12.8 0 25.6-12.8 25.6-25.6V134.4c-6.4-19.2-19.2-25.6-32-25.6z m-12.8 576c0 6.4-6.4 12.8-12.8 12.8h-12.8V236.8c0-12.8-12.8-25.6-25.6-25.6H160v-51.2c0-6.4 6.4-12.8 12.8-12.8h755.2c6.4 0 12.8 6.4 12.8 12.8v524.8z" /><path d="M492.8 364.8c-96 0-166.4 76.8-166.4 166.4s76.8 166.4 166.4 166.4 166.4-76.8 166.4-166.4c0-96-76.8-166.4-166.4-166.4z m0 288c-70.4 0-128-57.6-128-128s57.6-128 128-128 128 57.6 128 128-57.6 128-128 128z" /></symbol>'});o.a.add(r);e.default=r},exDm:function(t,e){},exPe:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("Wc9H"),n=a.n(i),s=a("IaZV"),o=a.n(s),r=new n.a({id:"icon-redhat",use:"icon-redhat-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" id="icon-redhat"><path d="M761.6 140.8C556.8 6.4 281.6 64 147.2 268.8c-76.8 115.2-89.6 256-51.2 384H128c25.6 0 51.2-6.4 76.8-19.2 6.4 0 12.8-6.4 19.2-6.4 12.8 0 25.6 6.4 32 19.2 6.4 6.4 12.8 19.2 19.2 19.2 6.4 6.4 19.2 6.4 25.6 6.4 6.4 0 12.8 0 19.2-6.4 0-6.4 0-12.8-6.4-12.8-12.8 0-19.2-12.8-25.6-19.2-12.8-12.8-19.2-25.6-25.6-38.4 0-19.2 12.8-38.4 32-38.4h19.2c19.2 6.4 32 19.2 44.8 38.4 6.4 6.4 12.8 6.4 19.2 6.4 6.4-6.4 12.8-6.4 19.2 0l6.4 6.4c6.4 6.4 44.8 64 89.6 64 32 0 57.6-6.4 83.2-6.4 12.8 0 19.2 6.4 25.6 6.4 12.8 0 25.6-12.8 38.4-6.4 12.8 0 25.6 6.4 38.4 6.4s44.8-19.2 44.8-6.4c0 12.8-6.4 32-12.8 44.8 0 12.8 0 25.6-6.4 38.4-6.4 12.8-12.8 25.6-19.2 32-12.8 12.8-19.2 25.6-25.6 38.4-6.4 12.8-19.2 32-32 44.8-6.4 6.4 32 0 44.8-12.8 12.8-19.2 38.4-38.4 57.6-51.2 19.2-6.4 25.6-12.8 25.6-19.2 0 0 0-6.4 6.4-6.4 25.6-12.8 51.2-12.8 83.2-12.8 19.2 0 38.4 0 51.2 6.4 128-217.6 70.4-492.8-134.4-627.2z m121.6 364.8c-19.2 115.2-211.2 153.6-396.8 102.4-179.2-57.6-339.2-166.4-320-230.4 12.8-38.4 70.4-51.2 147.2-44.8-12.8 25.6-12.8 57.6 38.4 89.6 64 32 128 57.6 198.4 64 12.8 0 19.2-6.4 12.8-12.8-12.8-12.8-25.6-32-25.6-44.8 0-12.8-6.4-32-70.4-44.8C320 358.4 326.4 320 326.4 294.4c0 0 12.8-57.6 19.2-76.8s19.2-64 108.8-44.8c32 6.4 64 6.4 96-6.4 38.4-12.8 76.8-6.4 108.8 19.2 38.4 51.2 64 108.8 76.8 166.4 6.4 19.2 6.4 38.4 0 57.6-6.4 12.8-6.4 19.2-12.8 32 0 6.4 0 6.4 6.4 6.4 19.2-12.8 38.4-32 38.4-51.2 76.8 12.8 121.6 51.2 115.2 108.8z" /><path d="M313.6 332.8s-102.4-12.8-140.8 32 64 121.6 64 121.6S384 588.8 550.4 620.8c166.4 25.6 268.8-12.8 307.2-64 44.8-51.2 19.2-96 6.4-108.8-12.8-19.2-32-44.8-96-57.6 0 0-64 83.2-25.6 12.8 19.2-32-19.2-115.2-51.2-172.8-12.8-32-32-51.2-32-51.2s-25.6-25.6-70.4-19.2c-44.8 0-32 6.4-70.4 12.8-38.4 6.4-83.2-12.8-83.2-12.8s-44.8 0-70.4 12.8-32 96-32 96l-12.8 64h-6.4z" fill="#EA2626" /><path d="M320 300.8s-12.8 44.8 83.2 70.4c89.6 25.6 102.4 25.6 115.2 32 12.8 12.8 12.8 19.2 12.8 19.2s-6.4 25.6 25.6 51.2c0 0 6.4 6.4-12.8 6.4-57.6 0-179.2-38.4-224-76.8-38.4-38.4-12.8-70.4-12.8-70.4l12.8-32zM467.2 249.6h-51.2c-12.8 6.4-25.6 0-32-12.8 0-6.4-12.8-6.4-19.2 0l-6.4 6.4c0 12.8 6.4 32 19.2 38.4 0 0 19.2 32 32 19.2s12.8-12.8 64-19.2c25.6 0 25.6-6.4 25.6-12.8-6.4-12.8-19.2-19.2-32-19.2zM588.8 179.2h-19.2c-12.8 0-25.6 6.4-38.4 12.8h6.4c25.6 0 51.2 0 51.2 12.8 0 6.4-12.8 12.8-25.6 12.8 6.4 0 19.2 6.4 25.6 6.4 25.6 0 51.2-12.8 51.2-25.6s-19.2-19.2-51.2-19.2z" /></symbol>'});o.a.add(r);e.default=r},f8Xi:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("Wc9H"),n=a.n(i),s=a("IaZV"),o=a.n(s),r=new n.a({id:"icon-mapping",use:"icon-mapping-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" id="icon-mapping"><path d="M896 192c-38.4 0-64-32-64-64 0-38.4 32-64 64-64 38.4 0 64 32 64 64s-25.6 64-64 64z m0 64c12.8 0 19.2 0 32-6.4v524.8c-12.8 0-19.2-6.4-32-6.4-70.4 0-128 57.6-128 128 0 12.8 0 19.2 6.4 32H249.6c0-6.4 6.4-19.2 6.4-32 0-70.4-57.6-128-128-128-12.8 0-19.2 0-32 6.4V249.6c6.4 0 19.2 6.4 32 6.4 70.4 0 128-57.6 128-128 0-12.8 0-19.2-6.4-32h524.8c0 6.4-6.4 19.2-6.4 32 0 70.4 57.6 128 128 128zM128 192c-38.4 0-64-32-64-64 0-38.4 32-64 64-64 38.4 0 64 32 64 64s-32 64-64 64z m0 640c38.4 0 64 32 64 64s-32 64-64 64c-38.4 0-64-32-64-64s25.6-64 64-64z m768 0c38.4 0 64 32 64 64s-32 64-64 64c-38.4 0-64-32-64-64s32-64 64-64z" /></symbol>'});o.a.add(r);e.default=r},fDiC:function(t,e){},fLke:function(t,e){},fZic:function(t,e){},fkeY:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("Wc9H"),n=a.n(i),s=a("IaZV"),o=a.n(s),r=new n.a({id:"icon-subnet",use:"icon-subnet-usage",viewBox:"0 0 16 16",content:'<symbol viewBox="0 0 16 16" id="icon-subnet">\r\n<path d="M13.4,8.1c0-0.6,0.5-1.1,1.1-1.1c0.6,0,1.1,0.5,1.1,1.1c0,0.6-0.5,1.1-1.1,1.1S13.4,8.7,13.4,8.1z M15,8.1\r\n\tc0-0.3-0.2-0.5-0.5-0.5c-0.3,0-0.5,0.2-0.5,0.5c0,0.3,0.2,0.5,0.5,0.5C14.8,8.6,15,8.4,15,8.1z M12.2,5.3l-0.2-0.6\r\n\tc1.2,0.5,2.1,1.2,2.6,2.1h-0.6C13.7,6.2,13,5.7,12.2,5.3z M11.8,10.6l-0.6,0.1c0.2-0.8,0.3-1.7,0.3-2.7c0-2.8-1-5.2-2.4-6.2l0-0.6\r\n\tc1.7,0.9,2.9,3.6,2.9,6.8C12.1,9,12,9.8,11.8,10.6z M7.9,2.5c-0.6,0-1.1-0.5-1.1-1.1s0.5-1.1,1.1-1.1c0.6,0,1.1,0.5,1.1,1.1\r\n\tC8.9,2.1,8.5,2.5,7.9,2.5z M8.4,1.5c0-0.3-0.2-0.5-0.5-0.5c-0.3,0-0.5,0.2-0.5,0.5S7.6,2,7.9,2C8.2,2,8.4,1.8,8.4,1.5z M6.6,1.9\r\n\tC6,2.3,5.5,2.9,5.1,3.7L4.5,3.9C5,2.7,5.7,1.8,6.6,1.3L6.6,1.9z M10.4,4.1l0.1,0.6C9.7,4.5,8.8,4.4,7.9,4.4c-2.8,0-5.2,1-6.2,2.4\r\n\tH1.1c0.9-1.7,3.6-2.9,6.8-2.9C8.8,3.8,9.6,3.9,10.4,4.1z M2.3,8.1c0,0.6-0.5,1.1-1.1,1.1c-0.6,0-1.1-0.5-1.1-1.1\r\n\tC0.2,7.5,0.7,7,1.3,7C1.9,7,2.3,7.5,2.3,8.1z M0.8,8.1c0,0.3,0.2,0.5,0.5,0.5s0.5-0.2,0.5-0.5c0-0.3-0.2-0.5-0.5-0.5\r\n\tC1,7.5,0.8,7.8,0.8,8.1z M3.6,10.9l0.1,0.6C2.5,11,1.6,10.2,1.1,9.4h0.6C2.1,10,2.7,10.5,3.6,10.9z M3.9,5.5l0.6-0.2\r\n\tC4.3,6.2,4.2,7.1,4.2,8.1c0,2.8,1,5.2,2.4,6.2v0.6c-1.7-0.9-2.9-3.6-2.9-6.8C3.7,7.2,3.8,6.3,3.9,5.5z M7.9,13.6\r\n\tc0.6,0,1.1,0.5,1.1,1.1c0,0.6-0.5,1.1-1.1,1.1c-0.6,0-1.1-0.5-1.1-1.1C6.8,14.1,7.3,13.6,7.9,13.6z M7.4,14.7c0,0.3,0.2,0.5,0.5,0.5\r\n\tc0.3,0,0.5-0.2,0.5-0.5c0-0.3-0.2-0.5-0.5-0.5C7.6,14.1,7.4,14.4,7.4,14.7z M9.2,14.2c0.6-0.4,1.1-1,1.5-1.9l0.6-0.1\r\n\tc-0.5,1.2-1.2,2.1-2.1,2.6L9.2,14.2z M6.4,6.6c0.8-0.8,2.2-0.8,3,0c0.8,0.8,0.8,2.2,0,3c-0.8,0.8-2.2,0.8-3,0\r\n\tC5.6,8.7,5.6,7.4,6.4,6.6z M9,9.2c0.6-0.6,0.6-1.6,0-2.2s-1.6-0.6-2.2,0s-0.6,1.6,0,2.2C7.4,9.8,8.4,9.8,9,9.2z M7.1,8.8\r\n\tc0.3,0.3,0.6,0.4,0.9,0.3l0.1,0.3C7.7,9.4,7.3,9.3,7,9L7.1,8.8z M8.6,8.8C9,8.4,9,7.7,8.6,7.3l0.2-0.2c0.5,0.5,0.5,1.4,0,1.9\r\n\tC8.7,9.1,8.6,9.2,8.4,9.3L8.3,9C8.4,9,8.5,8.9,8.6,8.8z M14.7,9.4c-0.9,1.7-3.6,2.9-6.8,2.9c-0.9,0-1.8-0.1-2.7-0.3l-0.1-0.6\r\n\tc0.8,0.2,1.8,0.3,2.7,0.3c2.8,0,5.2-1,6.2-2.4C14.1,9.4,14.7,9.4,14.7,9.4z" />\r\n</symbol>'});o.a.add(r);e.default=r},fyP6:function(t,e){},g666:function(t,e){},gDSR:function(t,e){},gI5J:function(t,e){},gxt6:function(t,e){},hHog:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("Wc9H"),n=a.n(i),s=a("IaZV"),o=a.n(s),r=new n.a({id:"icon-vpc",use:"icon-vpc-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" id="icon-vpc"><path d="M729.6 262.4c-44.8-89.6-140.8-153.6-249.6-153.6-147.2 0-268.8 115.2-275.2 256C96 390.4 19.2 486.4 19.2 595.2c0 128 108.8 236.8 243.2 243.2h460.8c153.6 0 275.2-128 275.2-288 6.4-153.6-115.2-281.6-268.8-288z m-96 403.2c0 19.2-12.8 32-32 32h-256c-19.2 0-32-12.8-32-32s12.8-32 32-32h256c19.2 0 32 12.8 32 32z m0-121.6c0 19.2-12.8 32-32 32h-256c-19.2 0-32-12.8-32-32s12.8-32 32-32h256c19.2 0 32 12.8 32 32z m0-128c0 19.2-12.8 32-32 32h-256c-19.2 0-32-12.8-32-32 0-12.8 12.8-32 32-32h256c19.2 0 32 19.2 32 32z m96 288c-19.2 0-32-12.8-32-32s12.8-32 32-32 32 12.8 32 32c0 12.8-12.8 32-32 32z m0-128c-19.2 0-32-12.8-32-32s12.8-32 32-32 32 12.8 32 32-12.8 32-32 32z m0-121.6c-19.2 0-32-12.8-32-32s12.8-32 32-32 32 12.8 32 32-12.8 32-32 32z" /></symbol>'});o.a.add(r);e.default=r},i2Kp:function(t,e){},jR4E:function(t,e,a){"use strict";var i=a("e/EN"),n=a.n(i),s=a("u4eq");var o=function(t){a("6WzG")},r=a("VU/8")(n.a,s.a,!1,o,null,null);e.default=r.exports},jVjw:function(t,e,a){t.exports=a.p+"static/img/user-big.7debe92.png"},jWhC:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAARgAAAEYCAIAAAAI7H7bAAAFHElEQVR4nO3dUY7bOBQAwXgx97/y7AUSc7GvOaScqt/Akkdwgx96IV/f39+/gJl/Tn8B+ARCgoCQICAkCAgJAkKCgJAgICQICAkCX+//+fV6/cz3+GHLeY6b//DJMMry7xpOutz83CaWj8WKBAEhQUBIEBASBIQEASFBQEgQEBIEhASBxWTDezfv9zB8xf7+T9v6/n44dbF1NGF48Q/+wViRICAkCAgJAkKCgJAgICQICAkCQoKAkCAgJAiMRoSWzo7SXHvrm8eXDj7VR/9arEgQEBIEhAQBIUFASBAQEgSEBAEhQUBIENg72fBcz50PGNq6+ckHsyJBQEgQEBIEhAQBIUFASBAQEgSEBAEhQcBkw+/d/Ar/0XsbfCorEgSEBAEhQUBIEBASBIQEASFBQEgQEBIEhASBvSNCnzpvsnVI5+ZDX7Z69K/FigQBIUFASBAQEgSEBAEhQUBIEBASBIQEgdFkw82vyYeGp5tMPr58qpOPb/3mSx/8g7EiQUBIEBASBIQEASFBQEgQEBIEhAQBIUHg9ej/KH/K1uGDpYMX50+sSBAQEgSEBAEhQUBIEBASBIQEASFBQEgQEBIE9o4Ibd0DZOLsHiCTWw/vvnv7kWt/TrsvbkWCgJAgICQICAkCQoKAkCAgJAgICQJCgsCDNz85OHywdPD8krMnrxw8cmYrkw3wE4QEASFBQEgQEBIEhAQBIUFASBAQEgSEBIGvyYfPnvNzcO+UpeceYXTwqZ7d7mbIigQBIUFASBAQEgSEBAEhQUBIEBASBIQEgcXmJwd3q9h68srNswVLNx85M3Hzti1LViQICAkCQoKAkCAgJAgICQJCgoCQICAkCIwmG4YO7tmw+yX6zftJbHXtQMnuW1uRICAkCAgJAkKCgJAgICQICAkCQoKAkCAgJAgsjnU5uB/F8NZb54/OOjgpw59YkSAgJAgICQJCgoCQICAkCAgJAkKCgJAgsJhs+GtPEBne/eCRM1ttPWtnaXLx3aMqViQICAkCQoKAkCAgJAgICQJCgoCQICAkCCyOdVl8+NwpHcu7f/CeDVt3wjh7HM4+JhvgAYQEASFBQEgQEBIEhAQBIUFASBAQEgSEBIHFiNBwYMS8yf+wdXzp5p1VhrZuKbN85lYkCAgJAkKCgJAgICQICAkCQoKAkCAgJAiMNj/5YDePTTx385PJrZd3P3sOkBUJAkKCgJAgICQICAkCQoKAkCAgJAgICQJCgsDX+3/+1L0ylhMfZ2dh3rt5quvgdjdnT8SyIkFASBAQEgSEBAEhQUBIEBASBIQEASFBYDHZ8N5zX7EPP/7oLUS2OviTOPjMf1mRICEkCAgJAkKCgJAgICQICAkCQoKAkCAwmmxYOnvSxj43j028N7z4zXt4nJ2zsSJBQEgQEBIEhAQBIUFASBAQEgSEBAEhQUBIENg7IvRcB/cn2X0AyeTiW7/b8OJnD8uxIkFASBAQEgSEBAEhQUBIEBASBIQEASFBwGTD7219Tb71Df3BnVWGdz84sfFr/NysSBAQEgSEBAEhQUBIEBASBIQEASFBQEgQ2DvZcPakjYnh8MG1x5/s3hBish3FwX0y5ne3IkFASBAQEgSEBAEhQUBIEBASBIQEASFBQEgQeG3diONau2eXJs9t6zYdZ8+MOXjyyu5bW5EgICQICAkCQoKAkCAgJAgICQJCgoCQILCYbAD+CysSBIQEASFBQEgQEBIEhAQBIUFASBAQEgSEBIF/AUjJqSvYp10xAAAAAElFTkSuQmCC"},jfWe:function(t,e){},"k/ad":function(t,e){},kNNH:function(t,e){},ki9m:function(t,e){},"lDE/":function(t,e){},lOfP:function(t,e){},mNVO:function(t,e){},mQjW:function(t,e){},moIx:function(t,e){},nKQA:function(t,e){},nUy3:function(t,e){},nj9Y:function(t,e){},o0y8:function(t,e){},o7bZ:function(t,e){},oMaD:function(t,e){},"oeR+":function(t,e){},omKZ:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("Wc9H"),n=a.n(i),s=a("IaZV"),o=a.n(s),r=new n.a({id:"icon-m_retract",use:"icon-m_retract-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" id="icon-m_retract"><path d="M939 895.7L686.3 643H928c17.7 0 32-14.3 32-32s-14.3-32-32-32H577v349c0 17.7 14.3 32 32 32s32-14.3 32-32V688.3L893.7 941c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3zM383 96v243.7L129.3 86C116.8 73.5 96.5 73.5 84 86s-12.5 32.8 0 45.3L336.7 384H96c-17.7 0-32 14.3-32 32s14.3 32 32 32h351V96c0-17.7-14.3-32-32-32s-32 14.3-32 32zM938 89c-12.5-12.5-32.8-12.5-45.3 0L641 340.7V96c0-17.7-14.3-32-32-32s-32 14.3-32 32v352h351c17.7 0 32-14.3 32-32s-14.3-32-32-32H688.3L938 134.3c12.5-12.5 12.5-32.8 0-45.3zM64 611c0 17.7 14.3 32 32 32h242.7L83 898.7c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L383 689.3V928c0 17.7 14.3 32 32 32s32-14.3 32-32V579H96c-17.7 0-32 14.3-32 32z" /></symbol>'});o.a.add(r);e.default=r},p64U:function(t,e){},pBiH:function(t,e){},pJMe:function(t,e){},pyoj:function(t,e){},qOJh:function(t,e){},qUhK:function(t,e){},"ql+d":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("Wc9H"),n=a.n(i),s=a("IaZV"),o=a.n(s),r=new n.a({id:"icon-edit",use:"icon-edit-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" id="icon-edit"><path d="M376.184755 718.841905c12.428054 0.87288 25.120121-2.876514 35.275411-11.265578l3.447519-1.103124L307.003116 598.572728l-1.100054 3.440355c-8.395204 10.154267-12.148691 22.850427-11.271718 35.288714L256.352529 757.12379 376.184755 718.841905 376.184755 718.841905 376.184755 718.841905z" /><path d="M766.849292 281.922904l-35.294854-35.294854c-19.49296-19.49296-51.095725-19.49296-70.584592 0l-34.195823 34.18866 105.883539 105.883539 34.19173-34.18866C786.343275 333.016583 786.343275 301.411771 766.849292 281.922904L766.849292 281.922904 766.849292 281.922904z" /><path d="M696.258561 423.101297 590.375022 317.218782 344.412121 563.176566 450.296683 669.067268 696.258561 423.101297 696.258561 423.101297Z" /></symbol>'});o.a.add(r);e.default=r},qneb:function(t,e){},qyaU:function(t,e){},"s1/E":function(t,e){},"sAq/":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("Wc9H"),n=a.n(i),s=a("IaZV"),o=a.n(s),r=new n.a({id:"icon-elb",use:"icon-elb-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" id="icon-elb"><path d="M627.2 473.6c-38.4 0-70.4 25.6-70.4 64 0 32 32 64 70.4 64 38.4 0 70.4-25.6 70.4-64-6.4-38.4-32-64-70.4-64zM371.2 684.8c-38.4 0-70.4 25.6-70.4 64 0 32 32 64 70.4 64 38.4 0 70.4-25.6 70.4-64-6.4-38.4-32-64-70.4-64z" /><path d="M851.2 89.6H172.8C108.8 89.6 57.6 134.4 57.6 192v633.6c0 57.6 51.2 102.4 115.2 102.4h678.4c64 0 115.2-44.8 115.2-108.8V192c0-57.6-51.2-102.4-115.2-102.4zM793.6 768H480c-12.8 44.8-57.6 76.8-108.8 76.8s-96-32-108.8-76.8h-32c-12.8 0-25.6-12.8-25.6-25.6s12.8-25.6 25.6-25.6h32c12.8-44.8 57.6-76.8 108.8-76.8s96 32 108.8 76.8h313.6c12.8 0 25.6 12.8 25.6 25.6 6.4 19.2-6.4 25.6-25.6 25.6z m0-204.8h-57.6c-12.8 44.8-57.6 76.8-108.8 76.8s-96-32-108.8-76.8H230.4c-12.8 0-25.6-12.8-25.6-25.6-6.4-19.2 6.4-25.6 25.6-25.6h288c12.8-44.8 57.6-76.8 108.8-76.8s96 32 108.8 76.8h57.6c12.8 0 25.6 12.8 25.6 25.6 6.4 12.8-6.4 25.6-25.6 25.6z m0-211.2H480c-12.8 44.8-57.6 76.8-108.8 76.8s-96-32-108.8-76.8h-32c-12.8 0-25.6-12.8-25.6-25.6s12.8-25.6 25.6-25.6h32c12.8-44.8 57.6-76.8 108.8-76.8s96 32 108.8 76.8h313.6c12.8 0 25.6 12.8 25.6 25.6 6.4 12.8-6.4 25.6-25.6 25.6z" /><path d="M371.2 262.4c-38.4 0-70.4 25.6-70.4 64 0 32 32 64 70.4 64 38.4 0 70.4-25.6 70.4-64-6.4-38.4-32-64-70.4-64z" /></symbol>'});o.a.add(r);e.default=r},sich:function(t,e){},sisO:function(t,e){},"sl+k":function(t,e){},sn6Y:function(t,e){},soRi:function(t,e){},tC3l:function(t,e){},toIl:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("Wc9H"),n=a.n(i),s=a("IaZV"),o=a.n(s),r=new n.a({id:"icon-close",use:"icon-close-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" id="icon-close"><path d="M565.730739 512.020466l382.726751-384.525724c14.842033-14.902408 14.781658-39.040155-0.121773-53.882188-14.933107-14.872732-39.041178-14.781658-53.883211 0.121773l-382.483204 384.251477L129.515772 73.764004c-14.842033-14.933107-38.949081-14.993482-53.883211-0.121773-14.903431 14.842033-14.963807 38.950104-0.121773 53.883211l382.726751 384.495024L75.511811 896.51549c-14.842033 14.903431-14.781658 39.041178 0.121773 53.883211 7.436366 7.405667 17.158798 11.093662 26.880207 11.093662 9.782807 0 19.565615-3.748371 27.001981-11.215436l382.483204-384.251477 382.483204 384.251477c7.436366 7.497765 17.219173 11.215436 27.003004 11.215436 9.721409 0 19.444864-3.687996 26.880207-11.093662 14.902408-14.842033 14.963807-38.949081 0.121773-53.883211L565.730739 512.020466 565.730739 512.020466z" /></symbol>'});o.a.add(r);e.default=r},tvR6:function(t,e){},u4eq:function(t,e,a){"use strict";var i={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("router-view")],1)},staticRenderFns:[]};e.a=i},ugTI:function(t,e){},uoJG:function(t,e){},uwz6:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("Wc9H"),n=a.n(i),s=a("IaZV"),o=a.n(s),r=new n.a({id:"icon-correctInCircle",use:"icon-correctInCircle-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" id="icon-correctInCircle"><path d="M0 512C0 229.234759 229.234759 0 512 0s512 229.234759 512 512-229.234759 512-512 512S0 794.765241 0 512z m419.310345 194.630621a35.310345 35.310345 0 0 0 49.399172 1.271172l335.518897-311.931586a35.310345 35.310345 0 0 0-48.075035-51.729655l-309.124413 289.544827-145.125518-149.645241a35.310345 35.310345 0 1 0-50.688 49.169655l168.112552 173.320828z" /></symbol>'});o.a.add(r);e.default=r},"ux+7":function(t,e){},v8b9:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("Wc9H"),n=a.n(i),s=a("IaZV"),o=a.n(s),r=new n.a({id:"icon-m_refresh",use:"icon-m_refresh-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" id="icon-m_refresh"><path d="M511.706311 959.469288c-19.014052 0-34.440393-15.415085-34.440393-34.440393 0-19.025309 15.426341-34.440393 34.440393-34.440393 208.884424 0 378.843304-169.948647 378.843304-378.843304 0-134.846174-72.602551-260.600273-189.488679-328.20295-16.457834-9.517771-22.086018-30.583552-12.57848-47.052642 9.529027-16.457834 30.628578-22.097274 47.063899-12.567223 138.097218 79.856769 223.88507 228.469482 223.88507 387.823839C959.430402 758.623957 758.573815 959.469288 511.706311 959.469288z" /><path d="M322.598302 913.784806c-5.314029 0-10.718109-1.233084-15.763009-3.834328C157.033499 832.739978 63.981197 680.157861 63.981197 511.745197c0-246.87876 200.857611-447.724091 447.724091-447.724091 19.014052 0 34.440393 15.415085 34.440393 34.440393s-15.426341 34.440393-34.440393 34.440393c-208.884424 0-378.843304 169.948647-378.843304 378.843304 0 142.514831 78.746482 271.632537 205.54333 336.970638 16.906042 8.722662 23.543206 29.485545 14.820544 46.391587C347.127975 906.968563 335.065242 913.784806 322.598302 913.784806z" /><path d="M734.61003 267.908726" /><path d="M713.553459 332.142679c-19.014052 0-34.390251-15.415085-34.390251-34.440393L679.163207 148.461263c0-19.025309 15.657608-35.234479 34.671661-35.234479l149.241023 0c19.014052 0 34.440393 16.183588 34.440393 35.208896s-15.426341 35.208896-34.440393 35.208896l-115.13218 0L747.94371 297.703309C747.94371 316.727595 732.567511 332.142679 713.553459 332.142679z" /><path d="M327.997266 920.534534 178.75522 920.534534c-19.014052 0-34.440393-15.364943-34.440393-34.390251 0-19.025309 15.426341-34.390251 34.440393-34.390251l115.136274 0L293.891494 737.174436c0-19.025309 15.376199-34.440393 34.390251-34.440393 19.014052 0 34.390251 15.415085 34.390251 34.440393l0 149.241023C362.67302 905.440767 347.011318 920.534534 327.997266 920.534534z" /></symbol>'});o.a.add(r);e.default=r},vH9T:function(t,e){},vNyW:function(t,e){},vSVV:function(t,e){},vZxJ:function(t,e){},vd32:function(t,e){},vz8u:function(t,e){},w78J:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("Wc9H"),n=a.n(i),s=a("IaZV"),o=a.n(s),r=new n.a({id:"icon-nic",use:"icon-nic-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" id="icon-nic"><path d="M979.2 512C979.2 256 768 44.8 512 44.8S44.8 256 44.8 512 256 979.2 512 979.2c12.8 0 25.6-12.8 25.6-25.6s-12.8-19.2-25.6-19.2c-230.4 0-422.4-185.6-422.4-422.4S275.2 89.6 512 89.6c230.4 0 422.4 185.6 422.4 422.4 0 108.8-38.4 204.8-108.8 281.6-6.4 6.4-6.4 12.8-6.4 12.8 0 12.8 12.8 25.6 25.6 25.6s19.2-6.4 25.6-12.8c64-83.2 108.8-192 108.8-307.2z" /><path d="M428.8 307.2l57.6-57.6v192c0 12.8 6.4 19.2 19.2 19.2 12.8 0 19.2-6.4 19.2-19.2v-192l57.6 57.6c6.4 6.4 19.2 6.4 32 0s6.4-19.2 0-32L524.8 185.6c-6.4-6.4-12.8-6.4-19.2-6.4-6.4 0-12.8 0-12.8 6.4L403.2 275.2c-6.4 6.4-6.4 19.2 0 32s19.2 6.4 25.6 0zM844.8 505.6l-89.6-89.6c-6.4-6.4-19.2-6.4-32 0s-6.4 19.2 0 32l57.6 57.6h-192c-12.8-6.4-19.2 0-19.2 12.8s6.4 19.2 19.2 19.2h192l-57.6 57.6c-6.4 6.4-6.4 19.2 0 32s19.2 6.4 32 0l89.6-89.6c6.4-6.4 6.4-12.8 6.4-12.8 0-12.8 0-19.2-6.4-19.2zM588.8 729.6l-57.6 57.6v-192c0-12.8-6.4-19.2-19.2-19.2-12.8 0-19.2 6.4-19.2 19.2v192l-57.6-57.6c-6.4-6.4-19.2-6.4-32 0s-6.4 19.2 0 32l89.6 89.6c6.4 6.4 12.8 6.4 12.8 6.4 6.4 0 12.8 0 12.8-6.4l89.6-89.6c6.4-6.4 6.4-19.2 0-32s-6.4-6.4-19.2 0zM243.2 537.6h192c12.8 0 19.2-6.4 19.2-19.2 0-12.8-6.4-19.2-19.2-19.2h-192l57.6-57.6c6.4-6.4 6.4-19.2 0-32-6.4-6.4-19.2-6.4-32 0L179.2 505.6s-6.4 6.4-6.4 12.8 0 12.8 6.4 12.8l89.6 89.6c6.4 6.4 19.2 6.4 32 0 6.4-6.4 6.4-19.2 0-32l-57.6-51.2z" /></symbol>'});o.a.add(r);e.default=r},wD20:function(t,e){},wHbL:function(t,e){},wJHD:function(t,e){},wJqF:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("Wc9H"),n=a.n(i),s=a("IaZV"),o=a.n(s),r=new n.a({id:"icon-privateVPC",use:"icon-privateVPC-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" id="icon-privateVPC"><path d="M883.2 800v-121.6c0-12.8-6.4-19.2-19.2-19.2H531.2V544v-6.4c32 0 57.6-6.4 83.2-19.2 140.8-57.6 204.8-217.6 147.2-352C716.8 64 620.8 0 512 0c-38.4 0-70.4 6.4-102.4 19.2-64 25.6-121.6 76.8-147.2 147.2s-25.6 140.8 0 204.8c38.4 96 128 160 230.4 166.4V659.2H160c-12.8 0-19.2 6.4-19.2 19.2v121.6c-51.2 6.4-96 57.6-96 108.8 0 64 51.2 115.2 115.2 115.2s115.2-51.2 115.2-115.2c0-57.6-38.4-102.4-96-108.8v-102.4h313.6v102.4c-51.2 6.4-96 57.6-96 108.8 0 64 51.2 115.2 115.2 115.2s115.2-51.2 115.2-115.2c0-57.6-38.4-102.4-96-108.8v-102.4h313.6v102.4c-51.2 6.4-96 57.6-96 108.8 0 64 51.2 115.2 115.2 115.2s115.2-51.2 115.2-115.2c0-57.6-44.8-102.4-96-108.8zM294.4 345.6c-19.2-51.2-19.2-102.4 0-153.6h64c-6.4 25.6-6.4 51.2-6.4 76.8 0 25.6 6.4 51.2 6.4 76.8h-64z m96-76.8c0-25.6 0-51.2 6.4-76.8h96v153.6H396.8c-6.4-25.6-6.4-51.2-6.4-76.8zM729.6 192c19.2 51.2 19.2 108.8 0 153.6h-64c6.4-25.6 6.4-51.2 6.4-76.8 0-25.6 0-51.2-6.4-76.8h64zM640 268.8c0 25.6-6.4 51.2-12.8 76.8H531.2V192h96c6.4 25.6 12.8 51.2 12.8 76.8zM531.2 499.2V384h83.2c-19.2 57.6-51.2 102.4-83.2 115.2z m0-345.6V44.8c38.4 12.8 70.4 57.6 89.6 115.2 0-6.4-89.6-6.4-89.6-6.4zM492.8 44.8v115.2H409.6c19.2-64 51.2-102.4 83.2-115.2z m0 339.2v108.8c-32-12.8-64-57.6-83.2-108.8h83.2z m115.2 96c19.2-25.6 38.4-64 51.2-96h57.6c-25.6 44.8-64 76.8-108.8 96z m108.8-326.4h-57.6c-6.4-25.6-19.2-44.8-25.6-64-6.4-12.8-12.8-19.2-19.2-25.6 38.4 19.2 76.8 51.2 102.4 89.6zM416 57.6c-6.4 12.8-12.8 19.2-19.2 32-12.8 19.2-19.2 44.8-25.6 64h-64c25.6-38.4 64-70.4 108.8-96zM307.2 384h64c12.8 38.4 25.6 70.4 51.2 102.4-44.8-19.2-89.6-57.6-115.2-102.4z m-70.4 524.8c0 38.4-32 76.8-76.8 76.8s-76.8-32-76.8-76.8 32-76.8 76.8-76.8 76.8 38.4 76.8 76.8z m352 0c0 38.4-32 76.8-76.8 76.8s-76.8-32-76.8-76.8S467.2 832 512 832s76.8 38.4 76.8 76.8z m275.2 76.8c-38.4 0-76.8-32-76.8-76.8s32-76.8 76.8-76.8 76.8 32 76.8 76.8-32 76.8-76.8 76.8z" /></symbol>'});o.a.add(r);e.default=r},wXBK:function(t,e){},"wbA/":function(t,e){},"wc+t":function(t,e){},wenA:function(t,e){},xRXf:function(t,e){},xWF7:function(t,e){},xgIu:function(t,e){},xjlC:function(t,e){},xpYR:function(t,e){},"xz/E":function(t,e,a){t.exports=a.p+"static/img/vpcDetail.2d4bda2.png"},y1ZR:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("Wc9H"),n=a.n(i),s=a("IaZV"),o=a.n(s),r=new n.a({id:"icon-Egress",use:"icon-Egress-usage",viewBox:"0 0 1241 1024",content:'<symbol class="icon" viewBox="0 0 1241 1024" id="icon-Egress"><path d="M597.333333 77.575758L302.545455 356.848485s-7.757576 15.515152-7.757576 23.272727c0 7.757576 0 15.515152 7.757576 23.272727 15.515152 15.515152 38.787879 15.515152 46.545454 0l224.969697-217.212121v550.787879c0 23.272727 15.515152 38.787879 38.787879 38.787879s38.787879-15.515152 38.787879-38.787879V186.181818l224.969697 217.212121c15.515152 15.515152 38.787879 15.515152 46.545454 0 0 0 7.757576-15.515152 7.757576-23.272727s0-15.515152-7.757576-23.272727L643.878788 77.575758c0-7.757576-15.515152-7.757576-23.272727-7.757576-7.757576 0-15.515152 0-23.272728 7.757576z" /><path d="M1132.606061 713.69697c-23.272727 0-38.787879 15.515152-38.787879 38.787878V853.333333c0 15.515152-7.757576 23.272727-23.272727 23.272728H162.909091c-15.515152 0-23.272727-7.757576-23.272727-23.272728V744.727273c0-23.272727-15.515152-38.787879-38.787879-38.787879s-31.030303 23.272727-31.030303 38.787879V853.333333c0 46.545455 46.545455 93.090909 93.090909 93.090909h907.636364c46.545455 0 93.090909-46.545455 93.090909-93.090909V744.727273c0-15.515152-15.515152-31.030303-31.030303-31.030303z" /></symbol>'});o.a.add(r);e.default=r},y5Ea:function(t,e){},yObd:function(t,e){},"yp+Y":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("Wc9H"),n=a.n(i),s=a("IaZV"),o=a.n(s),r=new n.a({id:"icon-m_add",use:"icon-m_add-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" id="icon-m_add"><path d="M864 448 512 448 512 96C512 78.08 497.92 64 480 64 462.08 64 448 78.08 448 96L448 448 96 448C78.08 448 64 462.08 64 480 64 497.92 78.08 512 96 512L448 512l0 352C448 881.92 462.08 896 480 896 497.92 896 512 881.92 512 864L512 512l352 0C881.92 512 896 497.92 896 480 896 462.08 881.92 448 864 448z" /></symbol>'});o.a.add(r);e.default=r},ywDs:function(t,e){},yzMZ:function(t,e){},"z+0B":function(t,e){},zAji:function(t,e,a){t.exports=a.p+"static/img/404.401e307.png"},zOYE:function(t,e){},zUT6:function(t,e){},zV4Q:function(t,e){}},[0]);
//# sourceMappingURL=app.0729f258b7d3d03ca235.js.map